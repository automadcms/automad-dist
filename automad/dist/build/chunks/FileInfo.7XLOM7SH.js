/* Automad 2.0.0-alpha.47, (c) 2025 Marc Anton Dahmen, MIT license */
import{M as r,a,k as m,v as o}from"./chunk.ETUXSY6N.js";import{a as l}from"./chunk.TNS2LIBN.js";import"./chunk.44XCHEAG.js";import"./chunk.EPACJLJA.js";var n=class extends m{connectedCallback(){this.listen(this,"click",()=>{if(!this.data)return;let e=this.createModal(this.data);setTimeout(()=>{e.open()},0)})}createModal(e){let t=l("am-modal",[],{"am-destroy":""},document.body);return t.innerHTML=this.renderModal(e),t}renderModal(e){let t="";return a.fileTypesImage.includes(e.extension)&&(t=o("am-textarea-field",null,{key:"caption",value:e.caption,name:"caption",label:a.text("imageCaption")},[]).outerHTML),r`<am-form ${"am-api"}="${"FileController::editInfo"}" ${"am-event"}="${"AutomadFilesChangeOnServer"}" class="${"am-c-modal__dialog"}" ><am-modal-header>${a.text("editFileInfo")}</am-modal-header><input type="hidden" name="old-name" value="${e.basename}" /><am-modal-body>${o("am-input-field",null,{key:"new-name",value:e.basename,name:"new-name",label:a.text("fileName")},[]).outerHTML} ${t}</am-modal-body><am-modal-footer><a href="${a.baseURL}${e.url}" class="${"am-e-button"}" target="_blank" > ${a.text("downloadFile")}</a><am-submit class="${"am-e-button"} ${"am-e-button--primary"}"> ${a.text("save")}</am-submit></am-modal-footer></am-form>`}};customElements.define("am-file-info",n);export{n as FileInfoComponent};
