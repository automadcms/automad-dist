/* Automad 2.0.0-alpha.47, (c) 2025 Marc Anton Dahmen, MIT license */
import{a as d}from"./chunk.CNBJAA5I.js";import"./chunk.WA2JRMRZ.js";import{I as r,M as m,a,da as c,y as l}from"./chunk.ETUXSY6N.js";import{e as n}from"./chunk.TNS2LIBN.js";import"./chunk.44XCHEAG.js";import"./chunk.EPACJLJA.js";var o=class extends d{async submit(){if(this.hasAttribute("disabled"))return;let{modal:i,body:e,button:u}=l(a.text("selectTargetMovePage"),a.text("ok"));e.innerHTML=m`<label class="${"am-c-nav__item"}"><input type="radio" name="targetPage" value="" tabindex="0" /><span class="${"am-c-nav__link"}"><am-icon-text ${"am-icon"}="folder2" ${"am-text"}="${a.text("sharedTitle")}" ></am-icon-text></span></label><hr /><am-page-select-tree></am-page-select-tree>`;let s=c();this.listen(e,"change",()=>{let{targetPage:t}=r(e);s=t}),this.listen(u,"click",()=>{this.relatedForms.forEach(t=>{t.additionalData={action:"move",target:s},t.submit()})}),i.setAttribute("am-no-focus",""),i.open(),setTimeout(()=>{n(":focus",e)?.blur()},0)}};customElements.define("am-file-collection-move",o);
