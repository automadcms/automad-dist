/* Automad 2.0.0-alpha.47, (c) 2025 Marc Anton Dahmen, MIT license */
import{B as n,P as l,Q as d,S as r,a as t,e as o,k as c}from"./chunk.ETUXSY6N.js";import"./chunk.TNS2LIBN.js";import"./chunk.44XCHEAG.js";import"./chunk.EPACJLJA.js";var s=class extends c{connectedCallback(){this.classList.add("am-u-display-none","am-e-button"),this.textContent=t.text("packagesUpdateAll"),this.init(),this.listen(window,"AutomadPackagesUpdateCheck",this.init.bind(this)),this.listen(this,"click",async()=>{let e=n(t.text("packagesUpdatingAll"));e.open();let{error:a,success:i}=await r("PackageManagerController::updateAll");a&&l(a),i&&d(i),e.close(),o("AutomadPackagesChange"),t.checkForOutdatedPackages()})}async init(){let e=t.state.outdatedPackages>0;this.classList.toggle("am-u-display-none",!e)}};customElements.define("am-update-all-packages",s);
