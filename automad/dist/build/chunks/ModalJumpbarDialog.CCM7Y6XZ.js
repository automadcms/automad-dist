/* Automad 2.0.0-alpha.48, (c) 2025 Marc Anton Dahmen, MIT license */
import{a as m}from"./chunk.ANH4HICU.js";import{M as c,a as e}from"./chunk.DFXEN6GE.js";import{a as o}from"./chunk.G4EF3EQN.js";import"./chunk.GP2ROWMN.js";import"./chunk.KC7M4D2V.js";var p=()=>[{target:"search",value:e.text("searchTitle"),title:e.text("searchTitle"),icon:"search",cls:["am-c-modal__jumpbar-divider"]}],d=()=>[{external:e.baseIndex||"/",value:e.text("inPageEdit"),title:e.text("inPageEdit"),icon:"window-desktop",cls:["am-c-modal__jumpbar-divider"]}],g=()=>{let s=(r,n,u)=>({target:`system?section=${r}`,value:`${e.text("systemTitle")} ${e.text(n)}`,title:e.text(n),subtitle:e.text("systemTitle"),icon:u,cls:["am-c-modal__jumpbar-divider-system"]}),t=e.isCloud?[]:[s("mail","systemMail","envelope")],a=e.isCloud?[]:[s("debug","systemDebug","bug")];return[s("cache","systemCache","device-ssd"),s("users","systemUsers","person-badge"),s("feed","systemRssFeed","rss"),...t,s("i18n","systemI18n","globe"),s("language","systemLanguage","translate"),...a,s("update","systemUpdate","arrow-repeat")]},h=()=>[{target:"shared",value:e.text("sharedTitle"),title:e.text("sharedTitle"),icon:"file-earmark-medical",cls:["am-c-modal__jumpbar-divider"]}],b=()=>[{target:"components",value:e.text("componentsTitle"),title:e.text("componentsTitle"),icon:"boxes",cls:["am-c-modal__jumpbar-divider"]}],v=()=>[{target:"packages?section=packages",value:e.text("packagesSwitcherTitle"),title:e.text("packagesSwitcherTitle"),icon:"box-seam",cls:["am-c-modal__jumpbar-divider-packages"]},{target:"packages?section=repositories",value:`${e.text("repositoriesSwitcherTitle")} (packages)`,title:e.text("repositoriesSwitcherTitle"),icon:"git",cls:["am-c-modal__jumpbar-divider-packages"]}],D=()=>[{target:"trash",value:e.text("trashTitle"),title:e.text("trashTitle"),icon:"trash3",cls:["am-c-modal__jumpbar-divider"]}],x=()=>{let s=[],t=Object.values(e.pages);return t.sort((a,i)=>a.lastModified<i.lastModified?1:i.lastModified<a.lastModified?-1:0),t.forEach(a=>{let i=a.private?"eye-slash-fill":"file-earmark-text";s.push({target:`page?url=${a.url}`,value:`${a.title} ${a.url}`,title:a.title,subtitle:a.url,icon:i})}),s},I=()=>[].concat(p(),d(),g(),h(),b(),v(),D(),x()),l=class extends m{get data(){return I()}initialIndex=0;get minInputLength(){return 0}elementClasses=["am-c-modal__dialog"];inputClasses=["am-c-modal__jumpbar-input"];itemsClasses=["am-c-modal__jumpbar-items"];linkClass="am-c-modal__jumpbar-link";linkActiveClass="am-active";createItemElement(t){let a={};t.external&&(a["am-external"]=t.external),t.target&&(a["am-target"]=t.target);let i=t.cls||[],r=o("am-link",i.concat("am-c-modal__jumpbar-link"),a);return r.innerHTML=this.itemHtml(t.icon,t.title,t.subtitle),r}createItemValue(t){return t.value.toLowerCase()}itemHtml(t,a,i){return c`<span class="${"am-c-icon-text"}"><i class="bi bi-${t}"></i><span>$${a}</span><span class="${"am-u-text-muted"}">$${i||""}</span></span>`}update(){let t=this.itemsFiltered[0];t.element.setAttribute("am-target",`search?search=${encodeURIComponent(this.input.value).replace(/%20/g,"+")}`),t.value=`${t.value} ${this.input.value.toLowerCase()}`,t.element.innerHTML=this.itemHtml(t.item.icon,t.item.title,this.input.value),this.maxItems=Math.floor((window.innerHeight-150)/46),super.update()}close(){this.selectedIndex=this.initialIndex,this.toggleActiveItemStyle()}open(){this.update()}select(t){t.preventDefault(),this.selectedIndex!==null&&this.itemsFiltered[this.selectedIndex].element.click(),this.close()}disconnectedCallback(){super.disconnectedCallback(),this.itemsFiltered=null,this.items.forEach(({element:t})=>{t.remove()}),this.items=null}};customElements.define("am-modal-jumpbar-dialog",l);
