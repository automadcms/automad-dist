/* Automad, (c) Marc Anton Dahmen, MIT license */
import{a as h}from"./chunk.BAHWRPAH.js";import{L as a}from"./chunk.KG3NJGTQ.js";import{a as s,d as o}from"./chunk.SQMRGQ3J.js";import"./chunk.ZTO3KGQP.js";import"./chunk.2NNYUVDG.js";var n=class extends h{createInput(){let{name:e,id:t,value:l,placeholder:p}=this._data,i=s("textarea",["am-f-input"],{id:t,name:e,placeholder:p,wrap:"off"},this);i.textContent=l,this.initAutoResize(i),this.listeners.push(a(i))}initAutoResize(e){let t=o(()=>{this.fitContent(e)},50);this.listen(e,"keyup focus focusout drop paste",t),this.listen(window,"resize",t),t()}fitContent(e){let t=s("div",["am-f-input"],{style:`position: absolute; height: auto; width: ${e.offsetWidth}; white-space: pre-line; opacity: 0;`},this);t.textContent=e.value+"-",e.style.height=`${t.offsetHeight+15}px`,t.remove()}};customElements.define("am-textarea-field",n);
