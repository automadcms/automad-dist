/* Automad, (c) Marc Anton Dahmen, MIT license */
import{a as S}from"./chunk.BAHWRPAH.js";import{G as h,M as f,a as d,e as p,q as o}from"./chunk.KG3NJGTQ.js";import{a as i,e as m}from"./chunk.SQMRGQ3J.js";import"./chunk.ZTO3KGQP.js";import"./chunk.2NNYUVDG.js";var c={group:"feedFields",direction:"vertical",animation:200,dataIdAttr:"data-field",draggable:".am-c-feed-field-select__item",handle:".am-c-feed-field-select__item",ghostClass:"am-c-feed-field-select__item--ghost",chosenClass:"am-c-feed-field-select__item--chosen",dragClass:"am-c-feed-field-select__item--drag"},u=class extends S{connectedCallback(){super.connectedCallback(),setTimeout(()=>{this.init(),this.listen(this.input,"change AutomadChangeByBinding",this.init.bind(this))},0)}createLabel(){}createInput(){let{name:e,value:t}=this._data;i("input",[],{type:"hidden",name:e,value:t},this)}init(){let e=m("section",this);e&&e.remove(),e=i("section",[],{},this);let t=JSON.parse(this.input.value||"[]"),l=d.contentFields.filter(a=>!t.includes(a)),r=this.createSortable(t,d.text("systemRssFeedFieldsInfoUsed"),[],e);i("div",["am-c-feed-field-select__arrows"],{},e,'<i class="bi bi-arrow-down-up"></i>');let s=this.createSortable(l,d.text("systemRssFeedFieldsInfoUnused"),["am-c-feed-field-select--muted"],e),n=new o(r,Object.assign({},c,{onSort:a=>{this.input.value=JSON.stringify(n.toArray()),p("input",this.input)}}));new o(s,c)}createSortable(e,t,l,r){let s=i("div",[].concat(l,["am-c-feed-field-select"]),{"data-text":t},r);return e.forEach(n=>{let a=i("div",["am-c-feed-field-select__item"],{[c.dataIdAttr]:n},s);a.innerHTML=f`<span>${h(n)}</span><i class="bi bi-grip-vertical"></i>`}),s}};customElements.define("am-feed-field-select-field",u);
