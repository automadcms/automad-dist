/* Automad 2.0.0-alpha.48, (c) 2025 Marc Anton Dahmen, MIT license */
import{B as d,M as i,P as x,Q as $,S as y,a as e,e as p,k as m,x as l}from"./chunk.DFXEN6GE.js";import{a as r}from"./chunk.G4EF3EQN.js";var n=class extends m{static TAG_NAME="am-repository-card";set data(t){this.render(t)}render(t){this.classList.add("am-c-card"),r("div",["am-u-flex__item-grow"],{},this,i`<span class="${"am-c-card__icon"}"><i class="bi bi-${t.platform}"></i></span><div class=${"am-c-card__title"}>${t.name}</div><a href="${t.repositoryUrl}" class="${"am-c-card__body"}" target="_blank" ><am-icon-text ${"am-icon"}="chat-left" ${"am-text"}="${t.description}" title="${t.description}" ></am-icon-text><am-icon-text ${"am-icon"}="box-seam" ${"am-text"}="${t.repositoryUrl}" title="${t.repositoryUrl}" ></am-icon-text><am-icon-text ${"am-icon"}="tag" ${"am-text"}="${t.branch}" ></am-icon-text></a>`);let a=r("div",["am-c-card__buttons"],{},this),f=r("button",[],{},a,i`<span>${e.text("repositoryRemove")}</span>`);this.listen(f,"click",async()=>{let{modal:s,form:o}=l("PackageManagerController::removeRepository","AutomadRepositoriesChange","",e.text("repositoryRemove"));o.textContent=e.text("repositoryRemoveConfirm"),o.additionalData={name:t.name},setTimeout(()=>{s.open()},0)});let h=r("button",[],{},a,i`<span>${e.text("repositoryUpdate")}</span>`);this.listen(h,"click",async()=>{let s=d(e.text("repositoryUpdating"));s.open();let{error:o,success:c}=await y("PackageManagerController::updateRepository",{name:t.name});s.close(),p("AutomadRepositoriesChange"),o&&x(o),c&&$(c)})}};customElements.define(n.TAG_NAME,n);export{n as a};
