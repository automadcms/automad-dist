/* Automad 2.0.0-alpha.48, (c) 2025 Marc Anton Dahmen, MIT license */
import{a as c,k as p,na as u}from"./chunk.DFXEN6GE.js";import{a as r,d as a,f as d}from"./chunk.G4EF3EQN.js";import"./chunk.GP2ROWMN.js";import"./chunk.KC7M4D2V.js";var s=class extends p{static get observedAttributes(){return["placeholder"]}get targetSelector(){return this.getAttribute("am-target")||"section [am-api] .am-c-field:not(am-title-field):not(.am-c-card .am-c-field), .am-c-card, .am-c-alert, .am-l-grid, hr, p"}connectedCallback(){let t=this.render();this.classList.add("am-c-filter"),this.listen(t,"input",a(()=>{this.filter(t)},200)),this.listen(window,"AutomadSwitcherChange",()=>{t.value="",this.filter(t)}),this.addListener(u("k",()=>{t.focus()})),this.listen(t,"keydown",e=>{e.keyCode==27&&t.blur()})}filter(t){let e=t.value.toLowerCase().split(" ");d(this.targetSelector).forEach(o=>{for(var l=!1,i=0;i<e.length;i++)if(o.textContent.toLowerCase().indexOf(e[i])==-1){l=!0;break}o.classList.toggle("am-u-display-none",l)})}render(){let t=c.text(this.elementAttributes.placeholder),e=r("input",["am-c-filter__input","am-f-input"],{placeholder:t},this),n=r("span",["am-c-filter__key-combo"],{},this);return r("am-key-combo-badge",[],{"am-key":"K"},n),e}};customElements.define("am-filter",s);
