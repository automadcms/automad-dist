/* Automad 2.0.0-alpha.47, (c) 2025 Marc Anton Dahmen, MIT license */
import{a as h}from"./chunk.BC66SMYZ.js";import{M as g,a as p,b as m,e as d,fa as v,s as u,z as b}from"./chunk.ETUXSY6N.js";import{a as e}from"./chunk.TNS2LIBN.js";import"./chunk.44XCHEAG.js";import"./chunk.EPACJLJA.js";var s=class extends h{createInput(){let{name:t,id:i,value:a,placeholder:r}=this._data,o=e("span",["am-c-image-select"],{},this),n=e("input",["am-f-input"],{id:i,name:t,type:"text",placeholder:r,value:a}),w=this.createPreview(o,n,i),c=e("div",["am-c-image-select__combo"],{},o);c.appendChild(n);let M=this.createModalButton(c),l=()=>{b(f=>{n.value=f,d("change",n)},this._data.label,n.value)};this.listen(M,"click",l.bind(this)),this.listen(w,"click",l.bind(this))}createPreview(t,i,a){let r=`imageSelectComponent_preview_${a}`;return new m(r,{input:i,modifier:o=>v(o.split("?")[0])}),e(u.TAG_NAME,["am-c-image-select__preview"],{"am-bind":r,"am-bind-to":"src"},t)}createModalButton(t){return e("button",["am-e-button"],{},t,g`<i class="bi bi-folder"></i><span>${p.text("browseFiles")}</span>`)}};customElements.define("am-image-field",s);
