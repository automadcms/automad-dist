/* Automad 2.0.0-alpha.47, (c) 2025 Marc Anton Dahmen, MIT license */
import{F as b,G as m,N as f,a as h,ca as A,k as c}from"./chunk.ETUXSY6N.js";import{a as s,e as u,f as p}from"./chunk.TNS2LIBN.js";var v=class extends c{constructor(){super(...arguments);this.linkLabel=!0}get isSpellchecked(){return this.hasAttribute("spellcheck")}get input(){return u("[name]",this)}set data({key:t,value:e,name:l,id:i,tooltip:r,options:a,label:d,placeholder:n,isInPage:o}){i=i??b(t),e=typeof e>"u"?"":e,r=f(r||""),d=d||m(t),n=n||"",o=o??!1,this._data={name:l,id:i,label:d,value:e,tooltip:r,options:a,placeholder:n,isInPage:o},this.create()}connectedCallback(){this.classList.add("am-c-field")}getValueProvider(){return this.input}mutate(t){this.input.value=t}query(){return this.input.value}create(){this.createLabel(),this.createInput(),this.applyAttributes(),A.attach(this)}createLabel(){let{label:t,tooltip:e,isInPage:l}=this._data;if(l||!t)return;let i={};this.linkLabel&&(i.for=this._data.id);let r=s("div",[],{},this),a=s("label",["am-c-field__label"],i,r);s("span",[],{},a).textContent=t,e&&(s("i",["bi","bi-lightbulb"],{},a),a.setAttribute("am-tooltip",e))}applyAttributes(){p("input, textarea",this).forEach(t=>{this.hasAttribute("required")&&(t.setAttribute("pattern",".*\\S.*"),t.setAttribute("required",""),this.removeAttribute("required"),this.hasAttribute("am-error")||this.setAttribute("am-error",h.text("requiredField"))),t.setAttribute("spellcheck",this.isSpellchecked?"true":"false"),["am-bind","am-bind-to","am-toggle","disabled","pattern"].forEach(e=>{this.hasAttribute(e)&&(t.setAttribute(e,this.getAttribute(e)),this.removeAttribute(e))})})}};export{v as a};
