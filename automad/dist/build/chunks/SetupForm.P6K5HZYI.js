/* Automad 2.0.0-alpha.47, (c) 2025 Marc Anton Dahmen, MIT license */
import{b as s}from"./chunk.5AO24ZZM.js";import"./chunk.MZK2ONP3.js";import{M as r}from"./chunk.ETUXSY6N.js";import{a as o}from"./chunk.TNS2LIBN.js";import"./chunk.44XCHEAG.js";import"./chunk.EPACJLJA.js";var t=class extends s{connectedCallback(){this.renderForm()}async processResponse(a){let{data:e}=a;if(e?.php&&e?.filename&&e?.configDir){this.renderSuccess(e.configDir,e.filename);let i=window.URL.createObjectURL(new Blob([e.php],{type:"application/octet-stream"}));o("a",[],{href:i,target:"_blank",download:e.filename}).click()}super.processResponse(a)}renderForm(){this.innerHTML=r`<h2>Create User &mdash; Step 1/2</h2><am-form-error></am-form-error><div class="${"am-c-card"}"><div class="${"am-c-card__body"} ${"am-c-card__body--large"}"><p>Create the first user account using the form below and download the account file to your computer.</p></div><div class="${"am-c-card__form"}"><input class="${"am-f-input"}" type="text" name="username" pattern="${"^[a-z0-9]([a-z0-9_]|-)+[a-z0-9]$"}" placeholder="Username" ${"am-tooltip"}='A username must start and end with a letter or number and can only contain the characters "a-z", "0-9", "_" or "-".' ${"am-tooltip-options"}="placement:right" required /><input class="${"am-f-input"}" type="email" name="email" placeholder="Email" required /><input class="${"am-f-input"}" type="password" name="password1" placeholder="Password" required /><input class="${"am-f-input"}" type="password" name="password2" placeholder="Repeat Password" required /><div class="${"am-c-card__form-buttons"}"><am-submit class="${"am-e-button"} ${"am-e-button--primary"}"> Create Account and Download File</am-submit></div></div></div>`}renderSuccess(a,e){this.innerHTML=r`<h2>Create User &mdash; Step 2/2</h2><div class="${"am-c-card"}"><div class="${"am-c-card__body"} ${"am-c-card__body--large"}"><p>Now, upload the downloaded <code>${e}</code>to your webserver and place it inside <code>${a}</code>. After the file is uploaded, hit the button below in order to sign in.</p></div><div class="${"am-c-card__form"}"><div class="${"am-c-card__form-buttons"}"><a href="./${"login"}" class="${"am-e-button"} ${"am-e-button--primary"}" > I have uploaded the file, let me sign in!</a></div></div></div>`}};customElements.define("am-setup-form",t);export{t as SetupFormComponent};
