/* Automad, (c) Marc Anton Dahmen, MIT license */
import{a as m}from"./chunk.ISSAE2MK.js";import{M as o,P as c,S as p,k as l}from"./chunk.URMIVSL7.js";import{a as n}from"./chunk.SQMRGQ3J.js";import"./chunk.ZTO3KGQP.js";import"./chunk.2NNYUVDG.js";var d=async()=>{let{data:i,error:a}=await p("PackageManagerController::getPackageCollection");if(!i||a)return c(a),[];let e=i.packages;return e.sort((t,s)=>t.installed<s.installed?1:s.installed<t.installed?-1:0),e},r=class extends l{listContainer;connectedCallback(){this.innerHTML=o`<div class="${"am-u-flex"} ${"am-u-flex--gap"}"><am-update-all-packages></am-update-all-packages><am-filter placeholder="packagesFilter" ${"am-target"}="${m.TAG_NAME}" ></am-filter></div>`,this.listContainer=n("div",["am-l-grid"],{},this,"<am-spinner></am-spinner>"),this.init(),this.listen(window,"AutomadPackagesChange",this.init.bind(this))}async init(){let a=await d();this.listContainer.innerHTML="",a.forEach(e=>{let t=n("am-package-card",[],{},this.listContainer);t.data=e})}};customElements.define("am-package-list",r);
