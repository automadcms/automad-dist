/* Automad 2.0.0-alpha.47, (c) 2025 Marc Anton Dahmen, MIT license */
import{b as h}from"./chunk.5AO24ZZM.js";import"./chunk.MZK2ONP3.js";import{C as f,S as u,a as t,ca as g,e as d,ja as v,v as a}from"./chunk.ETUXSY6N.js";import{a as s}from"./chunk.TNS2LIBN.js";import"./chunk.44XCHEAG.js";import"./chunk.EPACJLJA.js";var P=["sendmail","smtp"],i=class extends h{constructor(){super(...arguments);this._config=null}get watch(){return!0}get config(){return this._config}set config(e){this._config=e,this.render()}connectedCallback(){this.config=t.system.mail,this.listen(window,"AutomadAppStateChange",()=>{this.config=t.system.mail})}render(){let e=this.config;this.innerHTML="",this.classList.add("am-u-flex","am-u-flex--column","am-u-flex--gap-large");let o=s("div",[],{},this),n=f(P.map(x=>({value:x})),e.transport,o,"transport");a("am-email-field",o,{key:"from",name:"from",value:e.from,label:`${t.text("emailFrom")} (From)`,placeholder:e.fromDefault});let l=s("div",["am-c-card"],{},this),m=()=>{l.classList.toggle("am-u-display-none",n.value!=="smtp")},r=s("div",["am-c-card__form"],{},l),p=s("div",["am-l-grid","am-l-grid--auto"],{},r);a("am-input-field",p,{key:"smtpServer",name:"smtpServer",value:e.smtpServer,label:"SMTP Server"},[],{pattern:"^\\S*$"}),a("am-input-field",p,{key:"smtpPort",name:"smtpPort",value:e.smtpPort,label:"SMTP Port"},[],{pattern:"^\\d{0,5}$"}),a("am-input-field",r,{key:"smtpUsername",name:"smtpUsername",value:e.smtpUsername,label:`SMTP ${t.text("username")}`},[],{pattern:"^\\S*$"}),a("am-input-field",r,{key:"smtpPassword",name:"smtpPassword",value:"",label:`SMTP ${t.text("password")}`,placeholder:t.system.mail.smtpPasswordIsSet?t.text("systemMailSmtpPasswordPlaceholder"):""}),m(),this.listen(n,"change",m);let c=s("div",["am-u-flex","am-u-flex--gap"],{},this);s("am-submit",["am-e-button","am-e-button--primary"],{disabled:"true"},c,t.text("save"));let S=s("button",["am-e-button","am-e-button--danger"],{},c,t.text("reset"));this.listen(S,"click",async()=>{await v(t.text("systemMailReset"))&&u("MailConfigController::reset",{},!0,()=>{d("AutomadAppStateRequireUpdate"),g.new()})})}};customElements.define("am-mail-config-form",i);export{i as MailConfigFormComponent,P as transportOptions};
