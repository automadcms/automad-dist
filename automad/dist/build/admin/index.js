/* Automad, (c) Marc Anton Dahmen, MIT license */
var Cv=Object.create;var Va=Object.defineProperty;var Av=Object.getOwnPropertyDescriptor;var Sv=Object.getOwnPropertyNames;var $v=Object.getPrototypeOf,Mv=Object.prototype.hasOwnProperty;var y=(o,e)=>()=>(o&&(e=o(o=0)),e);var no=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),ae=(o,e)=>{for(var t in e)Va(o,t,{get:e[t],enumerable:!0})},Lv=(o,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Sv(e))!Mv.call(o,n)&&n!==t&&Va(o,n,{get:()=>e[n],enumerable:!(i=Av(e,n))||i.enumerable});return o};var Mt=(o,e,t)=>(t=o!=null?Cv($v(o)):{},Lv(e||!o||!o.__esModule?Va(t,"default",{value:o,enumerable:!0}):t,o));var ld=y(()=>{});var p,cd=y(()=>{p=(o,e=[],t={},i=null,n=null,a=!1)=>{let l=document.createElement(o);e.forEach(d=>{l.classList.add(d)});for(let[d,m]of Object.entries(t))typeof m<"u"&&l.setAttribute(d,m);return i&&(a?i.prepend(l):i.appendChild(l)),n&&(l.innerHTML=n),l}});var Xi,dd=y(()=>{Xi=o=>{let[e,t]=o.split("::"),i=n=>n.replace(/([A-Z])/g," $1").trim().toLowerCase().replace(/\s/g,"-");return`${i(e.replace("Controller",""))}/${i(t)}`}});var Se,md=y(()=>{Se=(C=>(C.setup="setup",C.login="login",C.resetpassword="resetpassword",C.search="search",C.home="home",C.system="system",C.shared="shared",C.packages="packages",C.page="page",C.trash="trash",C.inpage="inpage",C.components="components",C))(Se||{})});var pd=y(()=>{});var ud=y(()=>{});var ke,R,re,Yi,fd=y(()=>{ke=(o,e=50)=>{let t;return(...i)=>{clearTimeout(t),t=setTimeout(()=>{o.apply(void 0,i)},e)}},R=(o,e=document)=>e.querySelector(o),re=(o,e=document)=>Array.from(e.querySelectorAll(o)),Yi=(o,e)=>{let t=[],i=e?.closest(o)||null;for(;i!==null;)t.push(i),i=i.parentNode.closest(o);return t}});var Xe=y(()=>{ld();cd();dd();md();pd();ud();fd()});var r,Wa=y(()=>{S();r=class o{static getState(e){return Et.getInstance().get(e)}static navigationLocks={};static latestLockId=0;static apiURL="";static baseIndex="";static baseURL="";static isReady=!1;static get isCloud(){return o.getState("cloudMode")}static get allowedFileTypes(){return o.getState("allowedFileTypes")}static get fileTypesImage(){return o.getState("fileTypes")?.image}static get fileTypesVideo(){return o.getState("fileTypes")?.video}static get dashboardURL(){return o.getState("dashboard")}static get feedURL(){return o.getState("feed")}static get files(){return o.getState("files")}static get languages(){return o.getState("languages")}static get mainTheme(){return o.getState("mainTheme")}static get pages(){return o.getState("pages")}static get reservedFields(){return o.getState("reservedFields")}static get components(){return o.getState("components")}static get componentsPublicationState(){return o.getState("componentsPublicationState")}static get contentFields(){return o.getState("contentFields")}static get siteMTime(){return o.getState("siteMTime")}static get sharedPublicationState(){return o.getState("sharedPublicationState")}static get sitename(){return o.getState("sitename")}static get tags(){return o.getState("tags")}static get themes(){return o.getState("themes")}static get system(){return o.getState("system")}static get user(){return o.getState("user")}static get state(){return Et.getInstance().data}static get root(){return Et.getInstance().root}static get navigationIsLocked(){return Object.keys(this.navigationLocks).length>0}static get version(){return o.getState("version")}static async bootstrap(e){o.baseIndex=e.elementAttributes["base-index"],o.baseURL=e.elementAttributes["base-url"],o.apiURL=`${o.baseIndex}/_api`;let{data:t}=await ue("AppController::bootstrap");Et.getInstance().bootstrap(e,t),Ne(window,"AutomadAppStateRequireUpdate",this.updateState.bind(this))}static async updateState(){let e=await ue("AppController::updateState",null,!1);Et.getInstance().update(e.data)}static addNavigationLock(){let e=this.latestLockId++;return this.navigationLocks[e]=!0,e}static reload(){let e=R("am-filter input");e&&wi("filter",e.value),wi("scroll",String(window.scrollY)),window.location.reload()}static restoreFilterAndScroll(){let e=R("am-filter input"),t=Ct("filter"),i=Ct("scroll");t&&(e&&(e.value=t,X("input",e)),Ka("filter")),i&&(window.scrollTo(0,parseInt(i)),Ka("scroll"))}static removeNavigationLock(e){delete this.navigationLocks[e]}static text(e){return o.getState("text")[e]||""}static async checkForSystemUpdate(){let e=await ue("SystemController::checkForUpdate",null,!0,null,!0);e.data&&(Et.getInstance().set("systemUpdate",e.data),X("AutomadSystemUpdateCheck",window))}static async checkForOutdatedPackages(){let{data:e}=await ue("PackageManagerController::getOutdated",null,!0,null,!0);Et.getInstance().set("outdatedPackages",e?.outdated?.length||0),X("AutomadPackagesUpdateCheck",window)}}});var ve,Ji,Re,hd=y(()=>{S();ve=class{input;modifier;onChange;storeValueAsObject;get value(){let e=this.input.value;return this.storeValueAsObject&&(typeof e!="string"||e!="")&&(e=JSON.parse(e).value),this.modifier?this.modifier(e):e}set value(e){this.storeValueAsObject?this.input.value=JSON.stringify({value:e}):this.input.value=e,this.onChange&&this.onChange(e),X("input",this.input)}constructor(e,t={}){t=Object.assign({initial:null,input:null,modifier:null,onChange:null},t),this.modifier=t.modifier,this.storeValueAsObject=t.input===null,this.onChange=t.onChange,this.input=t.input||p("input",[],{}),Re.add(e,this),t.initial!==null&&(this.value=t.initial)}},Ji=class{static missing=[];static unused=[];static references=[];static bindings=[];static track(e,t){}},Re=class{static bindings={};static listeners=[];static add(e,t){this.bindings[e]=t}static delete(e){delete this.bindings[e]}static get(e){return Ji.track(e,this.bindings[e]),this.bindings[e]}static getBindingNames(){return Object.keys(this.bindings)}static connectElements(e){re("[am-bind]",e).forEach(t=>{let i=t.getAttribute("am-bind"),n=this.bindings[i];if(Ji.track(i,n),!n)return;let a=t.getAttribute("am-bind-to"),l=[];a?(l=a.split(" "),t.removeAttribute("am-bind-to")):l=["textContent"],t.removeAttribute("am-bind");let d=()=>{l.forEach(m=>{switch(m){case"textContent":t.textContent=n.value;break;case"checked":t.checked=n.value;break;case"disabled":n.value?t.setAttribute("disabled",""):t.removeAttribute("disabled");break;case"value":t.value=n.value;break;default:t.setAttribute(m,n.value)}X("AutomadChangeByBinding",t)})};this.listeners.push(Ne(n.input,"change input",d)),X("input",n.input)})}static reset(){this.bindings={},this.listeners.forEach(e=>{e.remove()}),this.listeners=[]}}});var bd=y(()=>{});var ro,gd=y(()=>{Wa();ro=o=>{let e=r.text("__lang__");return new Date(o).toLocaleDateString(e,{day:"2-digit",weekday:"short",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}});var vd,X,Ne,Xa,xd,yd,wd,kd=y(()=>{S();vd=o=>{let e=()=>re('input:not([type="hidden"]), button, textarea, select, a[href], [contenteditable], [tabindex="0"]',o),t;return Ne(document,"keydown",i=>{if(i.key!=="Tab")return;i.preventDefault(),i.stopImmediatePropagation(),i.stopPropagation();let n=e(),a=n.length-1,l=n[0],d=n[a];if(!l||!d)return;let m=n.indexOf(t??l),f=m>=a?0:m+1,v=m<=0?a:m-1,b=i.shiftKey?v:f;t=n[b],t.focus()})},X=(o,e=window)=>{e.dispatchEvent(new Event(o,{bubbles:!0}))},Ne=(o,e,t,i="")=>{let n=e.split(" ").filter(d=>d.length>0),a=d=>{if(!i){t.apply(d.target,[d]);return}(d.path||d.composedPath&&d.composedPath()).forEach(f=>{try{if(f.matches(i)){t.apply(d.target,[d]);return}}catch{}})};return n.forEach(d=>{o.addEventListener(d,a)}),{remove:()=>{n.forEach(d=>{o.removeEventListener(d,a)}),a=null}}},Xa=(o,e,t=!0)=>{let i=new MutationObserver((a,l)=>{a.forEach(function(d){d.type==="attributes"&&d.attributeName==="class"&&e.apply(d.target,[d])})});return i.observe(o,{attributes:!0,childList:!1,subtree:t}),{remove:()=>{i.disconnect()}}},xd=()=>Ne(document,"keydown",o=>{o.keyCode==13&&document.activeElement.click()}),yd=()=>Ne(document,"change",o=>{o.target.classList.add("am-validate")},"input, textarea, [contenteditable]"),wd=()=>{let o=["InvalidStateError","TypeError"];return Ne(window,"error",e=>{o.includes(e.error.name)&&(Je().log(e.error),e.preventDefault())})}});var F,Y=y(()=>{S();F=class extends HTMLElement{elementAttributes={};listeners=[];constructor(){super()}static get observedAttributes(){return[]}attributeChangedCallback(e,t,i){this.elementAttributes[e]=i||""}disconnectedCallback(){this.removeListeners()}addListener(e){this.listeners.push(e)}listen(e,t,i,n=""){this.addListener(Ne(e,t,i,n))}removeListeners(){this.listeners.forEach(e=>{e.remove()}),this.listeners=[]}}});var Td={};ae(Td,{ModalComponent:()=>ze});var ze,Lt=y(()=>{S();Y();ze=class extends F{static TAG_NAME="am-modal";classes=["am-c-modal"];focusTrap;get isOpen(){return this.matches("[am-modal-open]")}lockId;lockNavigation(){this.lockId=r.addNavigationLock()}unlockNavigation(){r.removeNavigationLock(this.lockId)}connectedCallback(){this.classList.add(...this.classes),this.hasAttribute("am-no-click")||this.listen(this,"click",e=>{this===e.target&&this.close()}),this.hasAttribute("am-no-esc")||this.listen(window,"keydown",e=>{this.isOpen&&e.keyCode==27&&this.close()})}toggleBodyOverflow(){R("body").classList.toggle("am-u-overflow-hidden",R("[am-modal-open]")!=null)}toggle(){this.isOpen?this.close():this.open()}close(){this.removeAttribute("am-modal-open"),this.toggleBodyOverflow(),this.unlockNavigation(),X("AutomadModalClose",this),this.focusTrap.remove(),setTimeout(()=>{re(".am-validate").forEach(e=>{e.classList.remove("am-validate")})},400),this.hasAttribute("am-destroy")&&setTimeout(()=>{this.listeners.forEach(({remove:e})=>{e()}),this.remove()},400)}open(){if(this.setAttribute("am-modal-open",""),this.toggleBodyOverflow(),this.lockNavigation(),X("AutomadModalOpen",this),this.focusTrap=vd(this),this.addListener(this.focusTrap),!this.hasAttribute("am-no-focus")){let e=R("input, textarea",this);if(e){let t=e.value;e.focus(),e.value="",e.value=t}}}};customElements.define(ze.TAG_NAME,ze)});var _d={};ae(_d,{SelectComponent:()=>Ao});var Ao,Ya=y(()=>{S();Y();Ao=class extends F{static TAG_NAME="am-select";label;_select;set options(e){let t="";e.forEach(i=>{t+=w`<option value="${i.value}"> ${typeof i.text<"u"?i.text:i.value}</option>`}),this._select.innerHTML=t,setTimeout(this.updateLabel.bind(this),0)}get value(){return this.selectedOption.value}set value(e){this._select.value=e,this.updateLabel()}get select(){return this._select}get selectedOption(){return this._select.options[this._select.selectedIndex]}connectedCallback(){this.classList.add("am-f-select")}updateLabel(){try{this.label.textContent=this.selectedOption.text}catch{}}init(e,t,i,n){this.innerHTML=i,this.label=p("span",[],{},this),this._select=p("select",[],n,this),this.options=e,this.value=t;let a=()=>{this.classList.toggle("am-focus",this._select===document.activeElement)};this.listen(this._select,"focus blur",a),a(),this.listen(this._select,"change AutomadChangeByBinding",this.updateLabel.bind(this)),setTimeout(()=>{lt.attach({getValueProvider:()=>this._select,query:()=>this._select.value,mutate:l=>{this._select.value=`${l}`}})},0)}};customElements.define(Ao.TAG_NAME,Ao)});var he,Ge=y(()=>{S();he=class{static get enableLineBreaks(){return!1}static get isReadOnlySupported(){return!0}readOnly;api;data;config;blockAPI;wrapper;listeners=[];constructor({data:e,api:t,config:i,block:n,readOnly:a}){this.api=t,this.data=this.prepareData(e||{}),this.config=i,this.blockAPI=n,this.readOnly=a,this.wrapper=p("div",["cdx-block"])}prepareData(e){return e}addListener(e){this.listeners.push(e)}listen(e,t,i,n=""){this.addListener(Ne(e,t,i,n))}destroy(){this.listeners.forEach(e=>{e.remove()}),this.listeners=[]}}});var Zi,Ed=y(()=>{S();Ge();Zi=class extends he{static get sanitize(){return{primaryText:{},primaryLink:!0,secondaryText:{},secondaryLink:!0}}static get toolbox(){return{title:r.text("buttonsBlockTitle"),icon:'<i class="bi bi-hand-index-thumb"></i>'}}flex;previews;prepareData(e){let t={borderWidth:"2px",borderRadius:"0.5rem",paddingHorizontal:"1.5rem",paddingVertical:"0.5rem"};return{primaryText:e.primaryText||"Button",primaryLink:e.primaryLink||"",primaryStyle:e.primaryStyle??t,primaryOpenInNewTab:e.primaryOpenInNewTab??!0,secondaryText:e.secondaryText||"",secondaryLink:e.secondaryLink||"",secondaryStyle:e.secondaryStyle??t,secondaryOpenInNewTab:e.secondaryOpenInNewTab??!0,justify:e.justify??"start",gap:e.gap??"1rem"}}render(){if(this.wrapper.classList.add("am-u-flex"),this.wrapper.innerHTML=w`<div class="${"am-c-ed-bl-buttons"}"> ${this.readOnly?"":w` <div><span class="__layout-edit ${"am-c-ed-bl-buttons__edit"}" ><am-icon-text ${"am-icon"}="arrow-left-right" ${"am-text"}="${r.text("buttonsBlockAlignment")}" ></am-icon-text></span></div>`} <div class="__flex ${"am-u-flex"}"><div class="${"am-u-flex"} ${"am-u-flex--column"} ${"am-u-flex--gap"} ${"am-u-flex--center"}" ><div class="__primary"></div>${this.readOnly?"":w` <span class="__primary-edit ${"am-c-ed-bl-buttons__edit"}" ><am-icon-text ${"am-icon"}="sliders" ${"am-text"}="${r.text("buttonsBlockSettings")}" ></am-icon-text></span>`}</div><div class="${"am-u-flex"} ${"am-u-flex--column"} ${"am-u-flex--gap"} ${"am-u-flex--center"}" ><div class="__secondary"></div>${this.readOnly?"":w` <span class="__secondary-edit ${"am-c-ed-bl-buttons__edit"}" ><am-icon-text ${"am-icon"}="sliders" ${"am-text"}="${r.text("buttonsBlockSettings")}" ></am-icon-text></span>`}</div></div></div>`,this.flex=R(".__flex",this.wrapper),this.previews={primary:null,secondary:null},this.previews.primary=R(".__primary",this.wrapper),this.previews.secondary=R(".__secondary",this.wrapper),this.renderButton("primary"),this.renderButton("secondary"),this.updateLayout(),!this.readOnly){let e=R(".__layout-edit",this.wrapper),t=R(".__primary-edit",this.wrapper),i=R(".__secondary-edit",this.wrapper);this.listen(e,"click",this.renderLayoutModal.bind(this)),this.listen(t,"click",()=>{this.renderButtonModal("primary")}),this.listen(i,"click",()=>{this.renderButtonModal("secondary")})}return this.wrapper}updateLayout(){this.wrapper.style.justifyContent=this.data.justify,this.flex.style.gap=this.data.gap}renderButton(e){let t=this.data[`${e}Text`];if(this.readOnly&&t.length==0)return;let i=this.data[`${e}Style`],n=Object.keys(i).reduce((a,l)=>i[l]?`${a} --${l}: ${i[l]};`.trim():"","");this.previews[e].innerHTML=p("div",["am-c-ed-bl-buttons__button"],{style:n,name:`${e}Text`,contenteditable:this.readOnly?"false":"true",placeholder:r.text("buttonsBlockPlaceholder")},null,w`${t}`).outerHTML}renderLayoutModal(){let{modal:e,body:t}=Ve(r.text("buttonsBlockAlignment")),i=p("div",["am-l-grid","am-l-grid--auto"],{},t);ft(r.text("buttonsBlockAlignment"),be([{text:r.text("alignLeft"),value:"start"},{text:r.text("alignCenter"),value:"center"},{text:r.text("alignRight"),value:"end"}],this.data.justify,null,"justify"),i),P("am-number-unit-field",i,{name:"gap",value:this.data.gap,key:Z(),label:r.text("buttonsBlockGap")}),setTimeout(()=>{e.open()},0),this.listen(e,"change",ke(()=>{this.data={...this.data,...xe(t)},this.updateLayout(),this.blockAPI.dispatchChange()},50))}renderButtonModal(e){let{modal:t,body:i}=Ve(r.text("buttonsBlockSettings")),n=P("am-url-field",i,{name:`${e}Link`,key:Z(),label:r.text("url"),value:this.data[`${e}Link`]}),a=P("am-toggle-field",i,{name:`${e}OpenInNewTab`,key:Z(),label:r.text("openInNewTab"),value:this.data[`${e}OpenInNewTab`]}),l=p("div",[],{},i),d=(C,A,T,x=l,_=!1)=>{P(C,x,{name:A,key:Z(),label:`${r.text(T)}${_?" (hover)":""}`,value:this.data[`${e}Style`][A]})};p("hr",[],{},l);let m=p("div",["am-l-grid","am-l-grid--auto"],{},l),f=p("div",[],{},m),v=p("div",[],{},m);d("am-color-field","color","color",f),d("am-color-field","background","backgroundColor",f),d("am-color-field","borderColor","borderColor",f),d("am-color-field","hoverColor","color",v,!0),d("am-color-field","hoverBackground","backgroundColor",v,!0),d("am-color-field","hoverBorderColor","borderColor",v,!0),p("hr",[],{},l);let b=p("div",["am-l-grid","am-l-grid--auto"],{},l);d("am-number-unit-field","borderWidth","borderWidth",b),d("am-number-unit-field","borderRadius","borderRadius",b),d("am-number-unit-field","paddingVertical","paddingVertical",b),d("am-number-unit-field","paddingHorizontal","paddingHorizontal",b),setTimeout(()=>{t.open()},0),this.listen(t,"change input",()=>{this.data={...this.data,[`${e}Text`]:R(`[name="${e}Text"]`,this.flex).innerHTML,[`${e}Style`]:Object.fromEntries(Object.entries(xe(l)).filter(([C,A])=>A.length>0)),[`${e}Link`]:n.input.value,[`${e}OpenInNewTab`]:a.input.checked},this.renderButton(e),this.blockAPI.dispatchChange()})}save(){return{...this.data,primaryText:R('[name="primaryText"]',this.flex).innerHTML,secondaryText:R('[name="secondaryText"]',this.flex).innerHTML}}}});var Qi,Cd=y(()=>{S();Ge();Qi=class extends he{static get conversionConfig(){return{import:"text",export:e=>e.title?`${e.title}: ${e.text}`:e.text}}static get enableLineBreaks(){return!0}static get sanitize(){return{title:{},text:!0}}static get toolbox(){return{title:r.text("callout"),icon:'<i class="bi bi-lightbulb"></i>'}}inputs;prepareData(e){return{title:e.title||"",text:e.text||""}}render(){let e=p("div",["am-c-ed-bl-callout","am-u-flex","am-u-flex--column"],{},this.wrapper);return this.inputs={title:p("div",["am-c-ed-bl-callout__title","ce-paragraph"],{contenteditable:this.readOnly?"false":"true",placeholder:`\u26A0 ${r.text("calloutTitle")}`},e,w`${this.data.title}`),text:p("div",["am-c-ed-bl-callout__text","ce-paragraph"],{contenteditable:this.readOnly?"false":"true",placeholder:r.text("calloutText")},e,w`${this.data.text}`)},this.wrapper}save(){return{title:this.inputs.title.innerHTML,text:this.inputs.text.innerHTML}}}});function Ov(o,e){return typeof CSS<"u"?CSS.supports(o,e):typeof document<"u"&&Nv(o)in document.body.style}function Nv(o){return(o=o.split("-").filter(function(e){return!!e}).map(function(e){return e[0].toUpperCase()+e.substr(1)}).join(""))[0].toLowerCase()+o.substr(1)}function Sd(o,e,t){var i=e||"codeflask-style",n=t||document.head;if(!o)return!1;if(document.getElementById(i))return!0;var a=document.createElement("style");return a.innerHTML=o,a.id=i,n.appendChild(a),!0}function $d(o){return String(o).replace(/[&<>"'`=/]/g,function(e){return Pv[e]})}function Hv(o,e){return o(e={exports:{}},e.exports),e.exports}var Id,Ja,zv,Fv,Ad,Bv,Wo,Rv,Pv,Md,Ld,Fe,Dd,zd=y(()=>{Id="#fff",Ja="20px",zv="13px",Fv=`
.codeflask {
  background: `+Id+`;
  color: #4f559c;
}

.codeflask .token.punctuation {
  color: #4a4a4a;
}

.codeflask .token.keyword {
  color: #8500ff;
}

.codeflask .token.operator {
  color: #ff5598;
}

.codeflask .token.string {
  color: #41ad8f;
}

.codeflask .token.comment {
  color: #9badb7;
}

.codeflask .token.function {
  color: #8500ff;
}

.codeflask .token.boolean {
  color: #8500ff;
}

.codeflask .token.number {
  color: #8500ff;
}

.codeflask .token.selector {
  color: #8500ff;
}

.codeflask .token.property {
  color: #8500ff;
}

.codeflask .token.tag {
  color: #8500ff;
}

.codeflask .token.attr-value {
  color: #8500ff;
}
`;Ad='"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace',Bv=Ov("caret-color","#000")?Id:"#ccc",Wo="40px",Rv=`
  .codeflask {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  .codeflask, .codeflask * {
    box-sizing: border-box;
  }

  .codeflask__pre {
    pointer-events: none;
    z-index: 3;
    overflow: hidden;
  }

  .codeflask__textarea {
    background: none;
    border: none;
    color: `+Bv+`;
    z-index: 1;
    resize: none;
    font-family: `+Ad+`;
    -webkit-appearance: pre;
    caret-color: #111;
    z-index: 2;
    width: 100%;
    height: 100%;
  }

  .codeflask--has-line-numbers .codeflask__textarea {
    width: calc(100% - `+Wo+`);
  }

  .codeflask__code {
    display: block;
    font-family: `+Ad+`;
    overflow: hidden;
  }

  .codeflask__flatten {
    padding: 10px;
    font-size: `+zv+`;
    line-height: `+Ja+`;
    white-space: pre;
    position: absolute;
    top: 0;
    left: 0;
    overflow: auto;
    margin: 0 !important;
    outline: none;
    text-align: left;
  }

  .codeflask--has-line-numbers .codeflask__flatten {
    width: calc(100% - `+Wo+`);
    left: `+Wo+`;
  }

  .codeflask__line-highlight {
    position: absolute;
    top: 10px;
    left: 0;
    width: 100%;
    height: `+Ja+`;
    background: rgba(0,0,0,0.1);
    z-index: 1;
  }

  .codeflask__lines {
    padding: 10px 4px;
    font-size: 12px;
    line-height: `+Ja+`;
    font-family: 'Cousine', monospace;
    position: absolute;
    left: 0;
    top: 0;
    width: `+Wo+`;
    height: 100%;
    text-align: right;
    color: #999;
    z-index: 2;
  }

  .codeflask__lines__line {
    display: block;
  }

  .codeflask.codeflask--has-line-numbers {
    padding-left: `+Wo+`;
  }

  .codeflask.codeflask--has-line-numbers:before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: `+Wo+`;
    height: 100%;
    background: #eee;
    z-index: 1;
  }
`;Pv={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};Md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};Ld=Hv(function(o){var e=(function(t){var i=/\blang(?:uage)?-([\w-]+)\b/i,n=0,a={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function(m){return m instanceof l?new l(m.type,a.util.encode(m.content),m.alias):Array.isArray(m)?m.map(a.util.encode):m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(m){return Object.prototype.toString.call(m).slice(8,-1)},objId:function(m){return m.__id||Object.defineProperty(m,"__id",{value:++n}),m.__id},clone:function m(f,v){var b,C,A=a.util.type(f);switch(v=v||{},A){case"Object":if(C=a.util.objId(f),v[C])return v[C];for(var T in b={},v[C]=b,f)f.hasOwnProperty(T)&&(b[T]=m(f[T],v));return b;case"Array":return C=a.util.objId(f),v[C]?v[C]:(b=[],v[C]=b,f.forEach(function(x,_){b[_]=m(x,v)}),b);default:return f}}},languages:{extend:function(m,f){var v=a.util.clone(a.languages[m]);for(var b in f)v[b]=f[b];return v},insertBefore:function(m,f,v,b){var C=(b=b||a.languages)[m],A={};for(var T in C)if(C.hasOwnProperty(T)){if(T==f)for(var x in v)v.hasOwnProperty(x)&&(A[x]=v[x]);v.hasOwnProperty(T)||(A[T]=C[T])}var _=b[m];return b[m]=A,a.languages.DFS(a.languages,function(L,I){I===_&&L!=m&&(this[L]=A)}),A},DFS:function m(f,v,b,C){C=C||{};var A=a.util.objId;for(var T in f)if(f.hasOwnProperty(T)){v.call(f,T,f[T],b||T);var x=f[T],_=a.util.type(x);_!=="Object"||C[A(x)]?_!=="Array"||C[A(x)]||(C[A(x)]=!0,m(x,v,T,C)):(C[A(x)]=!0,m(x,v,null,C))}}},plugins:{},highlightAll:function(m,f){a.highlightAllUnder(document,m,f)},highlightAllUnder:function(m,f,v){var b={callback:v,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",b);for(var C,A=b.elements||m.querySelectorAll(b.selector),T=0;C=A[T++];)a.highlightElement(C,f===!0,b.callback)},highlightElement:function(m,f,v){for(var b,C,A=m;A&&!i.test(A.className);)A=A.parentNode;A&&(b=(A.className.match(i)||[,""])[1].toLowerCase(),C=a.languages[b]),m.className=m.className.replace(i,"").replace(/\s+/g," ")+" language-"+b,m.parentNode&&(A=m.parentNode,/pre/i.test(A.nodeName)&&(A.className=A.className.replace(i,"").replace(/\s+/g," ")+" language-"+b));var T={element:m,language:b,grammar:C,code:m.textContent},x=function(L){T.highlightedCode=L,a.hooks.run("before-insert",T),T.element.innerHTML=T.highlightedCode,a.hooks.run("after-highlight",T),a.hooks.run("complete",T),v&&v.call(T.element)};if(a.hooks.run("before-sanity-check",T),T.code)if(a.hooks.run("before-highlight",T),T.grammar)if(f&&t.Worker){var _=new Worker(a.filename);_.onmessage=function(L){x(L.data)},_.postMessage(JSON.stringify({language:T.language,code:T.code,immediateClose:!0}))}else x(a.highlight(T.code,T.grammar,T.language));else x(a.util.encode(T.code));else a.hooks.run("complete",T)},highlight:function(m,f,v){var b={code:m,grammar:f,language:v};return a.hooks.run("before-tokenize",b),b.tokens=a.tokenize(b.code,b.grammar),a.hooks.run("after-tokenize",b),l.stringify(a.util.encode(b.tokens),b.language)},matchGrammar:function(m,f,v,b,C,A,T){for(var x in v)if(v.hasOwnProperty(x)&&v[x]){if(x==T)return;var _=v[x];_=a.util.type(_)==="Array"?_:[_];for(var L=0;L<_.length;++L){var I=_[L],H=I.inside,B=!!I.lookbehind,j=!!I.greedy,U=0,V=I.alias;if(j&&!I.pattern.global){var te=I.pattern.toString().match(/[imuy]*$/)[0];I.pattern=RegExp(I.pattern.source,te+"g")}I=I.pattern||I;for(var O=b,g=C;O<f.length;g+=f[O].length,++O){var E=f[O];if(f.length>m.length)return;if(!(E instanceof l)){if(j&&O!=f.length-1){if(I.lastIndex=g,!($=I.exec(m)))break;for(var s=$.index+(B?$[1].length:0),c=$.index+$[0].length,u=O,h=g,k=f.length;u<k&&(h<c||!f[u].type&&!f[u-1].greedy);++u)s>=(h+=f[u].length)&&(++O,g=h);if(f[O]instanceof l)continue;M=u-O,E=m.slice(g,h),$.index-=g}else{I.lastIndex=0;var $=I.exec(E),M=1}if($){B&&(U=$[1]?$[1].length:0),c=(s=$.index+U)+($=$[0].slice(U)).length;var D=E.slice(0,s),q=E.slice(c),W=[O,M];D&&(++O,g+=D.length,W.push(D));var se=new l(x,H?a.tokenize($,H):$,V,$,j);if(W.push(se),q&&W.push(q),Array.prototype.splice.apply(f,W),M!=1&&a.matchGrammar(m,f,v,O,g,!0,x),A)break}else if(A)break}}}}},tokenize:function(m,f){var v=[m],b=f.rest;if(b){for(var C in b)f[C]=b[C];delete f.rest}return a.matchGrammar(m,v,f,0,0,!1),v},hooks:{all:{},add:function(m,f){var v=a.hooks.all;v[m]=v[m]||[],v[m].push(f)},run:function(m,f){var v=a.hooks.all[m];if(v&&v.length)for(var b,C=0;b=v[C++];)b(f)}},Token:l};function l(m,f,v,b,C){this.type=m,this.content=f,this.alias=v,this.length=0|(b||"").length,this.greedy=!!C}if(t.Prism=a,l.stringify=function(m,f,v){if(typeof m=="string")return m;if(Array.isArray(m))return m.map(function(T){return l.stringify(T,f,m)}).join("");var b={type:m.type,content:l.stringify(m.content,f,v),tag:"span",classes:["token",m.type],attributes:{},language:f,parent:v};if(m.alias){var C=Array.isArray(m.alias)?m.alias:[m.alias];Array.prototype.push.apply(b.classes,C)}a.hooks.run("wrap",b);var A=Object.keys(b.attributes).map(function(T){return T+'="'+(b.attributes[T]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+b.tag+' class="'+b.classes.join(" ")+'"'+(A?" "+A:"")+">"+b.content+"</"+b.tag+">"},!t.document)return t.addEventListener&&(a.disableWorkerMessageHandler||t.addEventListener("message",function(m){var f=JSON.parse(m.data),v=f.language,b=f.code,C=f.immediateClose;t.postMessage(a.highlight(b,a.languages[v],v)),C&&t.close()},!1)),a;var d=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return d&&(a.filename=d.src,a.manual||d.hasAttribute("data-manual")||(document.readyState!=="loading"?window.requestAnimationFrame?window.requestAnimationFrame(a.highlightAll):window.setTimeout(a.highlightAll,16):document.addEventListener("DOMContentLoaded",a.highlightAll))),a})(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});o.exports&&(o.exports=e),Md!==void 0&&(Md.Prism=e),e.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(t,i){var n={};n["language-"+i]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[i]},n.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:n}};a["language-"+i]={pattern:/[\s\S]+/,inside:e.languages[i]};var l={};l[t]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,t),"i"),lookbehind:!0,greedy:!0,inside:a},e.languages.insertBefore("markup","cdata",l)}}),e.languages.xml=e.languages.extend("markup",{}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,(function(t){var i=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:RegExp("url\\((?:"+i.source+"|.*?)\\)","i"),selector:RegExp(`[^{}\\s](?:[^{};"']|`+i.source+")*?(?=\\s*\\{)"),string:{pattern:i,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var n=t.languages.markup;n&&(n.tag.addInlined("style","css"),t.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:n.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:t.languages.css}},alias:"language-css"}},n.tag))})(e),e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}}}),e.languages.markup&&e.languages.markup.tag.addInlined("script","javascript"),e.languages.js=e.languages.javascript,typeof self<"u"&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(t){t=t||document;var i={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(t.querySelectorAll("pre[data-src]")).forEach(function(n){if(!n.hasAttribute("data-src-loaded")){for(var a,l=n.getAttribute("data-src"),d=n,m=/\blang(?:uage)?-([\w-]+)\b/i;d&&!m.test(d.className);)d=d.parentNode;if(d&&(a=(n.className.match(m)||[,""])[1]),!a){var f=(l.match(/\.(\w+)$/)||[,""])[1];a=i[f]||f}var v=document.createElement("code");v.className="language-"+a,n.textContent="",v.textContent="Loading\u2026",n.appendChild(v);var b=new XMLHttpRequest;b.open("GET",l,!0),b.onreadystatechange=function(){b.readyState==4&&(b.status<400&&b.responseText?(v.textContent=b.responseText,e.highlightElement(v),n.setAttribute("data-src-loaded","")):b.status>=400?v.textContent="\u2716 Error "+b.status+" while fetching file: "+b.statusText:v.textContent="\u2716 Error: File does not exist or is empty")},b.send(null)}}),e.plugins.toolbar&&e.plugins.toolbar.registerButton("download-file",function(n){var a=n.element.parentNode;if(a&&/pre/i.test(a.nodeName)&&a.hasAttribute("data-src")&&a.hasAttribute("data-download-link")){var l=a.getAttribute("data-src"),d=document.createElement("a");return d.textContent=a.getAttribute("data-download-link-label")||"Download",d.setAttribute("download",""),d.href=l,d}})},document.addEventListener("DOMContentLoaded",function(){self.Prism.fileHighlight()}))}),Fe=function(o,e){if(!o)throw Error("CodeFlask expects a parameter which is Element or a String selector");if(!e)throw Error("CodeFlask expects an object containing options as second parameter");if(o.nodeType)this.editorRoot=o;else{var t=document.querySelector(o);t&&(this.editorRoot=t)}this.opts=e,this.startEditor()};Fe.prototype.startEditor=function(){if(!Sd(Rv,null,this.opts.styleParent))throw Error("Failed to inject CodeFlask CSS.");this.createWrapper(),this.createTextarea(),this.createPre(),this.createCode(),this.runOptions(),this.listenTextarea(),this.populateDefault(),this.updateCode(this.code)},Fe.prototype.createWrapper=function(){this.code=this.editorRoot.innerHTML,this.editorRoot.innerHTML="",this.elWrapper=this.createElement("div",this.editorRoot),this.elWrapper.classList.add("codeflask")},Fe.prototype.createTextarea=function(){this.elTextarea=this.createElement("textarea",this.elWrapper),this.elTextarea.classList.add("codeflask__textarea","codeflask__flatten")},Fe.prototype.createPre=function(){this.elPre=this.createElement("pre",this.elWrapper),this.elPre.classList.add("codeflask__pre","codeflask__flatten")},Fe.prototype.createCode=function(){this.elCode=this.createElement("code",this.elPre),this.elCode.classList.add("codeflask__code","language-"+(this.opts.language||"html"))},Fe.prototype.createLineNumbers=function(){this.elLineNumbers=this.createElement("div",this.elWrapper),this.elLineNumbers.classList.add("codeflask__lines"),this.setLineNumber()},Fe.prototype.createElement=function(o,e){var t=document.createElement(o);return e.appendChild(t),t},Fe.prototype.runOptions=function(){this.opts.rtl=this.opts.rtl||!1,this.opts.tabSize=this.opts.tabSize||2,this.opts.enableAutocorrect=this.opts.enableAutocorrect||!1,this.opts.lineNumbers=this.opts.lineNumbers||!1,this.opts.defaultTheme=this.opts.defaultTheme!==!1,this.opts.areaId=this.opts.areaId||null,this.opts.ariaLabelledby=this.opts.ariaLabelledby||null,this.opts.readonly=this.opts.readonly||null,typeof this.opts.handleTabs!="boolean"&&(this.opts.handleTabs=!0),typeof this.opts.handleSelfClosingCharacters!="boolean"&&(this.opts.handleSelfClosingCharacters=!0),typeof this.opts.handleNewLineIndentation!="boolean"&&(this.opts.handleNewLineIndentation=!0),this.opts.rtl===!0&&(this.elTextarea.setAttribute("dir","rtl"),this.elPre.setAttribute("dir","rtl")),this.opts.enableAutocorrect===!1&&(this.elTextarea.setAttribute("spellcheck","false"),this.elTextarea.setAttribute("autocapitalize","off"),this.elTextarea.setAttribute("autocomplete","off"),this.elTextarea.setAttribute("autocorrect","off")),this.opts.lineNumbers&&(this.elWrapper.classList.add("codeflask--has-line-numbers"),this.createLineNumbers()),this.opts.defaultTheme&&Sd(Fv,"theme-default",this.opts.styleParent),this.opts.areaId&&this.elTextarea.setAttribute("id",this.opts.areaId),this.opts.ariaLabelledby&&this.elTextarea.setAttribute("aria-labelledby",this.opts.ariaLabelledby),this.opts.readonly&&this.enableReadonlyMode()},Fe.prototype.updateLineNumbersCount=function(){for(var o="",e=1;e<=this.lineNumber;e++)o=o+'<span class="codeflask__lines__line">'+e+"</span>";this.elLineNumbers.innerHTML=o},Fe.prototype.listenTextarea=function(){var o=this;this.elTextarea.addEventListener("input",function(e){o.code=e.target.value,o.elCode.innerHTML=$d(e.target.value),o.highlight(),setTimeout(function(){o.runUpdate(),o.setLineNumber()},1)}),this.elTextarea.addEventListener("keydown",function(e){o.handleTabs(e),o.handleSelfClosingCharacters(e),o.handleNewLineIndentation(e)}),this.elTextarea.addEventListener("scroll",function(e){o.elPre.style.transform="translate3d(-"+e.target.scrollLeft+"px, -"+e.target.scrollTop+"px, 0)",o.elLineNumbers&&(o.elLineNumbers.style.transform="translate3d(0, -"+e.target.scrollTop+"px, 0)")})},Fe.prototype.handleTabs=function(o){if(this.opts.handleTabs){if(o.keyCode!==9)return;o.preventDefault();var e=this.elTextarea,t=e.selectionDirection,i=e.selectionStart,n=e.selectionEnd,a=e.value,l=a.substr(0,i),d=a.substring(i,n),m=a.substring(n),f=" ".repeat(this.opts.tabSize);if(i!==n&&d.length>=f.length){var v=i-l.split(`
`).pop().length,b=f.length,C=f.length;o.shiftKey?(a.substr(v,f.length)===f?(b=-b,v>i?(d=d.substring(0,v)+d.substring(v+f.length),C=0):v===i?(b=0,C=0,d=d.substring(f.length)):(C=-C,l=l.substring(0,v)+l.substring(v+f.length))):(b=0,C=0),d=d.replace(new RegExp(`
`+f.split("").join("\\"),"g"),`
`)):(l=l.substr(0,v)+f+l.substring(v,i),d=d.replace(/\n/g,`
`+f)),e.value=l+d+m,e.selectionStart=i+b,e.selectionEnd=i+d.length+C,e.selectionDirection=t}else e.value=l+f+m,e.selectionStart=i+f.length,e.selectionEnd=i+f.length;var A=e.value;this.updateCode(A),this.elTextarea.selectionEnd=n+this.opts.tabSize}},Fe.prototype.handleSelfClosingCharacters=function(o){if(this.opts.handleSelfClosingCharacters){var e=o.key;if(["(","[","{","<","'",'"'].includes(e)||[")","]","}",">","'",'"'].includes(e))switch(e){case"(":case")":this.closeCharacter(e);break;case"[":case"]":this.closeCharacter(e);break;case"{":case"}":this.closeCharacter(e);break;case"<":case">":case"'":case'"':this.closeCharacter(e)}}},Fe.prototype.setLineNumber=function(){this.lineNumber=this.code.split(`
`).length,this.opts.lineNumbers&&this.updateLineNumbersCount()},Fe.prototype.handleNewLineIndentation=function(o){if(this.opts.handleNewLineIndentation&&o.keyCode===13){o.preventDefault();var e=this.elTextarea,t=e.selectionStart,i=e.selectionEnd,n=e.value,a=n.substr(0,t),l=n.substring(i),d=n.lastIndexOf(`
`,t-1),m=d+n.slice(d+1).search(/[^ ]|$/),f=m>d?m-d:0,v=a+`
`+" ".repeat(f)+l;e.value=v,e.selectionStart=t+f+1,e.selectionEnd=t+f+1,this.updateCode(e.value)}},Fe.prototype.closeCharacter=function(o){var e=this.elTextarea.selectionStart,t=this.elTextarea.selectionEnd;if(this.skipCloseChar(o)){var i=this.code.substr(t,1)===o,n=i?t+1:t,a=!i&&["'",'"'].includes(o)?o:"",l=""+this.code.substring(0,e)+a+this.code.substring(n);this.updateCode(l),this.elTextarea.selectionEnd=++this.elTextarea.selectionStart}else{var d=o;switch(o){case"(":d=String.fromCharCode(o.charCodeAt()+1);break;case"<":case"{":case"[":d=String.fromCharCode(o.charCodeAt()+2)}var m=this.code.substring(e,t),f=""+this.code.substring(0,e)+m+d+this.code.substring(t);this.updateCode(f)}this.elTextarea.selectionEnd=e},Fe.prototype.skipCloseChar=function(o){var e=this.elTextarea.selectionStart,t=this.elTextarea.selectionEnd,i=Math.abs(t-e)>0;return[")","}","]",">"].includes(o)||["'",'"'].includes(o)&&!i},Fe.prototype.updateCode=function(o){this.code=o,this.elTextarea.value=o,this.elCode.innerHTML=$d(o),this.highlight(),this.setLineNumber(),setTimeout(this.runUpdate.bind(this),1)},Fe.prototype.updateLanguage=function(o){var e=this.opts.language;this.elCode.classList.remove("language-"+e),this.elCode.classList.add("language-"+o),this.opts.language=o,this.highlight()},Fe.prototype.addLanguage=function(o,e){Ld.languages[o]=e},Fe.prototype.populateDefault=function(){this.updateCode(this.code)},Fe.prototype.highlight=function(){Ld.highlightElement(this.elCode,!1)},Fe.prototype.onUpdate=function(o){if(o&&{}.toString.call(o)!=="[object Function]")throw Error("CodeFlask expects callback of type Function");this.updateCallBack=o},Fe.prototype.getCode=function(){return this.code},Fe.prototype.runUpdate=function(){this.updateCallBack&&this.updateCallBack(this.code)},Fe.prototype.enableReadonlyMode=function(){this.elTextarea.setAttribute("readonly",!0)},Fe.prototype.disableReadonlyMode=function(){this.elTextarea.removeAttribute("readonly")};Dd=Fe});var Za=no((Y0,en)=>{var Uv=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var oe=(function(o){var e=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,t=0,i={},n={manual:o.Prism&&o.Prism.manual,disableWorkerMessageHandler:o.Prism&&o.Prism.disableWorkerMessageHandler,util:{encode:function x(_){return _ instanceof a?new a(_.type,x(_.content),_.alias):Array.isArray(_)?_.map(x):_.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(x){return Object.prototype.toString.call(x).slice(8,-1)},objId:function(x){return x.__id||Object.defineProperty(x,"__id",{value:++t}),x.__id},clone:function x(_,L){L=L||{};var I,H;switch(n.util.type(_)){case"Object":if(H=n.util.objId(_),L[H])return L[H];I={},L[H]=I;for(var B in _)_.hasOwnProperty(B)&&(I[B]=x(_[B],L));return I;case"Array":return H=n.util.objId(_),L[H]?L[H]:(I=[],L[H]=I,_.forEach(function(j,U){I[U]=x(j,L)}),I);default:return _}},getLanguage:function(x){for(;x;){var _=e.exec(x.className);if(_)return _[1].toLowerCase();x=x.parentElement}return"none"},setLanguage:function(x,_){x.className=x.className.replace(RegExp(e,"gi"),""),x.classList.add("language-"+_)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(I){var x=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(I.stack)||[])[1];if(x){var _=document.getElementsByTagName("script");for(var L in _)if(_[L].src==x)return _[L]}return null}},isActive:function(x,_,L){for(var I="no-"+_;x;){var H=x.classList;if(H.contains(_))return!0;if(H.contains(I))return!1;x=x.parentElement}return!!L}},languages:{plain:i,plaintext:i,text:i,txt:i,extend:function(x,_){var L=n.util.clone(n.languages[x]);for(var I in _)L[I]=_[I];return L},insertBefore:function(x,_,L,I){I=I||n.languages;var H=I[x],B={};for(var j in H)if(H.hasOwnProperty(j)){if(j==_)for(var U in L)L.hasOwnProperty(U)&&(B[U]=L[U]);L.hasOwnProperty(j)||(B[j]=H[j])}var V=I[x];return I[x]=B,n.languages.DFS(n.languages,function(te,O){O===V&&te!=x&&(this[te]=B)}),B},DFS:function x(_,L,I,H){H=H||{};var B=n.util.objId;for(var j in _)if(_.hasOwnProperty(j)){L.call(_,j,_[j],I||j);var U=_[j],V=n.util.type(U);V==="Object"&&!H[B(U)]?(H[B(U)]=!0,x(U,L,null,H)):V==="Array"&&!H[B(U)]&&(H[B(U)]=!0,x(U,L,j,H))}}},plugins:{},highlightAll:function(x,_){n.highlightAllUnder(document,x,_)},highlightAllUnder:function(x,_,L){var I={callback:L,container:x,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};n.hooks.run("before-highlightall",I),I.elements=Array.prototype.slice.apply(I.container.querySelectorAll(I.selector)),n.hooks.run("before-all-elements-highlight",I);for(var H=0,B;B=I.elements[H++];)n.highlightElement(B,_===!0,I.callback)},highlightElement:function(x,_,L){var I=n.util.getLanguage(x),H=n.languages[I];n.util.setLanguage(x,I);var B=x.parentElement;B&&B.nodeName.toLowerCase()==="pre"&&n.util.setLanguage(B,I);var j=x.textContent,U={element:x,language:I,grammar:H,code:j};function V(O){U.highlightedCode=O,n.hooks.run("before-insert",U),U.element.innerHTML=U.highlightedCode,n.hooks.run("after-highlight",U),n.hooks.run("complete",U),L&&L.call(U.element)}if(n.hooks.run("before-sanity-check",U),B=U.element.parentElement,B&&B.nodeName.toLowerCase()==="pre"&&!B.hasAttribute("tabindex")&&B.setAttribute("tabindex","0"),!U.code){n.hooks.run("complete",U),L&&L.call(U.element);return}if(n.hooks.run("before-highlight",U),!U.grammar){V(n.util.encode(U.code));return}if(_&&o.Worker){var te=new Worker(n.filename);te.onmessage=function(O){V(O.data)},te.postMessage(JSON.stringify({language:U.language,code:U.code,immediateClose:!0}))}else V(n.highlight(U.code,U.grammar,U.language))},highlight:function(x,_,L){var I={code:x,grammar:_,language:L};if(n.hooks.run("before-tokenize",I),!I.grammar)throw new Error('The language "'+I.language+'" has no grammar.');return I.tokens=n.tokenize(I.code,I.grammar),n.hooks.run("after-tokenize",I),a.stringify(n.util.encode(I.tokens),I.language)},tokenize:function(x,_){var L=_.rest;if(L){for(var I in L)_[I]=L[I];delete _.rest}var H=new m;return f(H,H.head,x),d(x,H,_,H.head,0),b(H)},hooks:{all:{},add:function(x,_){var L=n.hooks.all;L[x]=L[x]||[],L[x].push(_)},run:function(x,_){var L=n.hooks.all[x];if(!(!L||!L.length))for(var I=0,H;H=L[I++];)H(_)}},Token:a};o.Prism=n;function a(x,_,L,I){this.type=x,this.content=_,this.alias=L,this.length=(I||"").length|0}a.stringify=function x(_,L){if(typeof _=="string")return _;if(Array.isArray(_)){var I="";return _.forEach(function(V){I+=x(V,L)}),I}var H={type:_.type,content:x(_.content,L),tag:"span",classes:["token",_.type],attributes:{},language:L},B=_.alias;B&&(Array.isArray(B)?Array.prototype.push.apply(H.classes,B):H.classes.push(B)),n.hooks.run("wrap",H);var j="";for(var U in H.attributes)j+=" "+U+'="'+(H.attributes[U]||"").replace(/"/g,"&quot;")+'"';return"<"+H.tag+' class="'+H.classes.join(" ")+'"'+j+">"+H.content+"</"+H.tag+">"};function l(x,_,L,I){x.lastIndex=_;var H=x.exec(L);if(H&&I&&H[1]){var B=H[1].length;H.index+=B,H[0]=H[0].slice(B)}return H}function d(x,_,L,I,H,B){for(var j in L)if(!(!L.hasOwnProperty(j)||!L[j])){var U=L[j];U=Array.isArray(U)?U:[U];for(var V=0;V<U.length;++V){if(B&&B.cause==j+","+V)return;var te=U[V],O=te.inside,g=!!te.lookbehind,E=!!te.greedy,s=te.alias;if(E&&!te.pattern.global){var c=te.pattern.toString().match(/[imsuy]*$/)[0];te.pattern=RegExp(te.pattern.source,c+"g")}for(var u=te.pattern||te,h=I.next,k=H;h!==_.tail&&!(B&&k>=B.reach);k+=h.value.length,h=h.next){var $=h.value;if(_.length>x.length)return;if(!($ instanceof a)){var M=1,D;if(E){if(D=l(u,k,x,g),!D||D.index>=x.length)break;var le=D.index,q=D.index+D[0].length,W=k;for(W+=h.value.length;le>=W;)h=h.next,W+=h.value.length;if(W-=h.value.length,k=W,h.value instanceof a)continue;for(var se=h;se!==_.tail&&(W<q||typeof se.value=="string");se=se.next)M++,W+=se.value.length;M--,$=x.slice(k,W),D.index-=k}else if(D=l(u,0,$,g),!D)continue;var le=D.index,ce=D[0],_e=$.slice(0,le),Ee=$.slice(le+ce.length),Ce=k+$.length;B&&Ce>B.reach&&(B.reach=Ce);var Te=h.prev;_e&&(Te=f(_,Te,_e),k+=_e.length),v(_,Te,M);var qe=new a(j,O?n.tokenize(ce,O):ce,s,ce);if(h=f(_,Te,qe),Ee&&f(_,h,Ee),M>1){var Me={cause:j+","+V,reach:Ce};d(x,_,L,h.prev,k,Me),B&&Me.reach>B.reach&&(B.reach=Me.reach)}}}}}}function m(){var x={value:null,prev:null,next:null},_={value:null,prev:x,next:null};x.next=_,this.head=x,this.tail=_,this.length=0}function f(x,_,L){var I=_.next,H={value:L,prev:_,next:I};return _.next=H,I.prev=H,x.length++,H}function v(x,_,L){for(var I=_.next,H=0;H<L&&I!==x.tail;H++)I=I.next;_.next=I,I.prev=_,x.length-=H}function b(x){for(var _=[],L=x.head.next;L!==x.tail;)_.push(L.value),L=L.next;return _}if(!o.document)return o.addEventListener&&(n.disableWorkerMessageHandler||o.addEventListener("message",function(x){var _=JSON.parse(x.data),L=_.language,I=_.code,H=_.immediateClose;o.postMessage(n.highlight(I,n.languages[L],L)),H&&o.close()},!1)),n;var C=n.util.currentScript();C&&(n.filename=C.src,C.hasAttribute("data-manual")&&(n.manual=!0));function A(){n.manual||n.highlightAll()}if(!n.manual){var T=document.readyState;T==="loading"||T==="interactive"&&C&&C.defer?document.addEventListener("DOMContentLoaded",A):window.requestAnimationFrame?window.requestAnimationFrame(A):window.setTimeout(A,16)}return n})(Uv);typeof en<"u"&&en.exports&&(en.exports=oe);typeof global<"u"&&(global.Prism=oe);oe.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};oe.languages.markup.tag.inside["attr-value"].inside.entity=oe.languages.markup.entity;oe.languages.markup.doctype.inside["internal-subset"].inside=oe.languages.markup;oe.hooks.add("wrap",function(o){o.type==="entity"&&(o.attributes.title=o.content.replace(/&amp;/,"&"))});Object.defineProperty(oe.languages.markup.tag,"addInlined",{value:function(e,t){var i={};i["language-"+t]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:oe.languages[t]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var n={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};n["language-"+t]={pattern:/[\s\S]+/,inside:oe.languages[t]};var a={};a[e]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return e}),"i"),lookbehind:!0,greedy:!0,inside:n},oe.languages.insertBefore("markup","cdata",a)}});Object.defineProperty(oe.languages.markup.tag,"addAttribute",{value:function(o,e){oe.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+o+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[e,"language-"+e],inside:oe.languages[e]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});oe.languages.html=oe.languages.markup;oe.languages.mathml=oe.languages.markup;oe.languages.svg=oe.languages.markup;oe.languages.xml=oe.languages.extend("markup",{});oe.languages.ssml=oe.languages.xml;oe.languages.atom=oe.languages.xml;oe.languages.rss=oe.languages.xml;(function(o){var e=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;o.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+e.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+e.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+e.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+e.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:e,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},o.languages.css.atrule.inside.rest=o.languages.css;var t=o.languages.markup;t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))})(oe);oe.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/};oe.languages.javascript=oe.languages.extend("clike",{"class-name":[oe.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/});oe.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/;oe.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:oe.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:oe.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:oe.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:oe.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:oe.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/});oe.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:oe.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}});oe.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}});oe.languages.markup&&(oe.languages.markup.tag.addInlined("script","javascript"),oe.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript"));oe.languages.js=oe.languages.javascript;(function(){if(typeof oe>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var o="Loading\u2026",e=function(C,A){return"\u2716 Error "+C+" while fetching file: "+A},t="\u2716 Error: File does not exist or is empty",i={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},n="data-src-status",a="loading",l="loaded",d="failed",m="pre[data-src]:not(["+n+'="'+l+'"]):not(['+n+'="'+a+'"])';function f(C,A,T){var x=new XMLHttpRequest;x.open("GET",C,!0),x.onreadystatechange=function(){x.readyState==4&&(x.status<400&&x.responseText?A(x.responseText):x.status>=400?T(e(x.status,x.statusText)):T(t))},x.send(null)}function v(C){var A=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(C||"");if(A){var T=Number(A[1]),x=A[2],_=A[3];return x?_?[T,Number(_)]:[T,void 0]:[T,T]}}oe.hooks.add("before-highlightall",function(C){C.selector+=", "+m}),oe.hooks.add("before-sanity-check",function(C){var A=C.element;if(A.matches(m)){C.code="",A.setAttribute(n,a);var T=A.appendChild(document.createElement("CODE"));T.textContent=o;var x=A.getAttribute("data-src"),_=C.language;if(_==="none"){var L=(/\.(\w+)$/.exec(x)||[,"none"])[1];_=i[L]||L}oe.util.setLanguage(T,_),oe.util.setLanguage(A,_);var I=oe.plugins.autoloader;I&&I.loadLanguages(_),f(x,function(H){A.setAttribute(n,l);var B=v(A.getAttribute("data-range"));if(B){var j=H.split(/\r\n?|\n/g),U=B[0],V=B[1]==null?j.length:B[1];U<0&&(U+=j.length),U=Math.max(0,Math.min(U-1,j.length)),V<0&&(V+=j.length),V=Math.max(0,Math.min(V,j.length)),H=j.slice(U,V).join(`
`),A.hasAttribute("data-start")||A.setAttribute("data-start",String(U+1))}T.textContent=H,oe.highlightElement(T)},function(H){A.setAttribute(n,d),T.textContent=H})}}),oe.plugins.fileHighlight={highlight:function(A){for(var T=(A||document).querySelectorAll(m),x=0,_;_=T[x++];)oe.highlightElement(_)}};var b=!1;oe.fileHighlight=function(){b||(b=!0),oe.plugins.fileHighlight.highlight.apply(this,arguments)}})()});var Od,Nd,Fd,Bd,Rd=y(()=>{Od=Mt(Za(),1),Nd={pattern:/('([^']|\\')*'|"([^"]|\\")*")/},Fd={pattern:new RegExp("@{.+}","s"),greedy:!0,inside:{punctuation:/[\|\(\)\{\}]+/,string:Nd}},Bd=Od.default.languages.extend("html",{comment:{pattern:new RegExp("<#.+?#>","s")},function:{pattern:new RegExp("<@.+?@>","s"),inside:{keyword:{pattern:/(for|foreach|if|else|end|snippet|with)/},boolean:{pattern:/(true|false)/},property:{pattern:/[\w\:]+\:/},variable:Fd,string:Nd,punctuation:{pattern:/[\:\{\}\(\)]/}}},number:{pattern:/\d(.\d+)?/},operator:{pattern:/([\+\-\/\*\!]|not)/},tag:{pattern:/<\/?(?!\d)[^\s@>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},variable:Fd})});var Pd=y(()=>{(function(o){function e(t,i){return"___"+t.toUpperCase()+i+"___"}Object.defineProperties(o.languages["markup-templating"]={},{buildPlaceholders:{value:function(t,i,n,a){if(t.language===i){var l=t.tokenStack=[];t.code=t.code.replace(n,function(d){if(typeof a=="function"&&!a(d))return d;for(var m=l.length,f;t.code.indexOf(f=e(i,m))!==-1;)++m;return l[m]=d,f}),t.grammar=o.languages.markup}}},tokenizePlaceholders:{value:function(t,i){if(t.language!==i||!t.tokenStack)return;t.grammar=o.languages[i];var n=0,a=Object.keys(t.tokenStack);function l(d){for(var m=0;m<d.length&&!(n>=a.length);m++){var f=d[m];if(typeof f=="string"||f.content&&typeof f.content=="string"){var v=a[n],b=t.tokenStack[v],C=typeof f=="string"?f:f.content,A=e(i,v),T=C.indexOf(A);if(T>-1){++n;var x=C.substring(0,T),_=new o.Token(i,o.tokenize(b,t.grammar),"language-"+i,b),L=C.substring(T+A.length),I=[];x&&I.push.apply(I,l([x])),I.push(_),L&&I.push.apply(I,l([L])),typeof f=="string"?d.splice.apply(d,[m,1].concat(I)):f.content=I}}else f.content&&l(f.content)}return d}l(t.tokens)}}})})(Prism)});var Hd=y(()=>{Prism.languages.apacheconf={comment:/#.*/,"directive-inline":{pattern:/(^[\t ]*)\b(?:AcceptFilter|AcceptPathInfo|AccessFileName|Action|Add(?:Alt|AltByEncoding|AltByType|Charset|DefaultCharset|Description|Encoding|Handler|Icon|IconByEncoding|IconByType|InputFilter|Language|ModuleInfo|OutputFilter|OutputFilterByType|Type)|Alias|AliasMatch|Allow(?:CONNECT|EncodedSlashes|Methods|Override|OverrideList)?|Anonymous(?:_LogEmail|_MustGiveEmail|_NoUserID|_VerifyEmail)?|AsyncRequestWorkerFactor|Auth(?:BasicAuthoritative|BasicFake|BasicProvider|BasicUseDigestAlgorithm|DBDUserPWQuery|DBDUserRealmQuery|DBMGroupFile|DBMType|DBMUserFile|Digest(?:Algorithm|Domain|NonceLifetime|Provider|Qop|ShmemSize)|Form(?:Authoritative|Body|DisableNoStore|FakeBasicAuth|Location|LoginRequiredLocation|LoginSuccessLocation|LogoutLocation|Method|Mimetype|Password|Provider|SitePassphrase|Size|Username)|GroupFile|LDAP(?:AuthorizePrefix|BindAuthoritative|BindDN|BindPassword|CharsetConfig|CompareAsUser|CompareDNOnServer|DereferenceAliases|GroupAttribute|GroupAttributeIsDN|InitialBindAsUser|InitialBindPattern|MaxSubGroupDepth|RemoteUserAttribute|RemoteUserIsDN|SearchAsUser|SubGroupAttribute|SubGroupClass|Url)|Merging|Name|nCache(?:Context|Enable|ProvideFor|SOCache|Timeout)|nzFcgiCheckAuthnProvider|nzFcgiDefineProvider|Type|UserFile|zDBDLoginToReferer|zDBDQuery|zDBDRedirectQuery|zDBMType|zSendForbiddenOnFailure)|BalancerGrowth|BalancerInherit|BalancerMember|BalancerPersist|BrowserMatch|BrowserMatchNoCase|BufferedLogs|BufferSize|Cache(?:DefaultExpire|DetailHeader|DirLength|DirLevels|Disable|Enable|File|Header|IgnoreCacheControl|IgnoreHeaders|IgnoreNoLastMod|IgnoreQueryString|IgnoreURLSessionIdentifiers|KeyBaseURL|LastModifiedFactor|Lock|LockMaxAge|LockPath|MaxExpire|MaxFileSize|MinExpire|MinFileSize|NegotiatedDocs|QuickHandler|ReadSize|ReadTime|Root|Socache(?:MaxSize|MaxTime|MinTime|ReadSize|ReadTime)?|StaleOnError|StoreExpired|StoreNoStore|StorePrivate)|CGIDScriptTimeout|CGIMapExtension|CharsetDefault|CharsetOptions|CharsetSourceEnc|CheckCaseOnly|CheckSpelling|ChrootDir|ContentDigest|CookieDomain|CookieExpires|CookieName|CookieStyle|CookieTracking|CoreDumpDirectory|CustomLog|Dav|DavDepthInfinity|DavGenericLockDB|DavLockDB|DavMinTimeout|DBDExptime|DBDInitSQL|DBDKeep|DBDMax|DBDMin|DBDParams|DBDPersist|DBDPrepareSQL|DBDriver|DefaultIcon|DefaultLanguage|DefaultRuntimeDir|DefaultType|Define|Deflate(?:BufferSize|CompressionLevel|FilterNote|InflateLimitRequestBody|InflateRatio(?:Burst|Limit)|MemLevel|WindowSize)|Deny|DirectoryCheckHandler|DirectoryIndex|DirectoryIndexRedirect|DirectorySlash|DocumentRoot|DTracePrivileges|DumpIOInput|DumpIOOutput|EnableExceptionHook|EnableMMAP|EnableSendfile|Error|ErrorDocument|ErrorLog|ErrorLogFormat|Example|ExpiresActive|ExpiresByType|ExpiresDefault|ExtendedStatus|ExtFilterDefine|ExtFilterOptions|FallbackResource|FileETag|FilterChain|FilterDeclare|FilterProtocol|FilterProvider|FilterTrace|ForceLanguagePriority|ForceType|ForensicLog|GprofDir|GracefulShutdownTimeout|Group|Header|HeaderName|Heartbeat(?:Address|Listen|MaxServers|Storage)|HostnameLookups|IdentityCheck|IdentityCheckTimeout|ImapBase|ImapDefault|ImapMenu|Include|IncludeOptional|Index(?:HeadInsert|Ignore|IgnoreReset|Options|OrderDefault|StyleSheet)|InputSed|ISAPI(?:AppendLogToErrors|AppendLogToQuery|CacheFile|FakeAsync|LogNotSupported|ReadAheadBuffer)|KeepAlive|KeepAliveTimeout|KeptBodySize|LanguagePriority|LDAP(?:CacheEntries|CacheTTL|ConnectionPoolTTL|ConnectionTimeout|LibraryDebug|OpCacheEntries|OpCacheTTL|ReferralHopLimit|Referrals|Retries|RetryDelay|SharedCacheFile|SharedCacheSize|Timeout|TrustedClientCert|TrustedGlobalCert|TrustedMode|VerifyServerCert)|Limit(?:InternalRecursion|Request(?:Body|Fields|FieldSize|Line)|XMLRequestBody)|Listen|ListenBackLog|LoadFile|LoadModule|LogFormat|LogLevel|LogMessage|LuaAuthzProvider|LuaCodeCache|Lua(?:Hook(?:AccessChecker|AuthChecker|CheckUserID|Fixups|InsertFilter|Log|MapToStorage|TranslateName|TypeChecker)|Inherit|InputFilter|MapHandler|OutputFilter|PackageCPath|PackagePath|QuickHandler|Root|Scope)|Max(?:ConnectionsPerChild|KeepAliveRequests|MemFree|RangeOverlaps|RangeReversals|Ranges|RequestWorkers|SpareServers|SpareThreads|Threads)|MergeTrailers|MetaDir|MetaFiles|MetaSuffix|MimeMagicFile|MinSpareServers|MinSpareThreads|MMapFile|ModemStandard|ModMimeUsePathInfo|MultiviewsMatch|Mutex|NameVirtualHost|NoProxy|NWSSLTrustedCerts|NWSSLUpgradeable|Options|Order|OutputSed|PassEnv|PidFile|PrivilegesMode|Protocol|ProtocolEcho|Proxy(?:AddHeaders|BadHeader|Block|Domain|ErrorOverride|ExpressDBMFile|ExpressDBMType|ExpressEnable|FtpDirCharset|FtpEscapeWildcards|FtpListOnWildcard|HTML(?:BufSize|CharsetOut|DocType|Enable|Events|Extended|Fixups|Interp|Links|Meta|StripComments|URLMap)|IOBufferSize|MaxForwards|Pass(?:Inherit|InterpolateEnv|Match|Reverse|ReverseCookieDomain|ReverseCookiePath)?|PreserveHost|ReceiveBufferSize|Remote|RemoteMatch|Requests|SCGIInternalRedirect|SCGISendfile|Set|SourceAddress|Status|Timeout|Via)|ReadmeName|ReceiveBufferSize|Redirect|RedirectMatch|RedirectPermanent|RedirectTemp|ReflectorHeader|RemoteIP(?:Header|InternalProxy|InternalProxyList|ProxiesHeader|TrustedProxy|TrustedProxyList)|RemoveCharset|RemoveEncoding|RemoveHandler|RemoveInputFilter|RemoveLanguage|RemoveOutputFilter|RemoveType|RequestHeader|RequestReadTimeout|Require|Rewrite(?:Base|Cond|Engine|Map|Options|Rule)|RLimitCPU|RLimitMEM|RLimitNPROC|Satisfy|ScoreBoardFile|Script(?:Alias|AliasMatch|InterpreterSource|Log|LogBuffer|LogLength|Sock)?|SecureListen|SeeRequestTail|SendBufferSize|Server(?:Admin|Alias|Limit|Name|Path|Root|Signature|Tokens)|Session(?:Cookie(?:Name|Name2|Remove)|Crypto(?:Cipher|Driver|Passphrase|PassphraseFile)|DBD(?:CookieName|CookieName2|CookieRemove|DeleteLabel|InsertLabel|PerUser|SelectLabel|UpdateLabel)|Env|Exclude|Header|Include|MaxAge)?|SetEnv|SetEnvIf|SetEnvIfExpr|SetEnvIfNoCase|SetHandler|SetInputFilter|SetOutputFilter|SSIEndTag|SSIErrorMsg|SSIETag|SSILastModified|SSILegacyExprParser|SSIStartTag|SSITimeFormat|SSIUndefinedEcho|SSL(?:CACertificateFile|CACertificatePath|CADNRequestFile|CADNRequestPath|CARevocationCheck|CARevocationFile|CARevocationPath|CertificateChainFile|CertificateFile|CertificateKeyFile|CipherSuite|Compression|CryptoDevice|Engine|FIPS|HonorCipherOrder|InsecureRenegotiation|OCSP(?:DefaultResponder|Enable|OverrideResponder|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|UseRequestNonce)|OpenSSLConfCmd|Options|PassPhraseDialog|Protocol|Proxy(?:CACertificateFile|CACertificatePath|CARevocation(?:Check|File|Path)|CheckPeer(?:CN|Expire|Name)|CipherSuite|Engine|MachineCertificate(?:ChainFile|File|Path)|Protocol|Verify|VerifyDepth)|RandomSeed|RenegBufferSize|Require|RequireSSL|Session(?:Cache|CacheTimeout|TicketKeyFile|Tickets)|SRPUnknownUserSeed|SRPVerifierFile|Stapling(?:Cache|ErrorCacheTimeout|FakeTryLater|ForceURL|ResponderTimeout|ResponseMaxAge|ResponseTimeSkew|ReturnResponderErrors|StandardCacheTimeout)|StrictSNIVHostCheck|UserName|UseStapling|VerifyClient|VerifyDepth)|StartServers|StartThreads|Substitute|Suexec|SuexecUserGroup|ThreadLimit|ThreadsPerChild|ThreadStackSize|TimeOut|TraceEnable|TransferLog|TypesConfig|UnDefine|UndefMacro|UnsetEnv|Use|UseCanonicalName|UseCanonicalPhysicalPort|User|UserDir|VHostCGIMode|VHostCGIPrivs|VHostGroup|VHostPrivs|VHostSecure|VHostUser|Virtual(?:DocumentRoot|ScriptAlias)(?:IP)?|WatchdogInterval|XBitHack|xml2EncAlias|xml2EncDefault|xml2StartParse)\b/im,lookbehind:!0,alias:"property"},"directive-block":{pattern:/<\/?\b(?:Auth[nz]ProviderAlias|Directory|DirectoryMatch|Else|ElseIf|Files|FilesMatch|If|IfDefine|IfModule|IfVersion|Limit|LimitExcept|Location|LocationMatch|Macro|Proxy|Require(?:All|Any|None)|VirtualHost)\b.*>/i,inside:{"directive-block":{pattern:/^<\/?\w+/,inside:{punctuation:/^<\/?/},alias:"tag"},"directive-block-parameter":{pattern:/.*[^>]/,inside:{punctuation:/:/,string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}}},alias:"attr-value"},punctuation:/>/},alias:"tag"},"directive-flags":{pattern:/\[(?:[\w=],?)+\]/,alias:"keyword"},string:{pattern:/("|').*\1/,inside:{variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/}},variable:/[$%]\{?(?:\w\.?[-+:]?)+\}?/,regex:/\^?.*\$|\^.*\$?/}});var Ud=y(()=>{Prism.languages.basic={comment:{pattern:/(?:!|REM\b).+/i,inside:{keyword:/^REM/i}},string:{pattern:/"(?:""|[!#$%&'()*,\/:;<=>?^\w +\-.])*"/,greedy:!0},number:/(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:E[+-]?\d+)?/i,keyword:/\b(?:AS|BEEP|BLOAD|BSAVE|CALL(?: ABSOLUTE)?|CASE|CHAIN|CHDIR|CLEAR|CLOSE|CLS|COM|COMMON|CONST|DATA|DECLARE|DEF(?: FN| SEG|DBL|INT|LNG|SNG|STR)|DIM|DO|DOUBLE|ELSE|ELSEIF|END|ENVIRON|ERASE|ERROR|EXIT|FIELD|FILES|FOR|FUNCTION|GET|GOSUB|GOTO|IF|INPUT|INTEGER|IOCTL|KEY|KILL|LINE INPUT|LOCATE|LOCK|LONG|LOOP|LSET|MKDIR|NAME|NEXT|OFF|ON(?: COM| ERROR| KEY| TIMER)?|OPEN|OPTION BASE|OUT|POKE|PUT|READ|REDIM|REM|RESTORE|RESUME|RETURN|RMDIR|RSET|RUN|SELECT CASE|SHARED|SHELL|SINGLE|SLEEP|STATIC|STEP|STOP|STRING|SUB|SWAP|SYSTEM|THEN|TIMER|TO|TROFF|TRON|TYPE|UNLOCK|UNTIL|USING|VIEW PRINT|WAIT|WEND|WHILE|WRITE)(?:\$|\b)/i,function:/\b(?:ABS|ACCESS|ACOS|ANGLE|AREA|ARITHMETIC|ARRAY|ASIN|ASK|AT|ATN|BASE|BEGIN|BREAK|CAUSE|CEIL|CHR|CLIP|COLLATE|COLOR|CON|COS|COSH|COT|CSC|DATE|DATUM|DEBUG|DECIMAL|DEF|DEG|DEGREES|DELETE|DET|DEVICE|DISPLAY|DOT|ELAPSED|EPS|ERASABLE|EXLINE|EXP|EXTERNAL|EXTYPE|FILETYPE|FIXED|FP|GO|GRAPH|HANDLER|IDN|IMAGE|IN|INT|INTERNAL|IP|IS|KEYED|LBOUND|LCASE|LEFT|LEN|LENGTH|LET|LINE|LINES|LOG|LOG10|LOG2|LTRIM|MARGIN|MAT|MAX|MAXNUM|MID|MIN|MISSING|MOD|NATIVE|NUL|NUMERIC|OF|OPTION|ORD|ORGANIZATION|OUTIN|OUTPUT|PI|POINT|POINTER|POINTS|POS|PRINT|PROGRAM|PROMPT|RAD|RADIANS|RANDOMIZE|RECORD|RECSIZE|RECTYPE|RELATIVE|REMAINDER|REPEAT|REST|RETRY|REWRITE|RIGHT|RND|ROUND|RTRIM|SAME|SEC|SELECT|SEQUENTIAL|SET|SETTER|SGN|SIN|SINH|SIZE|SKIP|SQR|STANDARD|STATUS|STR|STREAM|STYLE|TAB|TAN|TANH|TEMPLATE|TEXT|THERE|TIME|TIMEOUT|TRACE|TRANSFORM|TRUNCATE|UBOUND|UCASE|USE|VAL|VARIABLE|VIEWPORT|WHEN|WINDOW|WITH|ZER|ZONEWIDTH)(?:\$|\b)/i,operator:/<[=>]?|>=?|[+\-*\/^=&]|\b(?:AND|EQV|IMP|NOT|OR|XOR)\b/i,punctuation:/[,;:()]/}});var jd=y(()=>{Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/});Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}});Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}});Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/});delete Prism.languages.c.boolean});var qd=y(()=>{(function(o){function e(D,q){return D.replace(/<<(\d+)>>/g,function(W,se){return"(?:"+q[+se]+")"})}function t(D,q,W){return RegExp(e(D,q),W||"")}function i(D,q){for(var W=0;W<q;W++)D=D.replace(/<<self>>/g,function(){return"(?:"+D+")"});return D.replace(/<<self>>/g,"[^\\s\\S]")}var n={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function a(D){return"\\b(?:"+D.trim().replace(/ /g,"|")+")\\b"}var l=a(n.typeDeclaration),d=RegExp(a(n.type+" "+n.typeDeclaration+" "+n.contextual+" "+n.other)),m=a(n.typeDeclaration+" "+n.contextual+" "+n.other),f=a(n.type+" "+n.typeDeclaration+" "+n.other),v=i(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),b=i(/\((?:[^()]|<<self>>)*\)/.source,2),C=/@?\b[A-Za-z_]\w*\b/.source,A=e(/<<0>>(?:\s*<<1>>)?/.source,[C,v]),T=e(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[m,A]),x=/\[\s*(?:,\s*)*\]/.source,_=e(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[T,x]),L=e(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[v,b,x]),I=e(/\(<<0>>+(?:,<<0>>+)+\)/.source,[L]),H=e(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[I,T,x]),B={keyword:d,punctuation:/[<>()?,.:[\]]/},j=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,U=/"(?:\\.|[^\\"\r\n])*"/.source,V=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;o.languages.csharp=o.languages.extend("clike",{string:[{pattern:t(/(^|[^$\\])<<0>>/.source,[V]),lookbehind:!0,greedy:!0},{pattern:t(/(^|[^@$\\])<<0>>/.source,[U]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:t(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[T]),lookbehind:!0,inside:B},{pattern:t(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[C,H]),lookbehind:!0,inside:B},{pattern:t(/(\busing\s+)<<0>>(?=\s*=)/.source,[C]),lookbehind:!0},{pattern:t(/(\b<<0>>\s+)<<1>>/.source,[l,A]),lookbehind:!0,inside:B},{pattern:t(/(\bcatch\s*\(\s*)<<0>>/.source,[T]),lookbehind:!0,inside:B},{pattern:t(/(\bwhere\s+)<<0>>/.source,[C]),lookbehind:!0},{pattern:t(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[_]),lookbehind:!0,inside:B},{pattern:t(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[H,f,C]),inside:B}],keyword:d,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),o.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),o.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:t(/([(,]\s*)<<0>>(?=\s*:)/.source,[C]),lookbehind:!0,alias:"punctuation"}}),o.languages.insertBefore("csharp","class-name",{namespace:{pattern:t(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[C]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:t(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[b]),lookbehind:!0,alias:"class-name",inside:B},"return-type":{pattern:t(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[H,T]),inside:B,alias:"class-name"},"constructor-invocation":{pattern:t(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[H]),lookbehind:!0,inside:B,alias:"class-name"},"generic-method":{pattern:t(/<<0>>\s*<<1>>(?=\s*\()/.source,[C,v]),inside:{function:t(/^<<0>>/.source,[C]),generic:{pattern:RegExp(v),alias:"class-name",inside:B}}},"type-list":{pattern:t(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[l,A,C,H,d.source,b,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:t(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[A,b]),lookbehind:!0,greedy:!0,inside:o.languages.csharp},keyword:d,"class-name":{pattern:RegExp(H),greedy:!0,inside:B},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var te=U+"|"+j,O=e(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[te]),g=i(e(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[O]),2),E=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,s=e(/<<0>>(?:\s*\(<<1>>*\))?/.source,[T,g]);o.languages.insertBefore("csharp","class-name",{attribute:{pattern:t(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[E,s]),lookbehind:!0,greedy:!0,inside:{target:{pattern:t(/^<<0>>(?=\s*:)/.source,[E]),alias:"keyword"},"attribute-arguments":{pattern:t(/\(<<0>>*\)/.source,[g]),inside:o.languages.csharp},"class-name":{pattern:RegExp(T),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var c=/:[^}\r\n]+/.source,u=i(e(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[O]),2),h=e(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[u,c]),k=i(e(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[te]),2),$=e(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[k,c]);function M(D,q){return{interpolation:{pattern:t(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[D]),lookbehind:!0,inside:{"format-string":{pattern:t(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[q,c]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:o.languages.csharp}}},string:/[\s\S]+/}}o.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:t(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[h]),lookbehind:!0,greedy:!0,inside:M(h,u)},{pattern:t(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[$]),lookbehind:!0,greedy:!0,inside:M($,k)}],char:{pattern:RegExp(j),greedy:!0}}),o.languages.dotnet=o.languages.cs=o.languages.csharp})(Prism)});var Gd=y(()=>{(function(o){var e=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,t=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return e.source});o.languages.cpp=o.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:e,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),o.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return t})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),o.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:o.languages.cpp}}}}),o.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),o.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:o.languages.extend("cpp",{})}}),o.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},o.languages.cpp["base-clause"])})(Prism)});var Vd=y(()=>{Prism.languages.go=Prism.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/});Prism.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}});delete Prism.languages.go["class-name"]});var Kd=y(()=>{(function(o){o.languages.handlebars={comment:/\{\{![\s\S]*?\}\}/,delimiter:{pattern:/^\{\{\{?|\}\}\}?$/,alias:"punctuation"},string:/(["'])(?:\\.|(?!\1)[^\\\r\n])*\1/,number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee][+-]?\d+)?/,boolean:/\b(?:false|true)\b/,block:{pattern:/^(\s*(?:~\s*)?)[#\/]\S+?(?=\s*(?:~\s*)?$|\s)/,lookbehind:!0,alias:"keyword"},brackets:{pattern:/\[[^\]]+\]/,inside:{punctuation:/\[|\]/,variable:/[\s\S]+/}},punctuation:/[!"#%&':()*+,.\/;<=>@\[\\\]^`{|}~]/,variable:/[^!"#%&'()*+,\/;<=>@\[\\\]^`{|}~\s]+/},o.hooks.add("before-tokenize",function(e){var t=/\{\{\{[\s\S]+?\}\}\}|\{\{[\s\S]+?\}\}/g;o.languages["markup-templating"].buildPlaceholders(e,"handlebars",t)}),o.hooks.add("after-tokenize",function(e){o.languages["markup-templating"].tokenizePlaceholders(e,"handlebars")}),o.languages.hbs=o.languages.handlebars,o.languages.mustache=o.languages.handlebars})(Prism)});var Wd=y(()=>{Prism.languages.graphql={comment:/#.*/,description:{pattern:/(?:"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*")(?=\s*[a-z_])/i,greedy:!0,alias:"string",inside:{"language-markdown":{pattern:/(^"(?:"")?)(?!\1)[\s\S]+(?=\1$)/,lookbehind:!0,inside:Prism.languages.markdown}}},string:{pattern:/"""(?:[^"]|(?!""")")*"""|"(?:\\.|[^\\"\r\n])*"/,greedy:!0},number:/(?:\B-|\b)\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,boolean:/\b(?:false|true)\b/,variable:/\$[a-z_]\w*/i,directive:{pattern:/@[a-z_]\w*/i,alias:"function"},"attr-name":{pattern:/\b[a-z_]\w*(?=\s*(?:\((?:[^()"]|"(?:\\.|[^\\"\r\n])*")*\))?:)/i,greedy:!0},"atom-input":{pattern:/\b[A-Z]\w*Input\b/,alias:"class-name"},scalar:/\b(?:Boolean|Float|ID|Int|String)\b/,constant:/\b[A-Z][A-Z_\d]*\b/,"class-name":{pattern:/(\b(?:enum|implements|interface|on|scalar|type|union)\s+|&\s*|:\s*|\[)[A-Z_]\w*/,lookbehind:!0},fragment:{pattern:/(\bfragment\s+|\.{3}\s*(?!on\b))[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-mutation":{pattern:/(\bmutation\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},"definition-query":{pattern:/(\bquery\s+)[a-zA-Z_]\w*/,lookbehind:!0,alias:"function"},keyword:/\b(?:directive|enum|extend|fragment|implements|input|interface|mutation|on|query|repeatable|scalar|schema|subscription|type|union)\b/,operator:/[!=|&]|\.{3}/,"property-query":/\w+(?=\s*\()/,object:/\w+(?=\s*\{)/,punctuation:/[!(){}\[\]:=,]/,property:/\w+/};Prism.hooks.add("after-tokenize",function(e){if(e.language!=="graphql")return;var t=e.tokens.filter(function(x){return typeof x!="string"&&x.type!=="comment"&&x.type!=="scalar"}),i=0;function n(x){return t[i+x]}function a(x,_){_=_||0;for(var L=0;L<x.length;L++){var I=n(L+_);if(!I||I.type!==x[L])return!1}return!0}function l(x,_){for(var L=1,I=i;I<t.length;I++){var H=t[I],B=H.content;if(H.type==="punctuation"&&typeof B=="string"){if(x.test(B))L++;else if(_.test(B)&&(L--,L===0))return I}}return-1}function d(x,_){var L=x.alias;L?Array.isArray(L)||(x.alias=L=[L]):x.alias=L=[],L.push(_)}for(;i<t.length;){var m=t[i++];if(m.type==="keyword"&&m.content==="mutation"){var f=[];if(a(["definition-mutation","punctuation"])&&n(1).content==="("){i+=2;var v=l(/^\($/,/^\)$/);if(v===-1)continue;for(;i<v;i++){var b=n(0);b.type==="variable"&&(d(b,"variable-input"),f.push(b.content))}i=v+1}if(a(["punctuation","property-query"])&&n(0).content==="{"&&(i++,d(n(0),"property-mutation"),f.length>0)){var C=l(/^\{$/,/^\}$/);if(C===-1)continue;for(var A=i;A<C;A++){var T=t[A];T.type==="variable"&&f.indexOf(T.content)>=0&&d(T,"variable-input")}}}}})});var Xd=y(()=>{(function(o){var e=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,t=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,i={pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};o.languages.java=o.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[i,{pattern:RegExp(/(^|[^\w.])/.source+t+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:i.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+t+/[A-Z]\w*\b/.source),lookbehind:!0,inside:i.inside}],keyword:e,function:[o.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),o.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),o.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":i,keyword:e,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+t+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:i.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+t+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:i.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return e.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism)});var Yd=y(()=>{(function(o){var e=o.util.clone(o.languages.javascript),t=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,i=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,n=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function a(m,f){return m=m.replace(/<S>/g,function(){return t}).replace(/<BRACES>/g,function(){return i}).replace(/<SPREAD>/g,function(){return n}),RegExp(m,f)}n=a(n).source,o.languages.jsx=o.languages.extend("markup",e),o.languages.jsx.tag.pattern=a(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),o.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,o.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,o.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,o.languages.jsx.tag.inside.comment=e.comment,o.languages.insertBefore("inside","attr-name",{spread:{pattern:a(/<SPREAD>/.source),inside:o.languages.jsx}},o.languages.jsx.tag),o.languages.insertBefore("inside","special-attr",{script:{pattern:a(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:o.languages.jsx}}},o.languages.jsx.tag);var l=function(m){return m?typeof m=="string"?m:typeof m.content=="string"?m.content:m.content.map(l).join(""):""},d=function(m){for(var f=[],v=0;v<m.length;v++){var b=m[v],C=!1;if(typeof b!="string"&&(b.type==="tag"&&b.content[0]&&b.content[0].type==="tag"?b.content[0].content[0].content==="</"?f.length>0&&f[f.length-1].tagName===l(b.content[0].content[1])&&f.pop():b.content[b.content.length-1].content==="/>"||f.push({tagName:l(b.content[0].content[1]),openedBraces:0}):f.length>0&&b.type==="punctuation"&&b.content==="{"?f[f.length-1].openedBraces++:f.length>0&&f[f.length-1].openedBraces>0&&b.type==="punctuation"&&b.content==="}"?f[f.length-1].openedBraces--:C=!0),(C||typeof b=="string")&&f.length>0&&f[f.length-1].openedBraces===0){var A=l(b);v<m.length-1&&(typeof m[v+1]=="string"||m[v+1].type==="plain-text")&&(A+=l(m[v+1]),m.splice(v+1,1)),v>0&&(typeof m[v-1]=="string"||m[v-1].type==="plain-text")&&(A=l(m[v-1])+A,m.splice(v-1,1),v--),m[v]=new o.Token("plain-text",A,null,A)}b.content&&typeof b.content!="string"&&d(b.content)}};o.hooks.add("after-tokenize",function(m){m.language!=="jsx"&&m.language!=="tsx"||d(m.tokens)})})(Prism)});var Jd=y(()=>{(function(o){var e=/\\(?:[^a-z()[\]]|[a-z*]+)/i,t={"equation-command":{pattern:e,alias:"regex"}};o.languages.latex={comment:/%.*/,cdata:{pattern:/(\\begin\{((?:lstlisting|verbatim)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0},equation:[{pattern:/\$\$(?:\\[\s\S]|[^\\$])+\$\$|\$(?:\\[\s\S]|[^\\$])+\$|\\\([\s\S]*?\\\)|\\\[[\s\S]*?\\\]/,inside:t,alias:"string"},{pattern:/(\\begin\{((?:align|eqnarray|equation|gather|math|multline)\*?)\})[\s\S]*?(?=\\end\{\2\})/,lookbehind:!0,inside:t,alias:"string"}],keyword:{pattern:/(\\(?:begin|cite|documentclass|end|label|ref|usepackage)(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0},url:{pattern:/(\\url\{)[^}]+(?=\})/,lookbehind:!0},headline:{pattern:/(\\(?:chapter|frametitle|paragraph|part|section|subparagraph|subsection|subsubparagraph|subsubsection|subsubsubparagraph)\*?(?:\[[^\]]+\])?\{)[^}]+(?=\})/,lookbehind:!0,alias:"class-name"},function:{pattern:e,alias:"selector"},punctuation:/[[\]{}&]/},o.languages.tex=o.languages.latex,o.languages.context=o.languages.latex})(Prism)});var Zd=y(()=>{Prism.languages.less=Prism.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/});Prism.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}})});var Qd=y(()=>{Prism.languages.lua={comment:/^#!.+|--(?:\[(=*)\[[\s\S]*?\]\1\]|.*)/m,string:{pattern:/(["'])(?:(?!\1)[^\\\r\n]|\\z(?:\r\n|\s)|\\(?:\r\n|[^z]))*\1|\[(=*)\[[\s\S]*?\]\2\]/,greedy:!0},number:/\b0x[a-f\d]+(?:\.[a-f\d]*)?(?:p[+-]?\d+)?\b|\b\d+(?:\.\B|(?:\.\d*)?(?:e[+-]?\d+)?\b)|\B\.\d+(?:e[+-]?\d+)?\b/i,keyword:/\b(?:and|break|do|else|elseif|end|false|for|function|goto|if|in|local|nil|not|or|repeat|return|then|true|until|while)\b/,function:/(?!\d)\w+(?=\s*(?:[({]))/,operator:[/[-+*%^&|#]|\/\/?|<[<=]?|>[>=]?|[=~]=?/,{pattern:/(^|[^.])\.\.(?!\.)/,lookbehind:!0}],punctuation:/[\[\](){},;]|\.+|:+/}});var em=y(()=>{(function(o){var e=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function t(v){return v=v.replace(/<inner>/g,function(){return e}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+v+")")}var i=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,n=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return i}),a=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;o.languages.markdown=o.languages.extend("markup",{}),o.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:o.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+n+a+"(?:"+n+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+n+a+")(?:"+n+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(i),inside:o.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+n+")"+a+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+n+"$"),inside:{"table-header":{pattern:RegExp(i),alias:"important",inside:o.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:t(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:t(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:t(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:t(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(v){["url","bold","italic","strike","code-snippet"].forEach(function(b){v!==b&&(o.languages.markdown[v].inside.content.inside[b]=o.languages.markdown[b])})}),o.hooks.add("after-tokenize",function(v){if(v.language!=="markdown"&&v.language!=="md")return;function b(C){if(!(!C||typeof C=="string"))for(var A=0,T=C.length;A<T;A++){var x=C[A];if(x.type!=="code"){b(x.content);continue}var _=x.content[1],L=x.content[3];if(_&&L&&_.type==="code-language"&&L.type==="code-block"&&typeof _.content=="string"){var I=_.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");I=(/[a-z][\w-]*/i.exec(I)||[""])[0].toLowerCase();var H="language-"+I;L.alias?typeof L.alias=="string"?L.alias=[L.alias,H]:L.alias.push(H):L.alias=[H]}}}b(v.tokens)}),o.hooks.add("wrap",function(v){if(v.type==="code-block"){for(var b="",C=0,A=v.classes.length;C<A;C++){var T=v.classes[C],x=/language-(.+)/.exec(T);if(x){b=x[1];break}}var _=o.languages[b];if(_)v.content=o.highlight(f(v.content),_,b);else if(b&&b!=="none"&&o.plugins.autoloader){var L="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);v.attributes.id=L,o.plugins.autoloader.loadLanguages(b,function(){var I=document.getElementById(L);I&&(I.innerHTML=o.highlight(I.textContent,o.languages[b],b))})}}});var l=RegExp(o.languages.markup.tag.pattern.source,"gi"),d={amp:"&",lt:"<",gt:">",quot:'"'},m=String.fromCodePoint||String.fromCharCode;function f(v){var b=v.replace(l,"");return b=b.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(C,A){if(A=A.toLowerCase(),A[0]==="#"){var T;return A[1]==="x"?T=parseInt(A.slice(2),16):T=Number(A.slice(1)),m(T)}else{var x=d[A];return x||C}}),b}o.languages.md=o.languages.markdown})(Prism)});var tm=y(()=>{(function(o){var e=/\$(?:\w[a-z\d]*(?:_[^\x00-\x1F\s"'\\()$]*)?|\{[^}\s"'\\]+\})/i;o.languages.nginx={comment:{pattern:/(^|[\s{};])#.*/,lookbehind:!0,greedy:!0},directive:{pattern:/(^|\s)\w(?:[^;{}"'\\\s]|\\.|"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*'|\s+(?:#.*(?!.)|(?![#\s])))*?(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:{string:{pattern:/((?:^|[^\\])(?:\\\\)*)(?:"(?:[^"\\]|\\.)*"|'(?:[^'\\]|\\.)*')/,lookbehind:!0,greedy:!0,inside:{escape:{pattern:/\\["'\\nrt]/,alias:"entity"},variable:e}},comment:{pattern:/(\s)#.*/,lookbehind:!0,greedy:!0},keyword:{pattern:/^\S+/,greedy:!0},boolean:{pattern:/(\s)(?:off|on)(?!\S)/,lookbehind:!0},number:{pattern:/(\s)\d+[a-z]*(?!\S)/i,lookbehind:!0},variable:e}},punctuation:/[{};]/}})(Prism)});var om=y(()=>{(function(o){var e=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,t=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],i=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,n=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,a=/[{}\[\](),:;]/;o.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:e,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:t,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:i,operator:n,punctuation:a};var l={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:o.languages.php},d=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:l}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:l}}];o.languages.insertBefore("php","variable",{string:d,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:e,string:d,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:t,number:i,operator:n,punctuation:a}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),o.hooks.add("before-tokenize",function(m){if(/<\?/.test(m.code)){var f=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;o.languages["markup-templating"].buildPlaceholders(m,"php",f)}}),o.hooks.add("after-tokenize",function(m){o.languages["markup-templating"].tokenizePlaceholders(m,"php")})})(Prism)});var im=y(()=>{Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/};Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python;Prism.languages.py=Prism.languages.python});var nm=y(()=>{(function(o){o.languages.ruby=o.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),o.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var e={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:o.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete o.languages.ruby.function;var t="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",i=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;o.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+t+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:e,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:e,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+i),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+i+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),o.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+t),greedy:!0,inside:{interpolation:e,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:e,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:e,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+t),greedy:!0,inside:{interpolation:e,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:e,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete o.languages.ruby.string,o.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),o.languages.rb=o.languages.ruby})(Prism)});var rm=y(()=>{(function(o){for(var e=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,t=0;t<2;t++)e=e.replace(/<self>/g,function(){return e});e=e.replace(/<self>/g,function(){return/[^\s\S]/.source}),o.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+e),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},o.languages.rust["closure-params"].inside.rest=o.languages.rust,o.languages.rust.attribute.inside.string=o.languages.rust.string})(Prism)});var am=y(()=>{(function(o){o.languages.sass=o.languages.extend("css",{comment:{pattern:/^([ \t]*)\/[\/*].*(?:(?:\r?\n|\r)\1[ \t].+)*/m,lookbehind:!0,greedy:!0}}),o.languages.insertBefore("sass","atrule",{"atrule-line":{pattern:/^(?:[ \t]*)[@+=].+/m,greedy:!0,inside:{atrule:/(?:@[\w-]+|[+=])/}}}),delete o.languages.sass.atrule;var e=/\$[-\w]+|#\{\$[-\w]+\}/,t=[/[+*\/%]|[=!]=|<=?|>=?|\b(?:and|not|or)\b/,{pattern:/(\s)-(?=\s)/,lookbehind:!0}];o.languages.insertBefore("sass","property",{"variable-line":{pattern:/^[ \t]*\$.+/m,greedy:!0,inside:{punctuation:/:/,variable:e,operator:t}},"property-line":{pattern:/^[ \t]*(?:[^:\s]+ *:.*|:[^:\s].*)/m,greedy:!0,inside:{property:[/[^:\s]+(?=\s*:)/,{pattern:/(:)[^:\s]+/,lookbehind:!0}],punctuation:/:/,variable:e,operator:t,important:o.languages.sass.important}}}),delete o.languages.sass.property,delete o.languages.sass.important,o.languages.insertBefore("sass","punctuation",{selector:{pattern:/^([ \t]*)\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*(?:,(?:\r?\n|\r)\1[ \t]+\S(?:,[^,\r\n]+|[^,\r\n]*)(?:,[^,\r\n]+)*)*/m,lookbehind:!0,greedy:!0}})})(Prism)});var sm=y(()=>{(function(o){var e="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",t={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},i={bash:t,environment:{pattern:RegExp("\\$"+e),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+e),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};o.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?:\.\w+)*(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+e),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},parameter:{pattern:/(^|\s)-{1,2}(?:\w+:[+-]?)?\w+(?:\.\w+)*(?=[=\s]|$)/,alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:i},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:t}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:i},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:i.entity}}],environment:{pattern:RegExp("\\$?"+e),alias:"constant"},variable:i.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cargo|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|java|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|sysctl|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},t.inside=o.languages.bash;for(var n=["comment","function-name","for-or-select","assign-left","parameter","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],a=i.variable[1].inside,l=0;l<n.length;l++)a[n[l]]=o.languages.bash[n[l]];o.languages.sh=o.languages.bash,o.languages.shell=o.languages.bash})(Prism)});var lm=y(()=>{Prism.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}});var cm=y(()=>{(function(o){var e=o.util.clone(o.languages.typescript);o.languages.tsx=o.languages.extend("jsx",e),delete o.languages.tsx.parameter,delete o.languages.tsx["literal-property"];var t=o.languages.tsx.tag;t.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+t.pattern.source+")",t.pattern.flags),t.lookbehind=!0})(Prism)});var dm=y(()=>{(function(o){o.languages.typescript=o.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),o.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete o.languages.typescript.parameter,delete o.languages.typescript["literal-property"];var e=o.languages.extend("typescript",{});delete e["class-name"],o.languages.typescript["class-name"].inside=e,o.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e}}}}),o.languages.ts=o.languages.typescript})(Prism)});var mm=y(()=>{Prism.languages.vim={string:/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\r\n]|'')*'/,comment:/".*/,function:/\b\w+(?=\()/,keyword:/\b(?:N|Next|P|Print|X|XMLent|XMLns|ab|abbreviate|abc|abclear|abo|aboveleft|al|all|ar|arga|argadd|argd|argdelete|argdo|arge|argedit|argg|argglobal|argl|arglocal|args|argu|argument|as|ascii|b|bN|bNext|ba|bad|badd|ball|bd|bdelete|be|bel|belowright|bf|bfirst|bl|blast|bm|bmodified|bn|bnext|bo|botright|bp|bprevious|br|brea|break|breaka|breakadd|breakd|breakdel|breakl|breaklist|brewind|bro|browse|bufdo|buffer|buffers|bun|bunload|bw|bwipeout|c|cN|cNext|cNfcNfile|ca|cabbrev|cabc|cabclear|cad|caddb|caddbuffer|caddexpr|caddf|caddfile|cal|call|cat|catch|cb|cbuffer|cc|ccl|cclose|cd|ce|center|cex|cexpr|cf|cfile|cfir|cfirst|cg|cgetb|cgetbuffer|cgete|cgetexpr|cgetfile|change|changes|chd|chdir|che|checkpath|checkt|checktime|cl|cla|clast|clist|clo|close|cmapc|cmapclear|cn|cnew|cnewer|cnext|cnf|cnfile|cnorea|cnoreabbrev|co|col|colder|colo|colorscheme|comc|comclear|comp|compiler|con|conf|confirm|continue|cope|copen|copy|cp|cpf|cpfile|cprevious|cq|cquit|cr|crewind|cu|cuna|cunabbrev|cunmap|cw|cwindow|d|debugg|debuggreedy|delc|delcommand|delete|delf|delfunction|delm|delmarks|di|diffg|diffget|diffoff|diffpatch|diffpu|diffput|diffsplit|diffthis|diffu|diffupdate|dig|digraphs|display|dj|djump|dl|dlist|dr|drop|ds|dsearch|dsp|dsplit|e|earlier|echoe|echoerr|echom|echomsg|echon|edit|el|else|elsei|elseif|em|emenu|en|endf|endfo|endfor|endfun|endfunction|endif|endt|endtry|endw|endwhile|ene|enew|ex|exi|exit|exu|exusage|f|file|files|filetype|fin|fina|finally|find|fini|finish|fir|first|fix|fixdel|fo|fold|foldc|foldclose|foldd|folddoc|folddoclosed|folddoopen|foldo|foldopen|for|fu|fun|function|go|goto|gr|grep|grepa|grepadd|h|ha|hardcopy|help|helpf|helpfind|helpg|helpgrep|helpt|helptags|hid|hide|his|history|ia|iabbrev|iabc|iabclear|if|ij|ijump|il|ilist|imapc|imapclear|in|inorea|inoreabbrev|isearch|isp|isplit|iu|iuna|iunabbrev|iunmap|j|join|ju|jumps|k|kee|keepalt|keepj|keepjumps|keepmarks|l|lN|lNext|lNf|lNfile|la|lad|laddb|laddbuffer|laddexpr|laddf|laddfile|lan|language|last|later|lb|lbuffer|lc|lcd|lch|lchdir|lcl|lclose|left|lefta|leftabove|let|lex|lexpr|lf|lfile|lfir|lfirst|lg|lgetb|lgetbuffer|lgete|lgetexpr|lgetfile|lgr|lgrep|lgrepa|lgrepadd|lh|lhelpgrep|list|ll|lla|llast|lli|llist|lm|lmak|lmake|lmap|lmapc|lmapclear|ln|lne|lnew|lnewer|lnext|lnf|lnfile|lnoremap|lo|loadview|loc|lockmarks|lockv|lockvar|lol|lolder|lop|lopen|lp|lpf|lpfile|lprevious|lr|lrewind|ls|lt|ltag|lu|lunmap|lv|lvimgrep|lvimgrepa|lvimgrepadd|lw|lwindow|m|ma|mak|make|mark|marks|mat|match|menut|menutranslate|mk|mkexrc|mks|mksession|mksp|mkspell|mkv|mkvie|mkview|mkvimrc|mod|mode|move|mz|mzf|mzfile|mzscheme|n|nbkey|new|next|nmapc|nmapclear|noh|nohlsearch|norea|noreabbrev|nu|number|nun|nunmap|o|omapc|omapclear|on|only|open|opt|options|ou|ounmap|p|pc|pclose|pe|ped|pedit|perl|perld|perldo|po|pop|popu|popup|pp|ppop|pre|preserve|prev|previous|print|prof|profd|profdel|profile|promptf|promptfind|promptr|promptrepl|ps|psearch|ptN|ptNext|pta|ptag|ptf|ptfirst|ptj|ptjump|ptl|ptlast|ptn|ptnext|ptp|ptprevious|ptr|ptrewind|pts|ptselect|pu|put|pw|pwd|py|pyf|pyfile|python|q|qa|qall|quit|quita|quitall|r|read|rec|recover|red|redi|redir|redo|redr|redraw|redraws|redrawstatus|reg|registers|res|resize|ret|retab|retu|return|rew|rewind|ri|right|rightb|rightbelow|ru|rub|ruby|rubyd|rubydo|rubyf|rubyfile|runtime|rv|rviminfo|sN|sNext|sa|sal|sall|san|sandbox|sargument|sav|saveas|sb|sbN|sbNext|sba|sball|sbf|sbfirst|sbl|sblast|sbm|sbmodified|sbn|sbnext|sbp|sbprevious|sbr|sbrewind|sbuffer|scrip|scripte|scriptencoding|scriptnames|se|set|setf|setfiletype|setg|setglobal|setl|setlocal|sf|sfind|sfir|sfirst|sh|shell|sign|sil|silent|sim|simalt|sl|sla|slast|sleep|sm|smagic|smap|smapc|smapclear|sme|smenu|sn|snext|sni|sniff|sno|snomagic|snor|snoremap|snoreme|snoremenu|so|sor|sort|source|sp|spe|spelld|spelldump|spellgood|spelli|spellinfo|spellr|spellrepall|spellu|spellundo|spellw|spellwrong|split|spr|sprevious|sre|srewind|st|sta|stag|star|startg|startgreplace|startinsert|startr|startreplace|stj|stjump|stop|stopi|stopinsert|sts|stselect|sun|sunhide|sunm|sunmap|sus|suspend|sv|sview|syncbind|t|tN|tNext|ta|tab|tabN|tabNext|tabc|tabclose|tabd|tabdo|tabe|tabedit|tabf|tabfind|tabfir|tabfirst|tabl|tablast|tabm|tabmove|tabn|tabnew|tabnext|tabo|tabonly|tabp|tabprevious|tabr|tabrewind|tabs|tag|tags|tc|tcl|tcld|tcldo|tclf|tclfile|te|tearoff|tf|tfirst|th|throw|tj|tjump|tl|tlast|tm|tmenu|tn|tnext|to|topleft|tp|tprevious|tr|trewind|try|ts|tselect|tu|tunmenu|u|una|unabbreviate|undo|undoj|undojoin|undol|undolist|unh|unhide|unlet|unlo|unlockvar|unm|unmap|up|update|ve|verb|verbose|version|vert|vertical|vi|vie|view|vim|vimgrep|vimgrepa|vimgrepadd|visual|viu|viusage|vmapc|vmapclear|vne|vnew|vs|vsplit|vu|vunmap|w|wN|wNext|wa|wall|wh|while|win|winc|wincmd|windo|winp|winpos|winsize|wn|wnext|wp|wprevious|wq|wqa|wqall|write|ws|wsverb|wv|wviminfo|x|xa|xall|xit|xm|xmap|xmapc|xmapclear|xme|xmenu|xn|xnoremap|xnoreme|xnoremenu|xu|xunmap|y|yank)\b/,builtin:/\b(?:acd|ai|akm|aleph|allowrevins|altkeymap|ambiwidth|ambw|anti|antialias|arab|arabic|arabicshape|ari|arshape|autochdir|autocmd|autoindent|autoread|autowrite|autowriteall|aw|awa|background|backspace|backup|backupcopy|backupdir|backupext|backupskip|balloondelay|ballooneval|balloonexpr|bdir|bdlay|beval|bex|bexpr|bg|bh|bin|binary|biosk|bioskey|bk|bkc|bomb|breakat|brk|browsedir|bs|bsdir|bsk|bt|bufhidden|buflisted|buftype|casemap|ccv|cdpath|cedit|cfu|ch|charconvert|ci|cin|cindent|cink|cinkeys|cino|cinoptions|cinw|cinwords|clipboard|cmdheight|cmdwinheight|cmp|cms|columns|com|comments|commentstring|compatible|complete|completefunc|completeopt|consk|conskey|copyindent|cot|cpo|cpoptions|cpt|cscopepathcomp|cscopeprg|cscopequickfix|cscopetag|cscopetagorder|cscopeverbose|cspc|csprg|csqf|cst|csto|csverb|cuc|cul|cursorcolumn|cursorline|cwh|debug|deco|def|define|delcombine|dex|dg|dict|dictionary|diff|diffexpr|diffopt|digraph|dip|dir|directory|dy|ea|ead|eadirection|eb|ed|edcompatible|ef|efm|ei|ek|enc|encoding|endofline|eol|ep|equalalways|equalprg|errorbells|errorfile|errorformat|esckeys|et|eventignore|expandtab|exrc|fcl|fcs|fdc|fde|fdi|fdl|fdls|fdm|fdn|fdo|fdt|fen|fenc|fencs|fex|ff|ffs|fileencoding|fileencodings|fileformat|fileformats|fillchars|fk|fkmap|flp|fml|fmr|foldcolumn|foldenable|foldexpr|foldignore|foldlevel|foldlevelstart|foldmarker|foldmethod|foldminlines|foldnestmax|foldtext|formatexpr|formatlistpat|formatoptions|formatprg|fp|fs|fsync|ft|gcr|gd|gdefault|gfm|gfn|gfs|gfw|ghr|gp|grepformat|grepprg|gtl|gtt|guicursor|guifont|guifontset|guifontwide|guiheadroom|guioptions|guipty|guitablabel|guitabtooltip|helpfile|helpheight|helplang|hf|hh|hi|hidden|highlight|hk|hkmap|hkmapp|hkp|hl|hlg|hls|hlsearch|ic|icon|iconstring|ignorecase|im|imactivatekey|imak|imc|imcmdline|imd|imdisable|imi|iminsert|ims|imsearch|inc|include|includeexpr|incsearch|inde|indentexpr|indentkeys|indk|inex|inf|infercase|insertmode|invacd|invai|invakm|invallowrevins|invaltkeymap|invanti|invantialias|invar|invarab|invarabic|invarabicshape|invari|invarshape|invautochdir|invautoindent|invautoread|invautowrite|invautowriteall|invaw|invawa|invbackup|invballooneval|invbeval|invbin|invbinary|invbiosk|invbioskey|invbk|invbl|invbomb|invbuflisted|invcf|invci|invcin|invcindent|invcompatible|invconfirm|invconsk|invconskey|invcopyindent|invcp|invcscopetag|invcscopeverbose|invcst|invcsverb|invcuc|invcul|invcursorcolumn|invcursorline|invdeco|invdelcombine|invdg|invdiff|invdigraph|invdisable|invea|inveb|inved|invedcompatible|invek|invendofline|inveol|invequalalways|inverrorbells|invesckeys|invet|invex|invexpandtab|invexrc|invfen|invfk|invfkmap|invfoldenable|invgd|invgdefault|invguipty|invhid|invhidden|invhk|invhkmap|invhkmapp|invhkp|invhls|invhlsearch|invic|invicon|invignorecase|invim|invimc|invimcmdline|invimd|invincsearch|invinf|invinfercase|invinsertmode|invis|invjoinspaces|invjs|invlazyredraw|invlbr|invlinebreak|invlisp|invlist|invloadplugins|invlpl|invlz|invma|invmacatsui|invmagic|invmh|invml|invmod|invmodeline|invmodifiable|invmodified|invmore|invmousef|invmousefocus|invmousehide|invnu|invnumber|invodev|invopendevice|invpaste|invpi|invpreserveindent|invpreviewwindow|invprompt|invpvw|invreadonly|invremap|invrestorescreen|invrevins|invri|invrightleft|invrightleftcmd|invrl|invrlc|invro|invrs|invru|invruler|invsb|invsc|invscb|invscrollbind|invscs|invsecure|invsft|invshellslash|invshelltemp|invshiftround|invshortname|invshowcmd|invshowfulltag|invshowmatch|invshowmode|invsi|invsm|invsmartcase|invsmartindent|invsmarttab|invsmd|invsn|invsol|invspell|invsplitbelow|invsplitright|invspr|invsr|invssl|invsta|invstartofline|invstmp|invswapfile|invswf|invta|invtagbsearch|invtagrelative|invtagstack|invtbi|invtbidi|invtbs|invtermbidi|invterse|invtextauto|invtextmode|invtf|invtgst|invtildeop|invtimeout|invtitle|invto|invtop|invtr|invttimeout|invttybuiltin|invttyfast|invtx|invvb|invvisualbell|invwa|invwarn|invwb|invweirdinvert|invwfh|invwfw|invwildmenu|invwinfixheight|invwinfixwidth|invwiv|invwmnu|invwrap|invwrapscan|invwrite|invwriteany|invwritebackup|invws|isf|isfname|isi|isident|isk|iskeyword|isprint|joinspaces|js|key|keymap|keymodel|keywordprg|km|kmp|kp|langmap|langmenu|laststatus|lazyredraw|lbr|lcs|linebreak|lines|linespace|lisp|lispwords|listchars|loadplugins|lpl|lsp|lz|macatsui|magic|makeef|makeprg|matchpairs|matchtime|maxcombine|maxfuncdepth|maxmapdepth|maxmem|maxmempattern|maxmemtot|mco|mef|menuitems|mfd|mh|mis|mkspellmem|ml|mls|mm|mmd|mmp|mmt|modeline|modelines|modifiable|modified|more|mouse|mousef|mousefocus|mousehide|mousem|mousemodel|mouses|mouseshape|mouset|mousetime|mp|mps|msm|mzq|mzquantum|nf|noacd|noai|noakm|noallowrevins|noaltkeymap|noanti|noantialias|noar|noarab|noarabic|noarabicshape|noari|noarshape|noautochdir|noautoindent|noautoread|noautowrite|noautowriteall|noaw|noawa|nobackup|noballooneval|nobeval|nobin|nobinary|nobiosk|nobioskey|nobk|nobl|nobomb|nobuflisted|nocf|noci|nocin|nocindent|nocompatible|noconfirm|noconsk|noconskey|nocopyindent|nocp|nocscopetag|nocscopeverbose|nocst|nocsverb|nocuc|nocul|nocursorcolumn|nocursorline|nodeco|nodelcombine|nodg|nodiff|nodigraph|nodisable|noea|noeb|noed|noedcompatible|noek|noendofline|noeol|noequalalways|noerrorbells|noesckeys|noet|noex|noexpandtab|noexrc|nofen|nofk|nofkmap|nofoldenable|nogd|nogdefault|noguipty|nohid|nohidden|nohk|nohkmap|nohkmapp|nohkp|nohls|noic|noicon|noignorecase|noim|noimc|noimcmdline|noimd|noincsearch|noinf|noinfercase|noinsertmode|nois|nojoinspaces|nojs|nolazyredraw|nolbr|nolinebreak|nolisp|nolist|noloadplugins|nolpl|nolz|noma|nomacatsui|nomagic|nomh|noml|nomod|nomodeline|nomodifiable|nomodified|nomore|nomousef|nomousefocus|nomousehide|nonu|nonumber|noodev|noopendevice|nopaste|nopi|nopreserveindent|nopreviewwindow|noprompt|nopvw|noreadonly|noremap|norestorescreen|norevins|nori|norightleft|norightleftcmd|norl|norlc|noro|nors|noru|noruler|nosb|nosc|noscb|noscrollbind|noscs|nosecure|nosft|noshellslash|noshelltemp|noshiftround|noshortname|noshowcmd|noshowfulltag|noshowmatch|noshowmode|nosi|nosm|nosmartcase|nosmartindent|nosmarttab|nosmd|nosn|nosol|nospell|nosplitbelow|nosplitright|nospr|nosr|nossl|nosta|nostartofline|nostmp|noswapfile|noswf|nota|notagbsearch|notagrelative|notagstack|notbi|notbidi|notbs|notermbidi|noterse|notextauto|notextmode|notf|notgst|notildeop|notimeout|notitle|noto|notop|notr|nottimeout|nottybuiltin|nottyfast|notx|novb|novisualbell|nowa|nowarn|nowb|noweirdinvert|nowfh|nowfw|nowildmenu|nowinfixheight|nowinfixwidth|nowiv|nowmnu|nowrap|nowrapscan|nowrite|nowriteany|nowritebackup|nows|nrformats|numberwidth|nuw|odev|oft|ofu|omnifunc|opendevice|operatorfunc|opfunc|osfiletype|pa|para|paragraphs|paste|pastetoggle|patchexpr|patchmode|path|pdev|penc|pex|pexpr|pfn|ph|pheader|pi|pm|pmbcs|pmbfn|popt|preserveindent|previewheight|previewwindow|printdevice|printencoding|printexpr|printfont|printheader|printmbcharset|printmbfont|printoptions|prompt|pt|pumheight|pvh|pvw|qe|quoteescape|readonly|remap|report|restorescreen|revins|rightleft|rightleftcmd|rl|rlc|ro|rs|rtp|ruf|ruler|rulerformat|runtimepath|sbo|sc|scb|scr|scroll|scrollbind|scrolljump|scrolloff|scrollopt|scs|sect|sections|secure|sel|selection|selectmode|sessionoptions|sft|shcf|shellcmdflag|shellpipe|shellquote|shellredir|shellslash|shelltemp|shelltype|shellxquote|shiftround|shiftwidth|shm|shortmess|shortname|showbreak|showcmd|showfulltag|showmatch|showmode|showtabline|shq|si|sidescroll|sidescrolloff|siso|sj|slm|smartcase|smartindent|smarttab|smc|smd|softtabstop|sol|spc|spell|spellcapcheck|spellfile|spelllang|spellsuggest|spf|spl|splitbelow|splitright|sps|sr|srr|ss|ssl|ssop|stal|startofline|statusline|stl|stmp|su|sua|suffixes|suffixesadd|sw|swapfile|swapsync|swb|swf|switchbuf|sws|sxq|syn|synmaxcol|syntax|t_AB|t_AF|t_AL|t_CS|t_CV|t_Ce|t_Co|t_Cs|t_DL|t_EI|t_F1|t_F2|t_F3|t_F4|t_F5|t_F6|t_F7|t_F8|t_F9|t_IE|t_IS|t_K1|t_K3|t_K4|t_K5|t_K6|t_K7|t_K8|t_K9|t_KA|t_KB|t_KC|t_KD|t_KE|t_KF|t_KG|t_KH|t_KI|t_KJ|t_KK|t_KL|t_RI|t_RV|t_SI|t_Sb|t_Sf|t_WP|t_WS|t_ZH|t_ZR|t_al|t_bc|t_cd|t_ce|t_cl|t_cm|t_cs|t_da|t_db|t_dl|t_fs|t_k1|t_k2|t_k3|t_k4|t_k5|t_k6|t_k7|t_k8|t_k9|t_kB|t_kD|t_kI|t_kN|t_kP|t_kb|t_kd|t_ke|t_kh|t_kl|t_kr|t_ks|t_ku|t_le|t_mb|t_md|t_me|t_mr|t_ms|t_nd|t_op|t_se|t_so|t_sr|t_te|t_ti|t_ts|t_ue|t_us|t_ut|t_vb|t_ve|t_vi|t_vs|t_xs|tabline|tabpagemax|tabstop|tagbsearch|taglength|tagrelative|tagstack|tal|tb|tbi|tbidi|tbis|tbs|tenc|term|termbidi|termencoding|terse|textauto|textmode|textwidth|tgst|thesaurus|tildeop|timeout|timeoutlen|title|titlelen|titleold|titlestring|toolbar|toolbariconsize|top|tpm|tsl|tsr|ttimeout|ttimeoutlen|ttm|tty|ttybuiltin|ttyfast|ttym|ttymouse|ttyscroll|ttytype|tw|tx|uc|ul|undolevels|updatecount|updatetime|ut|vb|vbs|vdir|verbosefile|vfile|viewdir|viewoptions|viminfo|virtualedit|visualbell|vop|wak|warn|wb|wc|wcm|wd|weirdinvert|wfh|wfw|whichwrap|wi|wig|wildchar|wildcharm|wildignore|wildmenu|wildmode|wildoptions|wim|winaltkeys|window|winfixheight|winfixwidth|winheight|winminheight|winminwidth|winwidth|wiv|wiw|wm|wmh|wmnu|wmw|wop|wrap|wrapmargin|wrapscan|writeany|writebackup|writedelay|ww)\b/,number:/\b(?:0x[\da-f]+|\d+(?:\.\d+)?)\b/i,operator:/\|\||&&|[-+.]=?|[=!](?:[=~][#?]?)?|[<>]=?[#?]?|[*\/%?]|\b(?:is(?:not)?)\b/,punctuation:/[{}[\](),;:]/}});var pm=y(()=>{(function(o){var e=/[*&][^\s[\]{},]+/,t=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,i="(?:"+t.source+"(?:[ 	]+"+e.source+")?|"+e.source+"(?:[ 	]+"+t.source+")?)",n=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),a=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function l(d,m){m=(m||"").replace(/m/g,"")+"m";var f=/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return i}).replace(/<<value>>/g,function(){return d});return RegExp(f,m)}o.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return i})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return i}).replace(/<<key>>/g,function(){return"(?:"+n+"|"+a+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:l(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:l(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:l(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:l(a),lookbehind:!0,greedy:!0},number:{pattern:l(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:t,important:e,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},o.languages.yml=o.languages.yaml})(Prism)});var So,um,tn=y(()=>{So=Mt(Za(),1);Rd();Pd();Hd();Ud();jd();qd();Gd();Vd();Kd();Wd();Xd();Yd();Jd();Zd();Qd();em();tm();om();im();nm();rm();am();sm();lm();cm();dm();mm();pm();um=["apacheconf","automad","bash","basic","c","clike","csharp","cpp","css","go","graphql","handlebars","html","java","javascript","jsx","latex","less","lua","markdown","nginx","none","php","powershell","python","ruby","rust","sass","sql","tsx","typescript","vim","yaml"];So.default.languages.automad=Bd});var Pt,ki=y(()=>{zd();S();tn();Pt=class{codeFlask;constructor({element:e,code:t,language:i,onChange:n=()=>{},placeholder:a="",readonly:l=!1}){e.innerHTML="",this.codeFlask=new Dd(e,{lineNumbers:!1,defaultTheme:!1,handleTabs:!0,handleNewLineIndentation:!0,handleSelfClosingCharacters:!0,tabSize:2,language:i,readonly:l}),p("pre",["am-f-codeflask__placeholder","codeflask__pre"],{},e,w`$${a}`),this.codeFlask.addLanguage(i,So.default.languages[i]),this.codeFlask.updateCode(t),Je().log("Prism:",i,So.default.languages[i]),this.codeFlask.onUpdate(ke(()=>{n(this.codeFlask.getCode())},20))}}});var on,fm=y(()=>{S();ki();tn();Ge();on=class o extends he{static get enableLineBreaks(){return!0}static get sanitize(){return{code:!0}}static get toolbox(){return{title:r.text("code"),icon:'<i class="bi bi-code-slash"></i>'}}editor;prepareData(e){return{code:e.code??"",language:e.language??"none",lineNumbers:e.lineNumbers??!1}}render(){this.wrapper.classList.add("am-u-flex","am-u-flex--column","am-u-flex--gap"),this.readOnly||p("span",["am-u-text-muted","am-u-user-select-none"],{},this.wrapper,w`<am-icon-text ${"am-icon"}="code-slash" ${"am-text"}="${o.toolbox.title}" ></am-icon-text>`);let e=p("div",["am-u-flex","am-u-flex--column","am-u-flex--gap"],{},this.wrapper);if(!this.readOnly){let i=p("div",["am-l-grid","am-l-grid--auto","am-u-flex--gap"],{},e);be(um.map(a=>({value:a})),this.data.language,i,"language");let n=Z();p("div",["am-f-toggle","am-f-toggle--button"],{},i,w`<input id="${n}" type="checkbox" name="lineNumbers" value="1" ${this.data.lineNumbers?"checked":""} /><label for="${n}"><i class="bi"></i><span>${r.text("codeBlockLineNumbers")}</span></label>`),this.listen(i,"change",()=>{let{language:a,lineNumbers:l}=xe(i);this.data.lineNumbers=l,this.data.language=a,this.initEditor(t)})}let t=p("div",["am-f-codeflask"],{},e);return this.initEditor(t),this.wrapper}initEditor(e){this.editor=new Pt({element:e,code:this.data.code,language:this.data.language,onChange:t=>{this.data.code=t},readonly:this.readOnly}),this.listen(R("textarea",e),"keydown",t=>{t.stopImmediatePropagation()})}save(){return this.data}}});var nn,hm=y(()=>{S();Ge();nn=class o extends he{holder=null;details;title;groupBinding;groupId;static get sanitize(){return{title:{},content:{},collapsed:!1,group:!1}}static get enableLineBreaks(){return!0}static get toolbox(){return{title:w`${r.text("collapsibleSectionBlockTitle")} <span class="${"am-u-display-none"}">accordion,faq</span>`,icon:'<i class="bi bi-view-list"></i>'}}prepareData(e){return{title:e.title||"",content:e.content||{blocks:[]},group:e.group||"",collapsed:e.collapsed??!1}}render(){this.wrapper.classList.add("am-c-ed-bl-collapsible-section"),this.groupId=Z(),this.groupBinding=new ve(this.groupId,{initial:this.data.group});let e=p("span",["am-c-ed-bl-collapsible-section__label"],{},p("div",["am-u-flex"],{},this.wrapper),w`${o.toolbox.icon}`),t=p("span",["am-u-flex","am-u-flex--gap","am-u-cursor-pointer"],{"am-bind":this.groupId,"am-tooltip":r.text("collapsibleTooltipGroup"),placeholder:r.text("collapsibleNoGroup")},e);this.listen(t,"click",this.setGroup.bind(this)),this.details=p("details",[],{"am-bind":this.groupId,"am-bind-to":"name",...this.data.collapsed?{}:{open:""}},this.wrapper),this.readOnly?p("summary",[],{},this.details,this.data.title):(this.title=p("div",[],{contenteditable:"true",placeholder:r.text("collapsibleLabelTitle")},p("summary",[],{},this.details),this.data.title),this.listen(this.title,"keyup",a=>{a.key==" "&&a.preventDefault()}),this.listen(this.title,"keydown",a=>{a.code=="Enter"&&a.preventDefault()}),this.listen(this.title,"click",a=>{a.stopPropagation(),a.preventDefault()}));let i=p("div",["am-c-ed-bl-collapsible-section__editor"],{},this.details);return(async()=>{this.holder=Xo(i,this.data.content,{onChange:async a=>{if(this.readOnly)return;let{blocks:l}=await a.saver.save();this.data.content={blocks:l},this.blockAPI.dispatchChange()}},!0,this.readOnly),await this.holder.editor.isReady,this.readOnly||(this.holder.editor.focus(),this.listen(this.holder,"paste",a=>{a.stopPropagation()}))})(),Re.connectElements(this.wrapper),this.wrapper}renderSettings(){if(!this.groupId)return;let e=r.text("collapsibleLabelGroup");return{icon:'<i class="bi bi-tag"></i>',label:this.data.group?`${this.data.group}<span class="am-u-display-none">${e}</span>`:`<span class="am-u-text-muted">${e}</span>`,closeOnActivate:!0,onActivate:this.setGroup.bind(this)}}setGroup(){let e=r.text("collapsibleLabelGroup"),{modal:t,body:i}=Ve(e);p("div",["am-u-text-paragraph"],{},i,r.text("collapsibleTooltipGroup"));let n=P("am-input-field",i,{key:this.groupId,name:"group",value:this.data.group,label:e});t.listen(n.input,"input",()=>{this.data.group=n.input.value,this.groupBinding.value=n.input.value}),setTimeout(()=>{t.open()},0)}save(){return{...this.data,title:this.title.innerHTML,collapsed:!this.details.open}}}});var jv,qv,Qa,bm,es=y(()=>{jv=o=>crypto.getRandomValues(new Uint8Array(o)),qv=(o,e,t)=>{let i=(2<<Math.log(o.length-1)/Math.LN2)-1,n=-~(1.6*i*e/o.length);return(a=e)=>{let l="";for(;;){let d=t(n),m=n;for(;m--;)if(l+=o[d[m]&i]||"",l.length===a)return l}}},Qa=(o,e=21)=>qv(o,e,jv),bm=(o=21)=>crypto.getRandomValues(new Uint8Array(o)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),"")});var rn,an,sn,gm,$o=y(()=>{S();es();rn=o=>(Je().log("Handling unknown block",o),o.type=="section"?(o.type="layoutSection",o):null),an=o=>{let e={};for(let[t,i]of Object.entries(o))(i||i===!1||i==="0"||i===0)&&(e[t]=i);return e},sn=async(o,e,t=0)=>{let i=await o.save();e.blocks.insert(i.tool,i.data,i.config,t,!0,!1,bm(32),i.tunes),e.blocks.getBlockByIndex(0).dispatchChange()},gm=o=>{let e=r.components.map(t=>t.id);return{...o,blocks:o?.blocks?.filter(t=>t.type!="component"||e.includes(t.data.id??""))??[]}}});var ao,ln=y(()=>{S();$o();ao=class{api;sort=100;_data;set data(e){let t=R(":scope > *",this.block.holder);this._data=e,this.wrap(t),this.block.dispatchChange(),X("change",t)}get data(){return this._data}config;block;static get isTune(){return!0}constructor({api:e,data:t,config:i,block:n}){this.api=e,this.config=i,this.block=n,this._data=this.prepareData(t??null)}sanitize(e){return e}filterBeforeSave(e){if(typeof e!="object")return e;let t=an(e);return Object.keys(t).length===0?null:t}render(){let e=this.renderLabel();return{icon:this.icon,label:e?`${e}<span class="am-u-display-none">${this.title}</span>`:`<span class="am-u-text-muted">${this.title}</span>`,closeOnActivate:!0,onActivate:this.onActivate.bind(this),sort:this.sort}}onActivate(){let{modal:e,body:t}=Ve(this.title),i=ke(()=>{this.data=this.sanitize(this.getFormData(t))},100);t.appendChild(this.createForm()),this.api.listeners.on(t,"change",i),this.api.listeners.on(t,"input",i),setTimeout(()=>{e.open()},0)}save(){return this.filterBeforeSave(this.data)}wrap(e){return e}}});var cn,vm=y(()=>{S();ln();cn=class extends ao{sort=202;get title(){return r.text("className")}get icon(){return'<i class="bi bi-asterisk"></i>'}prepareData(e){return e??""}sanitize(e){return(e||"").replace(/[^\w_\s]+/g,"-").trim()}getFormData(e){let{className:t}=xe(e);return t}createForm(){return P("am-input-field",null,{label:this.title,value:this.data,key:Z(),name:"className"},[],{pattern:"[\\w\\-\\s_:]*"})}renderLabel(){return this.data?w`<span class="${"am-e-badge"}">$${this.data}</span>`:""}wrap(e){let t=R(".__class",e)??p("span",["__class"],{},e,"",!0);return t.innerHTML=this.data?w`<span class="${"am-e-badge"}"> .${this.data.replace(/\s+/g,".")}</span>`:"",e}}});var dn,xm=y(()=>{S();$o();dn=class{static get isTune(){return!0}api;block;constructor({api:e,block:t}){this.api=e,this.block=t}render(){return{icon:'<i class="bi bi-copy"></i>',sort:290,label:r.text("duplicate"),closeOnActivate:!0,onActivate:this.duplicate.bind(this)}}async duplicate(){let e=this.api.blocks.getCurrentBlockIndex()+1;sn(this.block,this.api,e)}}});var mn,ym=y(()=>{S();ln();mn=class extends ao{sort=201;get title(){return"ID"}get icon(){return'<span style="font-size: 1.2rem">#</span>'}prepareData(e){return e??""}sanitize(e){return(e||"").replace(/[^\w_]+/g,"-").trim()}getFormData(e){let{id:t}=xe(e);return t}createForm(){return P("am-input-field",null,{label:this.title,value:this.data,key:Z(),name:"id"},[],{pattern:"[\\w\\-_]*"})}renderLabel(){return this.data?w`<span class="${"am-e-badge"}">$${this.data}</span>`:""}wrap(e){let t=R(".__id",e)??p("span",["__id"],{},e,"",!0);return t.innerHTML=this.data?w`<span class="${"am-e-badge"}">#${this.data}</span>`:"",e}}});var pn,wm=y(()=>{pn=class{api;sort=100;data;config;block;wrapper;static get isTune(){return!0}constructor({api:e,data:t,config:i,block:n}){this.api=e,this.config=i,this.block=n,this.data=this.prepareData(t),this.wrapper=this.renderSettings()}save(){return this.data}render(){return this.wrapper}}});var Tm,km=y(()=>{Tm=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="1.5" y="1.5" width="41" height="41" rx="5.5" stroke="currentColor" stroke-width="3"/>
	<rect x="7" y="7" width="30" height="30" rx="1" fill="currentColor"/>
</svg>
`});var Em,_m=y(()=>{Em=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="1.5" y="1.5" width="41" height="41" rx="5.5" stroke="currentColor" stroke-width="3"/>
	<rect x="7" y="7" width="15" height="30" rx="1" fill="currentColor"/>
</svg>
`});var Am,Cm=y(()=>{Am=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="1.5" y="1.5" width="41" height="41" rx="5.5" stroke="currentColor" stroke-width="3"/>
	<rect x="7" y="7" width="11" height="30" rx="1" fill="currentColor"/>
</svg>
`});var $m,Sm=y(()=>{$m=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="1.5" y="1.5" width="41" height="41" rx="5.5" stroke="currentColor" stroke-width="3"/>
	<rect x="7" y="7" width="7" height="30" rx="1" fill="currentColor"/>
</svg>
`});var Lm,Mm=y(()=>{Lm=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="1.5" y="1.5" width="41" height="41" rx="5.5" stroke="currentColor" stroke-width="3"/>
	<rect x="7" y="7" width="19" height="30" rx="1" fill="currentColor"/>
</svg>
`});var Dm,Im=y(()=>{Dm=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="1.5" y="1.5" width="41" height="41" rx="5.5" stroke="currentColor" stroke-width="3"/>
	<rect x="7" y="7" width="23" height="30" rx="1" fill="currentColor"/>
</svg>
`});var Fm,zm=y(()=>{Fm=`<svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" fill="none" viewBox="0 0 44 44">
  <rect width="41" height="41" x="1.5" y="1.5" stroke="currentColor" stroke-width="3" rx="5.5"/>
  <rect width="20" height="30" x="12" y="7" fill="currentColor" rx="1"/>
</svg>
`});var Nm,Om=y(()=>{Nm=`<svg xmlns="http://www.w3.org/2000/svg" width="44" height="44" fill="none" viewBox="0 0 44 44">
  <rect width="41" height="41" x="1.5" y="1.5" stroke="currentColor" stroke-width="3" rx="5.5"/>
  <path fill="currentColor" d="M2 9h40v26H2z"/>
</svg>
`});var Qv,un,ex,tx,ts,Mo,os=y(()=>{S();fn();wm();km();_m();Cm();Sm();Mm();Im();zm();Om();Qv=["1/4","1/3","1/2","2/3","3/4","1/1"],un="stretched",ex={"1/1":Tm,"1/2":Em,"1/3":Am,"1/4":$m,"2/3":Lm,"3/4":Dm},tx=()=>Qv.map(o=>({layout:o,tooltip:`${r.text("layoutWidth")}: ${o}`,icon:ex[o]})),ts=(o,e,t)=>{let i=(o.layout||"")===(e||""),n=["am-c-ed-tu-layout__option",...i?["am-c-ed-tu-layout__option--active"]:[]];p("input",[],{type:"radio",name:"layout",value:o.layout||""},p("label",n,{"am-tooltip":o.tooltip},t,o.icon)).checked=i},Mo=class extends pn{get isStretchable(){return Yo(!1)[this.block.name]?.stretchable??!1}sort=1;get isFlex(){return this.config.isSectionBlock||!1}get selected(){let{stretched:e,width:t}=this.data;return e?un:t||""}set selected(e){this.data.stretched=e===un,this.data.width=e&&e!==un?e:"",re("input",this.wrapper).forEach(t=>{t.parentElement.classList.toggle("am-c-ed-tu-layout__option--active",t.checked)}),this.apply()}apply(){this.data&&setTimeout(()=>{let e=this.block.holder,{stretched:t,width:i}=this.data;e.classList.toggle("am-style--stretched",t),i?e.setAttribute("am-width",i):e.removeAttribute("am-width")},0)}wrap(e){return this.apply(),e}static updateToolbarPosition(e){if(!e)return;let t=R(":scope > .ce-block__content",e),i=e.closest(".codex-editor"),n=R(":scope > .ce-toolbar",i);if(!n||R(".ce-settings",n)?.hasChildNodes()||i.matches(".codex-editor--toolbox-opened"))return;let l=t.getBoundingClientRect(),d=e.parentElement.getBoundingClientRect(),m=Math.round(l.x-d.x),f=Math.round(l.y-d.y);n.setAttribute("style",`--x: ${m}px; --y: ${f}px;`)}prepareData(e){return{stretched:e?.stretched||!1,width:e?.width||null}}renderSettings(){let e=p("div");if(!this.isFlex&&!this.isStretchable)return this.data=null,e;let t=p("div",["am-c-ed-tu-layout"],{},e);if(ts({layout:"",tooltip:r.text("layoutDefault"),icon:Fm},this.selected,t),this.isStretchable&&ts({layout:un,tooltip:r.text("layoutStretch"),icon:Nm},this.selected,t),this.isFlex){let i=p("div",["am-c-ed-tu-layout"],{},e);tx().forEach(n=>{ts(n,this.selected,i)})}return this.api.listeners.on(e,"change",()=>{let{layout:i}=xe(e);this.selected=i,this.block.dispatchChange()}),e}}});var hn,Bm=y(()=>{S();ln();hn=class extends ao{sort=102;get title(){return r.text("padding")}get icon(){return'<i class="bi bi-distribute-vertical"></i>'}prepareData(e){return{top:e?.top||"",right:e?.right||"",bottom:e?.bottom||"",left:e?.left||""}}sanitize(e){let t=i=>i.replace(/[^\w_\.\%]+/g,"").trim();return{top:t(e.top),right:t(e.right),bottom:t(e.bottom),left:t(e.left)}}getFormData(e){return xe(e)}createForm(){let e=p("div",["am-u-flex","am-u-flex--column","am-u-flex--gap-large"],{},null,w`<div class="${"am-u-flex"} ${"am-u-flex--gap-large"}"><div class="top"></div><div class="bottom"></div></div><div class="${"am-u-flex"} ${"am-u-flex--gap-large"}"><div class="left"></div><div class="right"></div></div>`);return P("am-number-unit-field",R(".top",e),{label:r.text("paddingTop"),value:this.data.top,key:Z(),name:"top"}),P("am-number-unit-field",R(".bottom",e),{label:r.text("paddingBottom"),value:this.data.bottom,key:Z(),name:"bottom"}),P("am-number-unit-field",R(".left",e),{label:r.text("paddingLeft"),value:this.data.left,key:Z(),name:"left"}),P("am-number-unit-field",R(".right",e),{label:r.text("paddingRight"),value:this.data.right,key:Z(),name:"right"}),e}renderLabel(){let{top:e,right:t,bottom:i,left:n}=this.data;return`${e||0} / ${t||0} / ${i||0} / ${n||0}`}wrap(e){let t={top:"paddingTop",right:"paddingRight",bottom:"paddingBottom",left:"paddingLeft"},i=R(":scope > .cdx-block",e);for(let[n,a]of Object.entries(this.data))i.style[t[n]]=a;return e}}});var bn,gn,is=y(()=>{vm();xm();ym();os();Bm();bn=["layout","spacing","className","id","duplicate"],gn=o=>({spacing:{class:hn},className:{class:cn},id:{class:mn},layout:{class:Mo,config:{isSectionBlock:o}},duplicate:{class:dn}})});import{EditorJS as ox}from"../vendor/editorjs-e037d226.js";var ix,vn,Rm=y(()=>{Lt();S();fn();Ge();is();$o();ix=o=>r.components.find(e=>e.id===o),vn=class o extends he{static get sanitize(){return{id:!1}}static get toolbox(){return{title:r.text("componentBlockTitle"),icon:'<i class="bi bi-boxes"></i>'}}editor;prepareData(e){return{id:e.id||""}}render(){return this.data.id?(this.renderWrapper(),this.wrapper):this.wrapper}renderWrapper(){let e=ix(this.data.id??"");e&&(this.wrapper.classList.add("am-c-ed-bl-component","am-u-user-select-none"),this.wrapper.innerHTML=w`<div class="${"am-c-ed-bl-component__label"}"> ${o.toolbox.icon} <span>${e.name}</span></div><div class="${"am-c-ed-bl-component__overlay"}"><am-link class="${"am-e-button"} ${"am-e-button--primary"}" ${"am-target"}="${"components"}" > ${r.text("openComponentEditor")}</am-link></div>`,this.editor=new ox({data:{blocks:e.blocks},holder:this.wrapper,minHeight:0,autofocus:!1,tools:{...Yo(!0),...gn(!1)},inlineToolbar:[],tunes:bn,readOnly:!0,unknownBlockHandler:rn}))}appendCallback(){let e=p(ze.TAG_NAME,[],{},xt(),w`<am-modal-dialog><am-modal-header>${r.text("selectComponent")}</am-modal-header><am-modal-body></am-modal-body><am-modal-footer><a href="${r.dashboardURL}/${"components"}" class="${"am-e-button"}" > ${r.text("openComponentEditor")}</a><button class="${"am-e-button"} ${"am-e-button--primary"}"> ${r.text("add")}</button></am-modal-footer></am-modal-dialog>`),t=R("am-modal-body",e),i=R("am-modal-footer button",e),n=r.components.map(a=>({value:a.id,text:a.name}));if(n.length>0){let a=be(n,n[0].value,t);this.listen(i,"click",()=>{this.data.id=a.value,e.close()})}else i.setAttribute("disabled",""),t.textContent=r.text("noComponentsFound");e.open(),this.listen(e,"AutomadModalClose",()=>{if(!this.data.id){this.api.blocks.delete(this.api.blocks.getBlockIndex(this.blockAPI.id));return}this.renderWrapper()})}save(){return this.data}destroy(){try{this.editor.destroy()}catch{}super.destroy()}}});var xn,Pm=y(()=>{S();Ge();xn=class extends he{static get toolbox(){return{title:r.text("delimiter"),icon:'<i class="bi bi-hr"></i>'}}render(){return this.wrapper.classList.add("am-c-ed-bl-delimiter"),p("hr",[],{},this.wrapper),this.wrapper}save(){return{}}}});function ns(o,e,t){var i,n,a,l,d;e==null&&(e=100);function m(){var v=Date.now()-l;v<e&&v>=0?i=setTimeout(m,e-v):(i=null,t||(d=o.apply(a,n),a=n=null))}var f=function(){a=this,n=arguments,l=Date.now();var v=t&&!i;return i||(i=setTimeout(m,e)),v&&(d=o.apply(a,n),a=n=null),d};return f.clear=function(){i&&(clearTimeout(i),i=null)},f.flush=function(){i&&(d=o.apply(a,n),a=n=null,clearTimeout(i),i=null)},f}var nx,rx,yn,Hm=y(()=>{(function(){"use strict";try{if(typeof document<"u"){var o=document.createElement("style");o.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(o)}}catch{}})();nx={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([o,e])=>{if(!e&&o)return o;let t={start:"start",end:"end",t:"start",time_continue:"start",list:"list"},i=e.slice(1).split("&").map(n=>{let[a,l]=n.split("=");return!o&&a==="v"?(o=l,null):!t[a]||l==="LL"||l.startsWith("RDMM")||l.startsWith("FL")?null:`${t[a]}=${l}`}).filter(n=>!!n);return o+"?"+i.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:o=>o.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:o=>o.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:o=>o.join("/embed/")},instagram:{regex:/^https:\/\/(?:www\.)?instagram\.com\/(?:reel|p)\/(.*)/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400,id:o=>{var e;return(e=o?.[0])==null?void 0:e.split("/")[0]}},twitter:{regex:/^https?:\/\/(www\.)?(?:twitter\.com|x\.com)\/.+\/status\/(\d+)/,embedUrl:"https://platform.twitter.com/embed/Tweet.html?id=<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:o=>o[1]},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:o=>o[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:o=>o.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:o=>`${o.join("/")}.js`}};ns.debounce=ns;rx=ns,yn=class o{constructor({data:e,api:t,readOnly:i}){this.api=t,this._data={},this.element=null,this.readOnly=i,this.data=e}set data(e){var t;if(!(e instanceof Object))throw Error("Embed Tool data should be object");let{service:i,source:n,embed:a,width:l,height:d,caption:m=""}=e;this._data={service:i||this.data.service,source:n||this.data.source,embed:a||this.data.embed,width:l||this.data.width,height:d||this.data.height,caption:m||this.data.caption||""};let f=this.element;f&&((t=f.parentNode)==null||t.replaceChild(this.render(),f))}get data(){if(this.element){let e=this.element.querySelector(`.${this.api.styles.input}`);this._data.caption=e?e.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){let d=document.createElement("div");return this.element=d,d}let{html:e}=o.services[this.data.service],t=document.createElement("div"),i=document.createElement("div"),n=document.createElement("template"),a=this.createPreloader();t.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),i.classList.add(this.CSS.input,this.CSS.caption),t.appendChild(a),i.contentEditable=(!this.readOnly).toString(),i.dataset.placeholder=this.api.i18n.t("Enter a caption"),i.innerHTML=this.data.caption||"",n.innerHTML=e,n.content.firstChild.setAttribute("src",this.data.embed),n.content.firstChild.classList.add(this.CSS.content);let l=this.embedIsReady(t);return n.content.firstChild&&t.appendChild(n.content.firstChild),t.appendChild(i),l.then(()=>{t.classList.remove(this.CSS.containerLoading)}),this.element=t,t}createPreloader(){let e=document.createElement("preloader"),t=document.createElement("div");return t.textContent=this.data.source,e.classList.add(this.CSS.preloader),t.classList.add(this.CSS.url),e.appendChild(t),e}save(){return this.data}onPaste(e){var t;let{key:i,data:n}=e.detail,{regex:a,embedUrl:l,width:d,height:m,id:f=C=>C.shift()||""}=o.services[i],v=(t=a.exec(n))==null?void 0:t.slice(1),b=v?l.replace(/<%= remote_id %>/g,f(v)):"";this.data={service:i,source:n,embed:b,width:d,height:m}}static prepare({config:e={}}){let{services:t={}}=e,i=Object.entries(nx),n=Object.entries(t).filter(([l,d])=>typeof d=="boolean"&&d===!0).map(([l])=>l),a=Object.entries(t).filter(([l,d])=>typeof d=="object").filter(([l,d])=>o.checkServiceConfig(d)).map(([l,d])=>{let{regex:m,embedUrl:f,html:v,height:b,width:C,id:A}=d;return[l,{regex:m,embedUrl:f,html:v,height:b,width:C,id:A}]});n.length&&(i=i.filter(([l])=>n.includes(l))),i=i.concat(a),o.services=i.reduce((l,[d,m])=>d in l?(l[d]=Object.assign({},l[d],m),l):(l[d]=m,l),{}),o.patterns=i.reduce((l,[d,m])=>(m&&typeof m!="boolean"&&(l[d]=m.regex),l),{})}static checkServiceConfig(e){let{regex:t,embedUrl:i,html:n,height:a,width:l,id:d}=e,m=!!(t&&t instanceof RegExp)&&!!(i&&typeof i=="string")&&!!(n&&typeof n=="string");return m=m&&(d!==void 0?d instanceof Function:!0),m=m&&(a!==void 0?Number.isFinite(a):!0),m=m&&(l!==void 0?Number.isFinite(l):!0),m}static get pasteConfig(){return{patterns:o.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(e){let t;return new Promise((i,n)=>{t=new MutationObserver(rx.debounce(i,450)),t.observe(e,{childList:!0,subtree:!0})}).then(()=>{t.disconnect()})}}});var wn,Um=y(()=>{Hm();wn=class extends yn{static get sanitize(){return{embed:!0}}}});var jm,kn,qm=y(()=>{S();Ge();jm="default",kn=class o extends he{static get sanitize(){return{file:!1,glob:!1,sortOrder:!1}}static get toolbox(){return{title:r.text("filelistBlockTitle"),icon:'<i class="bi bi-files"></i>'}}prepareData(e){return{file:e.file||jm,glob:e.glob||"*.*",sortOrder:e.sortOrder??"asc"}}render(){return this.wrapper.classList.add("am-u-flex","am-u-flex--column","am-u-flex--gap"),this.wrapper.innerHTML=w`<span class="${"am-u-text-muted"} ${"am-u-user-select-none"}"><am-icon-text ${"am-icon"}="files" ${"am-text"}="${o.toolbox.title}" ></am-icon-text></span><div class="${"am-c-card"} __card"></div>`,this.renderForm(R(".__card",this.wrapper)),this.readOnly||this.listen(this.wrapper,"change input",ke(()=>{this.blockAPI.dispatchChange()},50)),this.wrapper}renderForm(e){let t=r.files.filelist.reduce((d,m)=>[...d,{value:m,text:Jo(m)}],[{value:jm,text:r.text("filelistBlockDefaultFile")}]),i=p("div",["am-c-card__form"],{},e),n=p("div",["am-c-card__form"],{},e),a=p("div",["am-l-grid","am-l-grid--auto"],{},n),l={};this.readOnly&&(l.disabled=""),ft(r.text("filelistBlockFile"),be(t,this.data.file,null,"file",null,"",[],l),i),P("am-input-field",a,{key:Z(),name:"glob",value:this.data.glob,label:`${r.text("filelistBlockPattern")} (Glob)`},[],l),ft(r.text("filelistBlockSortOrder"),be([{value:"asc",text:"\u2191 asc"},{value:"desc",text:"\u2193 desc"}],this.data.sortOrder,null,"sortOrder",null,"",[],l),a)}save(){return xe(this.wrapper)}}});function Gm(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(o);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(o,n).enumerable})),t.push.apply(t,i)}return t}function jt(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gm(Object(t),!0).forEach(function(i){ax(o,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Gm(Object(t)).forEach(function(i){Object.defineProperty(o,i,Object.getOwnPropertyDescriptor(t,i))})}return o}function An(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?An=function(e){return typeof e}:An=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},An(o)}function ax(o,e,t){return e in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function Qt(){return Qt=Object.assign||function(o){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(o[i]=t[i])}return o},Qt.apply(this,arguments)}function sx(o,e){if(o==null)return{};var t={},i=Object.keys(o),n,a;for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&(t[n]=o[n]);return t}function lx(o,e){if(o==null)return{};var t=sx(o,e),i,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);for(n=0;n<a.length;n++)i=a[n],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(o,i)&&(t[i]=o[i])}return t}function Zt(o){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(o)}function $e(o,e,t){o.addEventListener(e,t,!eo&&op)}function Ae(o,e,t){o.removeEventListener(e,t,!eo&&op)}function In(o,e){if(e){if(e[0]===">"&&(e=e.substring(1)),o)try{if(o.matches)return o.matches(e);if(o.msMatchesSelector)return o.msMatchesSelector(e);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(e)}catch{return!1}return!1}}function dx(o){return o.host&&o!==document&&o.host.nodeType?o.host:o.parentNode}function Ht(o,e,t,i){if(o){t=t||document;do{if(e!=null&&(e[0]===">"?o.parentNode===t&&In(o,e):In(o,e))||i&&o===t)return o;if(o===t)break}while(o=dx(o))}return null}function yt(o,e,t){if(o&&e)if(o.classList)o.classList[t?"add":"remove"](e);else{var i=(" "+o.className+" ").replace(Km," ").replace(" "+e+" "," ");o.className=(i+(t?" "+e:"")).replace(Km," ")}}function me(o,e,t){var i=o&&o.style;if(i){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(o,""):o.currentStyle&&(t=o.currentStyle),e===void 0?t:t[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=t+(typeof t=="string"?"":"px")}}function oi(o,e){var t="";if(typeof o=="string")t=o;else do{var i=me(o,"transform");i&&i!=="none"&&(t=i+" "+t)}while(!e&&(o=o.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(t)}function ip(o,e,t){if(o){var i=o.getElementsByTagName(e),n=0,a=i.length;if(t)for(;n<a;n++)t(i[n],n);return i}return[]}function Ut(){var o=document.scrollingElement;return o||document.documentElement}function tt(o,e,t,i,n){if(!(!o.getBoundingClientRect&&o!==window)){var a,l,d,m,f,v,b;if(o!==window&&o.parentNode&&o!==Ut()?(a=o.getBoundingClientRect(),l=a.top,d=a.left,m=a.bottom,f=a.right,v=a.height,b=a.width):(l=0,d=0,m=window.innerHeight,f=window.innerWidth,v=window.innerHeight,b=window.innerWidth),(e||t)&&o!==window&&(n=n||o.parentNode,!eo))do if(n&&n.getBoundingClientRect&&(me(n,"transform")!=="none"||t&&me(n,"position")!=="static")){var C=n.getBoundingClientRect();l-=C.top+parseInt(me(n,"border-top-width")),d-=C.left+parseInt(me(n,"border-left-width")),m=l+a.height,f=d+a.width;break}while(n=n.parentNode);if(i&&o!==window){var A=oi(n||o),T=A&&A.a,x=A&&A.d;A&&(l/=x,d/=T,b/=T,v/=x,m=l+v,f=d+b)}return{top:l,left:d,bottom:m,right:f,width:b,height:v}}}function Wm(o,e,t){for(var i=co(o,!0),n=tt(o)[e];i;){var a=tt(i)[t],l=void 0;if(t==="top"||t==="left"?l=n>=a:l=n<=a,!l)return i;if(i===Ut())break;i=co(i,!1)}return!1}function ii(o,e,t,i){for(var n=0,a=0,l=o.children;a<l.length;){if(l[a].style.display!=="none"&&l[a]!==pe.ghost&&(i||l[a]!==pe.dragged)&&Ht(l[a],t.draggable,o,!1)){if(n===e)return l[a];n++}a++}return null}function vs(o,e){for(var t=o.lastElementChild;t&&(t===pe.ghost||me(t,"display")==="none"||e&&!In(t,e));)t=t.previousElementSibling;return t||null}function At(o,e){var t=0;if(!o||!o.parentNode)return-1;for(;o=o.previousElementSibling;)o.nodeName.toUpperCase()!=="TEMPLATE"&&o!==pe.clone&&(!e||In(o,e))&&t++;return t}function Xm(o){var e=0,t=0,i=Ut();if(o)do{var n=oi(o),a=n.a,l=n.d;e+=o.scrollLeft*a,t+=o.scrollTop*l}while(o!==i&&(o=o.parentNode));return[e,t]}function mx(o,e){for(var t in o)if(o.hasOwnProperty(t)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===o[t][i])return Number(t)}return-1}function co(o,e){if(!o||!o.getBoundingClientRect)return Ut();var t=o,i=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var n=me(t);if(t.clientWidth<t.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return Ut();if(i||e)return t;i=!0}}while(t=t.parentNode);return Ut()}function px(o,e){if(o&&e)for(var t in e)e.hasOwnProperty(t)&&(o[t]=e[t]);return o}function rs(o,e){return Math.round(o.top)===Math.round(e.top)&&Math.round(o.left)===Math.round(e.left)&&Math.round(o.height)===Math.round(e.height)&&Math.round(o.width)===Math.round(e.width)}function np(o,e){return function(){if(!Ai){var t=arguments,i=this;t.length===1?o.call(i,t[0]):o.apply(i,t),Ai=setTimeout(function(){Ai=void 0},e)}}}function ux(){clearTimeout(Ai),Ai=void 0}function rp(o,e,t){o.scrollLeft+=e,o.scrollTop+=t}function ap(o){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(o).cloneNode(!0):t?t(o).clone(!0)[0]:o.cloneNode(!0)}function fx(){var o=[],e;return{captureAnimationState:function(){if(o=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(n){if(!(me(n,"display")==="none"||n===pe.ghost)){o.push({target:n,rect:tt(n)});var a=jt({},o[o.length-1].rect);if(n.thisAnimationDuration){var l=oi(n,!0);l&&(a.top-=l.f,a.left-=l.e)}n.fromRect=a}})}},addAnimationState:function(i){o.push(i)},removeAnimationState:function(i){o.splice(mx(o,{target:i}),1)},animateAll:function(i){var n=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var a=!1,l=0;o.forEach(function(d){var m=0,f=d.target,v=f.fromRect,b=tt(f),C=f.prevFromRect,A=f.prevToRect,T=d.rect,x=oi(f,!0);x&&(b.top-=x.f,b.left-=x.e),f.toRect=b,f.thisAnimationDuration&&rs(C,b)&&!rs(v,b)&&(T.top-b.top)/(T.left-b.left)===(v.top-b.top)/(v.left-b.left)&&(m=bx(T,C,A,n.options)),rs(b,v)||(f.prevFromRect=v,f.prevToRect=b,m||(m=n.options.animation),n.animate(f,T,b,m)),m&&(a=!0,l=Math.max(l,m),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},m),f.thisAnimationDuration=m)}),clearTimeout(e),a?e=setTimeout(function(){typeof i=="function"&&i()},l):typeof i=="function"&&i(),o=[]},animate:function(i,n,a,l){if(l){me(i,"transition",""),me(i,"transform","");var d=oi(this.el),m=d&&d.a,f=d&&d.d,v=(n.left-a.left)/(m||1),b=(n.top-a.top)/(f||1);i.animatingX=!!v,i.animatingY=!!b,me(i,"transform","translate3d("+v+"px,"+b+"px,0)"),this.forRepaintDummy=hx(i),me(i,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),me(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){me(i,"transition",""),me(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},l)}}}}function hx(o){return o.offsetWidth}function bx(o,e,t,i){return Math.sqrt(Math.pow(e.top-o.top,2)+Math.pow(e.left-o.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*i.animation}function gx(o){var e=o.sortable,t=o.rootEl,i=o.name,n=o.targetEl,a=o.cloneEl,l=o.toEl,d=o.fromEl,m=o.oldIndex,f=o.newIndex,v=o.oldDraggableIndex,b=o.newDraggableIndex,C=o.originalEvent,A=o.putSortable,T=o.extraEventProperties;if(e=e||t&&t[kt],!!e){var x,_=e.options,L="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!eo&&!Li?x=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(x=document.createEvent("Event"),x.initEvent(i,!0,!0)),x.to=l||t,x.from=d||t,x.item=n||t,x.clone=a,x.oldIndex=m,x.newIndex=f,x.oldDraggableIndex=v,x.newDraggableIndex=b,x.originalEvent=C,x.pullMode=A?A.lastPutMode:void 0;var I=jt(jt({},T),Ii.getEventProperties(i,e));for(var H in I)x[H]=I[H];t&&t.dispatchEvent(x),_[L]&&_[L].call(e,x)}}function ut(o){gx(jt({putSortable:dt,cloneEl:je,targetEl:J,rootEl:Pe,oldIndex:ti,oldDraggableIndex:Si,newIndex:wt,newDraggableIndex:so},o))}function pe(o,e){if(!(o&&o.nodeType&&o.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(o));this.el=o,this.options=e=Qt({},e),o[kt]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(o.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return lp(o,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,d){l.setData("Text",d.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:pe.supportPointer!==!1&&"PointerEvent"in window&&!Ci,emptyInsertThreshold:5};Ii.initializePlugins(this,o,t);for(var i in t)!(i in e)&&(e[i]=t[i]);cp(e);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=e.forceFallback?!1:xx,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?$e(o,"pointerdown",this._onTapStart):($e(o,"mousedown",this._onTapStart),$e(o,"touchstart",this._onTapStart)),this.nativeDraggable&&($e(o,"dragover",this),$e(o,"dragenter",this)),zn.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Qt(this,fx())}function Tx(o){o.dataTransfer&&(o.dataTransfer.dropEffect="move"),o.cancelable&&o.preventDefault()}function Cn(o,e,t,i,n,a,l,d){var m,f=o[kt],v=f.options.onMove,b;return window.CustomEvent&&!eo&&!Li?m=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent("move",!0,!0)),m.to=e,m.from=o,m.dragged=t,m.draggedRect=i,m.related=n||e,m.relatedRect=a||tt(e),m.willInsertAfter=d,m.originalEvent=l,o.dispatchEvent(m),v&&(b=v.call(f,m,l)),b}function ds(o){o.draggable=!1}function _x(){fs=!1}function Ex(o,e,t){var i=tt(ii(t.el,0,t.options,!0)),n=10;return e?o.clientX<i.left-n||o.clientY<i.top&&o.clientX<i.right:o.clientY<i.top-n||o.clientY<i.bottom&&o.clientX<i.left}function Cx(o,e,t){var i=tt(vs(t.el,t.options.draggable)),n=10;return e?o.clientX>i.right+n||o.clientX<=i.right&&o.clientY>i.bottom&&o.clientX>=i.left:o.clientX>i.right&&o.clientY>i.top||o.clientX<=i.right&&o.clientY>i.bottom+n}function Ax(o,e,t,i,n,a,l,d){var m=i?o.clientY:o.clientX,f=i?t.height:t.width,v=i?t.top:t.left,b=i?t.bottom:t.right,C=!1;if(!l){if(d&&$n<f*n){if(!Mi&&($i===1?m>v+f*a/2:m<b-f*a/2)&&(Mi=!0),Mi)C=!0;else if($i===1?m<v+$n:m>b-$n)return-$i}else if(m>v+f*(1-n)/2&&m<b-f*(1-n)/2)return Sx(e)}return C=C||l,C&&(m<v+f*a/2||m>b-f*a/2)?m>v+f/2?1:-1:0}function Sx(o){return At(J)<At(o)?1:-1}function $x(o){for(var e=o.tagName+o.className+o.src+o.href+o.textContent,t=e.length,i=0;t--;)i+=e.charCodeAt(t);return i.toString(36)}function Mx(o){Fn.length=0;for(var e=o.getElementsByTagName("input"),t=e.length;t--;){var i=e[t];i.checked&&Fn.push(i)}}function Mn(o){return setTimeout(o,0)}function hs(o){return clearTimeout(o)}function Lx(){function o(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return o.prototype={dragStarted:function(t){var i=t.originalEvent;this.sortable.nativeDraggable?$e(document,"dragover",this._handleAutoScroll):this.options.supportPointer?$e(document,"pointermove",this._handleFallbackAutoScroll):i.touches?$e(document,"touchmove",this._handleFallbackAutoScroll):$e(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var i=t.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?Ae(document,"dragover",this._handleAutoScroll):(Ae(document,"pointermove",this._handleFallbackAutoScroll),Ae(document,"touchmove",this._handleFallbackAutoScroll),Ae(document,"mousemove",this._handleFallbackAutoScroll)),Qm(),Ln(),ux()},nulling:function(){On=bs=_i=gs=Ei=ms=ps=null,Ze.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,i){var n=this,a=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,d=document.elementFromPoint(a,l);if(On=t,i||this.options.forceAutoScrollFallback||Li||eo||Ci){us(t,this.options,d,i);var m=co(d,!0);gs&&(!Ei||a!==ms||l!==ps)&&(Ei&&Qm(),Ei=setInterval(function(){var f=co(document.elementFromPoint(a,l),!0);f!==m&&(m=f,Ln()),us(t,n.options,f,i)},10),ms=a,ps=l)}else{if(!this.options.bubbleScroll||co(d,!0)===Ut()){Ln();return}us(t,this.options,co(d,!1),!1)}}},Qt(o,{pluginName:"scroll",initializeByDefault:!0})}function Ln(){Ze.forEach(function(o){clearInterval(o.pid)}),Ze=[]}function Qm(){clearInterval(Ei)}function xs(){}function ys(){}var cx,eo,Li,Vm,Ci,ep,tp,op,Km,Ai,kt,Zo,as,Ii,vx,ht,J,Ke,ye,Pe,Do,Sn,je,lo,ti,wt,Si,so,Tn,dt,ei,Dn,zn,Lo,It,ss,ls,Ym,Jm,Ti,Qo,$i,Mi,_n,$n,mt,cs,fs,Fn,Nn,En,Zm,xx,sp,lp,yx,wx,cp,dp,mp,Io,kx,Ze,_i,bs,gs,ms,ps,On,Ei,us,pp,zo,Bn=y(()=>{/**!
 * Sortable 1.15.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */cx="1.15.0";eo=Zt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Li=Zt(/Edge/i),Vm=Zt(/firefox/i),Ci=Zt(/safari/i)&&!Zt(/chrome/i)&&!Zt(/android/i),ep=Zt(/iP(ad|od|hone)/i),tp=Zt(/chrome/i)&&Zt(/android/i),op={capture:!1,passive:!1};Km=/\s+/g;kt="Sortable"+new Date().getTime();Zo=[],as={initializeByDefault:!0},Ii={mount:function(e){for(var t in as)as.hasOwnProperty(t)&&!(t in e)&&(e[t]=as[t]);Zo.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Zo.push(e)},pluginEvent:function(e,t,i){var n=this;this.eventCanceled=!1,i.cancel=function(){n.eventCanceled=!0};var a=e+"Global";Zo.forEach(function(l){t[l.pluginName]&&(t[l.pluginName][a]&&t[l.pluginName][a](jt({sortable:t},i)),t.options[l.pluginName]&&t[l.pluginName][e]&&t[l.pluginName][e](jt({sortable:t},i)))})},initializePlugins:function(e,t,i,n){Zo.forEach(function(d){var m=d.pluginName;if(!(!e.options[m]&&!d.initializeByDefault)){var f=new d(e,t,e.options);f.sortable=e,f.options=e.options,e[m]=f,Qt(i,f.defaults)}});for(var a in e.options)if(e.options.hasOwnProperty(a)){var l=this.modifyOption(e,a,e.options[a]);typeof l<"u"&&(e.options[a]=l)}},getEventProperties:function(e,t){var i={};return Zo.forEach(function(n){typeof n.eventProperties=="function"&&Qt(i,n.eventProperties.call(t[n.pluginName],e))}),i},modifyOption:function(e,t,i){var n;return Zo.forEach(function(a){e[a.pluginName]&&a.optionListeners&&typeof a.optionListeners[t]=="function"&&(n=a.optionListeners[t].call(e[a.pluginName],i))}),n}};vx=["evt"],ht=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.evt,a=lx(i,vx);Ii.pluginEvent.bind(pe)(e,t,jt({dragEl:J,parentEl:Ke,ghostEl:ye,rootEl:Pe,nextEl:Do,lastDownEl:Sn,cloneEl:je,cloneHidden:lo,dragStarted:Ti,putSortable:dt,activeSortable:pe.active,originalEvent:n,oldIndex:ti,oldDraggableIndex:Si,newIndex:wt,newDraggableIndex:so,hideGhostForTarget:dp,unhideGhostForTarget:mp,cloneNowHidden:function(){lo=!0},cloneNowShown:function(){lo=!1},dispatchSortableEvent:function(d){ut({sortable:t,name:d,originalEvent:n})}},a))};ei=!1,Dn=!1,zn=[],Mi=!1,_n=!1,cs=[],fs=!1,Fn=[],Nn=typeof document<"u",En=ep,Zm=Li||eo?"cssFloat":"float",xx=Nn&&!tp&&!ep&&"draggable"in document.createElement("div"),sp=(function(){if(Nn){if(eo)return!1;var o=document.createElement("x");return o.style.cssText="pointer-events:auto",o.style.pointerEvents==="auto"}})(),lp=function(e,t){var i=me(e),n=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),a=ii(e,0,t),l=ii(e,1,t),d=a&&me(a),m=l&&me(l),f=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+tt(a).width,v=m&&parseInt(m.marginLeft)+parseInt(m.marginRight)+tt(l).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&d.float&&d.float!=="none"){var b=d.float==="left"?"left":"right";return l&&(m.clear==="both"||m.clear===b)?"vertical":"horizontal"}return a&&(d.display==="block"||d.display==="flex"||d.display==="table"||d.display==="grid"||f>=n&&i[Zm]==="none"||l&&i[Zm]==="none"&&f+v>n)?"vertical":"horizontal"},yx=function(e,t,i){var n=i?e.left:e.top,a=i?e.right:e.bottom,l=i?e.width:e.height,d=i?t.left:t.top,m=i?t.right:t.bottom,f=i?t.width:t.height;return n===d||a===m||n+l/2===d+f/2},wx=function(e,t){var i;return zn.some(function(n){var a=n[kt].options.emptyInsertThreshold;if(!(!a||vs(n))){var l=tt(n),d=e>=l.left-a&&e<=l.right+a,m=t>=l.top-a&&t<=l.bottom+a;if(d&&m)return i=n}}),i},cp=function(e){function t(a,l){return function(d,m,f,v){var b=d.options.group.name&&m.options.group.name&&d.options.group.name===m.options.group.name;if(a==null&&(l||b))return!0;if(a==null||a===!1)return!1;if(l&&a==="clone")return a;if(typeof a=="function")return t(a(d,m,f,v),l)(d,m,f,v);var C=(l?d:m).options.group.name;return a===!0||typeof a=="string"&&a===C||a.join&&a.indexOf(C)>-1}}var i={},n=e.group;(!n||An(n)!="object")&&(n={name:n}),i.name=n.name,i.checkPull=t(n.pull,!0),i.checkPut=t(n.put),i.revertClone=n.revertClone,e.group=i},dp=function(){!sp&&ye&&me(ye,"display","none")},mp=function(){!sp&&ye&&me(ye,"display","")};Nn&&!tp&&document.addEventListener("click",function(o){if(Dn)return o.preventDefault(),o.stopPropagation&&o.stopPropagation(),o.stopImmediatePropagation&&o.stopImmediatePropagation(),Dn=!1,!1},!0);Io=function(e){if(J){e=e.touches?e.touches[0]:e;var t=wx(e.clientX,e.clientY);if(t){var i={};for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[kt]._onDragOver(i)}}},kx=function(e){J&&J.parentNode[kt]._isOutsideThisEl(e.target)};pe.prototype={constructor:pe,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Qo=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,J):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,n=this.options,a=n.preventOnFilter,l=e.type,d=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,m=(d||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||m,v=n.filter;if(Mx(i),!J&&!(/mousedown|pointerdown/.test(l)&&e.button!==0||n.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&Ci&&m&&m.tagName.toUpperCase()==="SELECT")&&(m=Ht(m,n.draggable,i,!1),!(m&&m.animated)&&Sn!==m)){if(ti=At(m),Si=At(m,n.draggable),typeof v=="function"){if(v.call(this,e,m,this)){ut({sortable:t,rootEl:f,name:"filter",targetEl:m,toEl:i,fromEl:i}),ht("filter",t,{evt:e}),a&&e.cancelable&&e.preventDefault();return}}else if(v&&(v=v.split(",").some(function(b){if(b=Ht(f,b.trim(),i,!1),b)return ut({sortable:t,rootEl:b,name:"filter",targetEl:m,fromEl:i,toEl:i}),ht("filter",t,{evt:e}),!0}),v)){a&&e.cancelable&&e.preventDefault();return}n.handle&&!Ht(f,n.handle,i,!1)||this._prepareDragStart(e,d,m)}}},_prepareDragStart:function(e,t,i){var n=this,a=n.el,l=n.options,d=a.ownerDocument,m;if(i&&!J&&i.parentNode===a){var f=tt(i);if(Pe=a,J=i,Ke=J.parentNode,Do=J.nextSibling,Sn=i,Tn=l.group,pe.dragged=J,Lo={target:J,clientX:(t||e).clientX,clientY:(t||e).clientY},Ym=Lo.clientX-f.left,Jm=Lo.clientY-f.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,J.style["will-change"]="all",m=function(){if(ht("delayEnded",n,{evt:e}),pe.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!Vm&&n.nativeDraggable&&(J.draggable=!0),n._triggerDragStart(e,t),ut({sortable:n,name:"choose",originalEvent:e}),yt(J,l.chosenClass,!0)},l.ignore.split(",").forEach(function(v){ip(J,v.trim(),ds)}),$e(d,"dragover",Io),$e(d,"mousemove",Io),$e(d,"touchmove",Io),$e(d,"mouseup",n._onDrop),$e(d,"touchend",n._onDrop),$e(d,"touchcancel",n._onDrop),Vm&&this.nativeDraggable&&(this.options.touchStartThreshold=4,J.draggable=!0),ht("delayStart",this,{evt:e}),l.delay&&(!l.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Li||eo))){if(pe.eventCanceled){this._onDrop();return}$e(d,"mouseup",n._disableDelayedDrag),$e(d,"touchend",n._disableDelayedDrag),$e(d,"touchcancel",n._disableDelayedDrag),$e(d,"mousemove",n._delayedDragTouchMoveHandler),$e(d,"touchmove",n._delayedDragTouchMoveHandler),l.supportPointer&&$e(d,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(m,l.delay)}else m()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){J&&ds(J),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ae(e,"mouseup",this._disableDelayedDrag),Ae(e,"touchend",this._disableDelayedDrag),Ae(e,"touchcancel",this._disableDelayedDrag),Ae(e,"mousemove",this._delayedDragTouchMoveHandler),Ae(e,"touchmove",this._delayedDragTouchMoveHandler),Ae(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?$e(document,"pointermove",this._onTouchMove):t?$e(document,"touchmove",this._onTouchMove):$e(document,"mousemove",this._onTouchMove):($e(J,"dragend",this),$e(Pe,"dragstart",this._onDragStart));try{document.selection?Mn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(ei=!1,Pe&&J){ht("dragStarted",this,{evt:t}),this.nativeDraggable&&$e(document,"dragover",kx);var i=this.options;!e&&yt(J,i.dragClass,!1),yt(J,i.ghostClass,!0),pe.active=this,e&&this._appendGhost(),ut({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(It){this._lastX=It.clientX,this._lastY=It.clientY,dp();for(var e=document.elementFromPoint(It.clientX,It.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(It.clientX,It.clientY),e!==t);)t=e;if(J.parentNode[kt]._isOutsideThisEl(e),t)do{if(t[kt]){var i=void 0;if(i=t[kt]._onDragOver({clientX:It.clientX,clientY:It.clientY,target:e,rootEl:t}),i&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);mp()}},_onTouchMove:function(e){if(Lo){var t=this.options,i=t.fallbackTolerance,n=t.fallbackOffset,a=e.touches?e.touches[0]:e,l=ye&&oi(ye,!0),d=ye&&l&&l.a,m=ye&&l&&l.d,f=En&&mt&&Xm(mt),v=(a.clientX-Lo.clientX+n.x)/(d||1)+(f?f[0]-cs[0]:0)/(d||1),b=(a.clientY-Lo.clientY+n.y)/(m||1)+(f?f[1]-cs[1]:0)/(m||1);if(!pe.active&&!ei){if(i&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(ye){l?(l.e+=v-(ss||0),l.f+=b-(ls||0)):l={a:1,b:0,c:0,d:1,e:v,f:b};var C="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");me(ye,"webkitTransform",C),me(ye,"mozTransform",C),me(ye,"msTransform",C),me(ye,"transform",C),ss=v,ls=b,It=a}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ye){var e=this.options.fallbackOnBody?document.body:Pe,t=tt(J,!0,En,!0,e),i=this.options;if(En){for(mt=e;me(mt,"position")==="static"&&me(mt,"transform")==="none"&&mt!==document;)mt=mt.parentNode;mt!==document.body&&mt!==document.documentElement?(mt===document&&(mt=Ut()),t.top+=mt.scrollTop,t.left+=mt.scrollLeft):mt=Ut(),cs=Xm(mt)}ye=J.cloneNode(!0),yt(ye,i.ghostClass,!1),yt(ye,i.fallbackClass,!0),yt(ye,i.dragClass,!0),me(ye,"transition",""),me(ye,"transform",""),me(ye,"box-sizing","border-box"),me(ye,"margin",0),me(ye,"top",t.top),me(ye,"left",t.left),me(ye,"width",t.width),me(ye,"height",t.height),me(ye,"opacity","0.8"),me(ye,"position",En?"absolute":"fixed"),me(ye,"zIndex","100000"),me(ye,"pointerEvents","none"),pe.ghost=ye,e.appendChild(ye),me(ye,"transform-origin",Ym/parseInt(ye.style.width)*100+"% "+Jm/parseInt(ye.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,n=e.dataTransfer,a=i.options;if(ht("dragStart",this,{evt:e}),pe.eventCanceled){this._onDrop();return}ht("setupClone",this),pe.eventCanceled||(je=ap(J),je.removeAttribute("id"),je.draggable=!1,je.style["will-change"]="",this._hideClone(),yt(je,this.options.chosenClass,!1),pe.clone=je),i.cloneId=Mn(function(){ht("clone",i),!pe.eventCanceled&&(i.options.removeCloneOnHide||Pe.insertBefore(je,J),i._hideClone(),ut({sortable:i,name:"clone"}))}),!t&&yt(J,a.dragClass,!0),t?(Dn=!0,i._loopId=setInterval(i._emulateDragOver,50)):(Ae(document,"mouseup",i._onDrop),Ae(document,"touchend",i._onDrop),Ae(document,"touchcancel",i._onDrop),n&&(n.effectAllowed="move",a.setData&&a.setData.call(i,n,J)),$e(document,"drop",i),me(J,"transform","translateZ(0)")),ei=!0,i._dragStartId=Mn(i._dragStarted.bind(i,t,e)),$e(document,"selectstart",i),Ti=!0,Ci&&me(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,i=e.target,n,a,l,d=this.options,m=d.group,f=pe.active,v=Tn===m,b=d.sort,C=dt||f,A,T=this,x=!1;if(fs)return;function _(M,D){ht(M,T,jt({evt:e,isOwner:v,axis:A?"vertical":"horizontal",revert:l,dragRect:n,targetRect:a,canSort:b,fromSortable:C,target:i,completed:I,onMove:function(W,se){return Cn(Pe,t,J,n,W,tt(W),e,se)},changed:H},D))}function L(){_("dragOverAnimationCapture"),T.captureAnimationState(),T!==C&&C.captureAnimationState()}function I(M){return _("dragOverCompleted",{insertion:M}),M&&(v?f._hideClone():f._showClone(T),T!==C&&(yt(J,dt?dt.options.ghostClass:f.options.ghostClass,!1),yt(J,d.ghostClass,!0)),dt!==T&&T!==pe.active?dt=T:T===pe.active&&dt&&(dt=null),C===T&&(T._ignoreWhileAnimating=i),T.animateAll(function(){_("dragOverAnimationComplete"),T._ignoreWhileAnimating=null}),T!==C&&(C.animateAll(),C._ignoreWhileAnimating=null)),(i===J&&!J.animated||i===t&&!i.animated)&&(Qo=null),!d.dragoverBubble&&!e.rootEl&&i!==document&&(J.parentNode[kt]._isOutsideThisEl(e.target),!M&&Io(e)),!d.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),x=!0}function H(){wt=At(J),so=At(J,d.draggable),ut({sortable:T,name:"change",toEl:t,newIndex:wt,newDraggableIndex:so,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=Ht(i,d.draggable,t,!0),_("dragOver"),pe.eventCanceled)return x;if(J.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||T._ignoreWhileAnimating===i)return I(!1);if(Dn=!1,f&&!d.disabled&&(v?b||(l=Ke!==Pe):dt===this||(this.lastPutMode=Tn.checkPull(this,f,J,e))&&m.checkPut(this,f,J,e))){if(A=this._getDirection(e,i)==="vertical",n=tt(J),_("dragOverValid"),pe.eventCanceled)return x;if(l)return Ke=Pe,L(),this._hideClone(),_("revert"),pe.eventCanceled||(Do?Pe.insertBefore(J,Do):Pe.appendChild(J)),I(!0);var B=vs(t,d.draggable);if(!B||Cx(e,A,this)&&!B.animated){if(B===J)return I(!1);if(B&&t===e.target&&(i=B),i&&(a=tt(i)),Cn(Pe,t,J,n,i,a,e,!!i)!==!1)return L(),B&&B.nextSibling?t.insertBefore(J,B.nextSibling):t.appendChild(J),Ke=t,H(),I(!0)}else if(B&&Ex(e,A,this)){var j=ii(t,0,d,!0);if(j===J)return I(!1);if(i=j,a=tt(i),Cn(Pe,t,J,n,i,a,e,!1)!==!1)return L(),t.insertBefore(J,j),Ke=t,H(),I(!0)}else if(i.parentNode===t){a=tt(i);var U=0,V,te=J.parentNode!==t,O=!yx(J.animated&&J.toRect||n,i.animated&&i.toRect||a,A),g=A?"top":"left",E=Wm(i,"top","top")||Wm(J,"top","top"),s=E?E.scrollTop:void 0;Qo!==i&&(V=a[g],Mi=!1,_n=!O&&d.invertSwap||te),U=Ax(e,i,a,A,O?1:d.swapThreshold,d.invertedSwapThreshold==null?d.swapThreshold:d.invertedSwapThreshold,_n,Qo===i);var c;if(U!==0){var u=At(J);do u-=U,c=Ke.children[u];while(c&&(me(c,"display")==="none"||c===ye))}if(U===0||c===i)return I(!1);Qo=i,$i=U;var h=i.nextElementSibling,k=!1;k=U===1;var $=Cn(Pe,t,J,n,i,a,e,k);if($!==!1)return($===1||$===-1)&&(k=$===1),fs=!0,setTimeout(_x,30),L(),k&&!h?t.appendChild(J):i.parentNode.insertBefore(J,k?h:i),E&&rp(E,0,s-E.scrollTop),Ke=J.parentNode,V!==void 0&&!_n&&($n=Math.abs(V-tt(i)[g])),H(),I(!0)}if(t.contains(J))return I(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ae(document,"mousemove",this._onTouchMove),Ae(document,"touchmove",this._onTouchMove),Ae(document,"pointermove",this._onTouchMove),Ae(document,"dragover",Io),Ae(document,"mousemove",Io),Ae(document,"touchmove",Io)},_offUpEvents:function(){var e=this.el.ownerDocument;Ae(e,"mouseup",this._onDrop),Ae(e,"touchend",this._onDrop),Ae(e,"pointerup",this._onDrop),Ae(e,"touchcancel",this._onDrop),Ae(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;if(wt=At(J),so=At(J,i.draggable),ht("drop",this,{evt:e}),Ke=J&&J.parentNode,wt=At(J),so=At(J,i.draggable),pe.eventCanceled){this._nulling();return}ei=!1,_n=!1,Mi=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),hs(this.cloneId),hs(this._dragStartId),this.nativeDraggable&&(Ae(document,"drop",this),Ae(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ci&&me(document.body,"user-select",""),me(J,"transform",""),e&&(Ti&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),ye&&ye.parentNode&&ye.parentNode.removeChild(ye),(Pe===Ke||dt&&dt.lastPutMode!=="clone")&&je&&je.parentNode&&je.parentNode.removeChild(je),J&&(this.nativeDraggable&&Ae(J,"dragend",this),ds(J),J.style["will-change"]="",Ti&&!ei&&yt(J,dt?dt.options.ghostClass:this.options.ghostClass,!1),yt(J,this.options.chosenClass,!1),ut({sortable:this,name:"unchoose",toEl:Ke,newIndex:null,newDraggableIndex:null,originalEvent:e}),Pe!==Ke?(wt>=0&&(ut({rootEl:Ke,name:"add",toEl:Ke,fromEl:Pe,originalEvent:e}),ut({sortable:this,name:"remove",toEl:Ke,originalEvent:e}),ut({rootEl:Ke,name:"sort",toEl:Ke,fromEl:Pe,originalEvent:e}),ut({sortable:this,name:"sort",toEl:Ke,originalEvent:e})),dt&&dt.save()):wt!==ti&&wt>=0&&(ut({sortable:this,name:"update",toEl:Ke,originalEvent:e}),ut({sortable:this,name:"sort",toEl:Ke,originalEvent:e})),pe.active&&((wt==null||wt===-1)&&(wt=ti,so=Si),ut({sortable:this,name:"end",toEl:Ke,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ht("nulling",this),Pe=J=Ke=ye=Do=je=Sn=lo=Lo=It=Ti=wt=so=ti=Si=Qo=$i=dt=Tn=pe.dragged=pe.ghost=pe.clone=pe.active=null,Fn.forEach(function(e){e.checked=!0}),Fn.length=ss=ls=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":J&&(this._onDragOver(e),Tx(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,i=this.el.children,n=0,a=i.length,l=this.options;n<a;n++)t=i[n],Ht(t,l.draggable,this.el,!1)&&e.push(t.getAttribute(l.dataIdAttr)||$x(t));return e},sort:function(e,t){var i={},n=this.el;this.toArray().forEach(function(a,l){var d=n.children[l];Ht(d,this.options.draggable,n,!1)&&(i[a]=d)},this),t&&this.captureAnimationState(),e.forEach(function(a){i[a]&&(n.removeChild(i[a]),n.appendChild(i[a]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Ht(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(t===void 0)return i[e];var n=Ii.modifyOption(this,e,t);typeof n<"u"?i[e]=n:i[e]=t,e==="group"&&cp(i)},destroy:function(){ht("destroy",this);var e=this.el;e[kt]=null,Ae(e,"mousedown",this._onTapStart),Ae(e,"touchstart",this._onTapStart),Ae(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ae(e,"dragover",this),Ae(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),zn.splice(zn.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!lo){if(ht("hideClone",this),pe.eventCanceled)return;me(je,"display","none"),this.options.removeCloneOnHide&&je.parentNode&&je.parentNode.removeChild(je),lo=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(lo){if(ht("showClone",this),pe.eventCanceled)return;J.parentNode==Pe&&!this.options.group.revertClone?Pe.insertBefore(je,J):Do?Pe.insertBefore(je,Do):Pe.appendChild(je),this.options.group.revertClone&&this.animate(J,je),me(je,"display",""),lo=!1}}};Nn&&$e(document,"touchmove",function(o){(pe.active||ei)&&o.cancelable&&o.preventDefault()});pe.utils={on:$e,off:Ae,css:me,find:ip,is:function(e,t){return!!Ht(e,t,e,!1)},extend:px,throttle:np,closest:Ht,toggleClass:yt,clone:ap,index:At,nextTick:Mn,cancelNextTick:hs,detectDirection:lp,getChild:ii};pe.get=function(o){return o[kt]};pe.mount=function(){for(var o=arguments.length,e=new Array(o),t=0;t<o;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(pe.utils=jt(jt({},pe.utils),i.utils)),Ii.mount(i)})};pe.create=function(o,e){return new pe(o,e)};pe.version=cx;Ze=[],gs=!1;us=np(function(o,e,t,i){if(e.scroll){var n=(o.touches?o.touches[0]:o).clientX,a=(o.touches?o.touches[0]:o).clientY,l=e.scrollSensitivity,d=e.scrollSpeed,m=Ut(),f=!1,v;bs!==t&&(bs=t,Ln(),_i=e.scroll,v=e.scrollFn,_i===!0&&(_i=co(t,!0)));var b=0,C=_i;do{var A=C,T=tt(A),x=T.top,_=T.bottom,L=T.left,I=T.right,H=T.width,B=T.height,j=void 0,U=void 0,V=A.scrollWidth,te=A.scrollHeight,O=me(A),g=A.scrollLeft,E=A.scrollTop;A===m?(j=H<V&&(O.overflowX==="auto"||O.overflowX==="scroll"||O.overflowX==="visible"),U=B<te&&(O.overflowY==="auto"||O.overflowY==="scroll"||O.overflowY==="visible")):(j=H<V&&(O.overflowX==="auto"||O.overflowX==="scroll"),U=B<te&&(O.overflowY==="auto"||O.overflowY==="scroll"));var s=j&&(Math.abs(I-n)<=l&&g+H<V)-(Math.abs(L-n)<=l&&!!g),c=U&&(Math.abs(_-a)<=l&&E+B<te)-(Math.abs(x-a)<=l&&!!E);if(!Ze[b])for(var u=0;u<=b;u++)Ze[u]||(Ze[u]={});(Ze[b].vx!=s||Ze[b].vy!=c||Ze[b].el!==A)&&(Ze[b].el=A,Ze[b].vx=s,Ze[b].vy=c,clearInterval(Ze[b].pid),(s!=0||c!=0)&&(f=!0,Ze[b].pid=setInterval(function(){i&&this.layer===0&&pe.active._onTouchMove(On);var h=Ze[this.layer].vy?Ze[this.layer].vy*d:0,k=Ze[this.layer].vx?Ze[this.layer].vx*d:0;typeof v=="function"&&v.call(pe.dragged.parentNode[kt],k,h,o,On,Ze[this.layer].el)!=="continue"||rp(Ze[this.layer].el,k,h)}.bind({layer:b}),24))),b++}while(e.bubbleScroll&&C!==m&&(C=co(C,!1)));gs=f}},30),pp=function(e){var t=e.originalEvent,i=e.putSortable,n=e.dragEl,a=e.activeSortable,l=e.dispatchSortableEvent,d=e.hideGhostForTarget,m=e.unhideGhostForTarget;if(t){var f=i||a;d();var v=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,b=document.elementFromPoint(v.clientX,v.clientY);m(),f&&!f.el.contains(b)&&(l("spill"),this.onSpill({dragEl:n,putSortable:i}))}};xs.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var n=ii(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(t,n):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:pp};Qt(xs,{pluginName:"revertOnSpill"});ys.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable,n=i||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:pp};Qt(ys,{pluginName:"removeOnSpill"});pe.mount(new Lx);pe.mount(ys,xs);zo=pe});var up={};ae(up,{ImageCollectionComponent:()=>to});var to,Rn=y(()=>{S();Bn();Y();to=class extends F{static TAG_NAME="am-image-collection";get images(){return this.sortable?.toArray()??[]}set images(e){this.render(e)}sortable;connectedCallback(){this.classList.add("am-c-image-collection"),this.handleMove()}handleMove(){this.images&&this.render(this.images)}render(e){this.removeListeners(),this.innerHTML="";let t=this.hasAttribute("disabled"),i=p("div",["am-c-image-collection__grid"],{},this);if(e.forEach(n=>{let a=p("div",["am-c-image-collection__item"],{"data-url":n,title:n},i,w`<am-img src="${Pn(n)}" class="${"am-c-image-collection__image"}" ></am-img>`);if(!t){let l=p("span",["am-c-image-collection__delete"],{},a);this.listen(l,"click",()=>{a.remove(),X("change",this)})}}),!t){this.sortable=new zo(i,{dataIdAttr:"data-url",dragoverBubble:!1,ghostClass:"am-c-image-collection__item--ghost",dragClass:"am-c-image-collection__item--drag",chosenClass:"am-c-image-collection__item--chosen",animation:300,onSort:()=>{X("change",this)}}),this.listen(i,"dragover",a=>{a.preventDefault(),a.stopImmediatePropagation()}),this.listen(i,"click",a=>{a.target===i&&this.add()});let n=p("button",["am-e-button","am-c-image-collection__add"],{},this,r.text("addImage"));this.listen(n,"click",this.add.bind(this))}}add(){mo(e=>{this.images=[...this.images,e],X("change",this)},r.text("addImage"))}};customElements.define(to.TAG_NAME,to)});var Hn,fp=y(()=>{Rn();S();Ge();Hn=class o extends he{static get sanitize(){return{layout:!1,columnWidthPx:!1,rowHeightPx:!1,gapPx:!1}}static get toolbox(){return{title:r.text("galleryBlockTitle"),icon:'<i class="bi bi-columns"></i>'}}prepareData(e){return{files:e.files||[],layout:e.layout||"columns",columnWidthPx:e.columnWidthPx||250,rowHeightPx:e.rowHeightPx||250,gapPx:e.gapPx||5,fillRectangle:e.fillRectangle??!1}}render(){this.wrapper.classList.add("am-u-flex","am-u-flex--column","am-u-flex--gap"),p("span",["am-u-text-muted","am-u-user-select-none"],{},this.wrapper,w`<am-icon-text ${"am-icon"}="columns" ${"am-text"}="${o.toolbox.title}" ></am-icon-text>`);let e=p("div",["am-c-image-collection-group"],{},this.wrapper);if(!this.readOnly){let i=p("button",["am-e-button"],{},e,r.text("galleryBlockLayout"));this.listen(i,"click",this.renderModal.bind(this))}let t=p(to.TAG_NAME,[],this.readOnly?{disabled:""}:{},e);return setTimeout(()=>{t.images=this.data.files,this.listen(t,"change",()=>{this.data.files=t.images,this.blockAPI.dispatchChange()})},0),this.wrapper}renderModal(){let{modal:e,body:t}=Ve(r.text("galleryBlockLayout"));setTimeout(()=>{this.renderLayoutSettings(t),e.open()},0),this.listen(e,"change",()=>{this.data={...this.data,fillRectangle:!1,...xe(e)}}),this.listen(e,"AutomadModalClose",()=>{this.blockAPI.dispatchChange()})}renderLayoutSettings(e){e.innerHTML="";let t=be([{text:r.text("galleryBlockLayoutColumns"),value:"columns"},{text:r.text("galleryBlockLayoutGrid"),value:"grid"},{text:r.text("galleryBlockLayoutRows"),value:"rows"}],this.data.layout,e,"layout"),i=p("div",["am-l-grid","am-l-grid--auto"],{},e);P("am-number-field",i,{name:"gapPx",value:this.data.gapPx,key:Z(),label:`${r.text("galleryBlockLayoutGap")} (Pixel)`},[],{required:""}),["columns","rows"].includes(this.data.layout)&&P("am-toggle-field",i,{name:"fillRectangle",value:this.data.fillRectangle,key:Z(),label:r.text("galleryBlockLayoutFillRectangle")});let n=p("div",["am-l-grid","am-l-grid--auto"],{},e);["rows","grid"].includes(this.data.layout)&&P("am-number-field",n,{name:"rowHeightPx",value:this.data.rowHeightPx,key:Z(),label:`${r.text("galleryBlockLayoutRowHeight")} (Pixel)`},[],{required:""}),["columns","grid"].includes(this.data.layout)&&P("am-number-field",n,{name:"columnWidthPx",value:this.data.columnWidthPx,key:Z(),label:`${r.text("galleryBlockLayoutColumnWidth")} (Pixel)`},[],{required:""});let a=Ne(t,"change",()=>{a.remove(),this.data.layout=t.value,this.renderLayoutSettings(e)});this.addListener(a)}save(){return this.data}}});var Un,hp=y(()=>{S();Ge();Un=class extends he{static get conversionConfig(){return{export:"text",import:"text"}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get sanitize(){return{level:!1,text:{br:!0}}}static get enableLineBreaks(){return!1}static get toolbox(){return{title:r.text("heading"),icon:'<i class="bi bi-type-h1"></i>'}}prepareData(e){return{text:e.text??"",level:e.level??2}}get content(){return R("[contenteditable]",this.wrapper)?.innerHTML??""}render(){return this.wrapper.innerHTML="",p("div",["am-c-ed-bl-header"],{contenteditable:this.readOnly?"false":"true"},p(`h${this.data.level}`,[],{},this.wrapper)).innerHTML=this.data.text,this.wrapper}save(){return{text:this.content,level:this.data.level}}renderSettings(){return[1,2,3,4,5,6].map(e=>({icon:w`<i class="bi bi-type-h${e}"></i>`,label:`${r.text("heading")} ${e}`,closeOnActivate:!0,onActivate:()=>{this.data.level=e,this.data.text=this.content,this.render()},toggle:"level",isActive:this.data.level==e}))}merge(e){let t=R("[contenteditable]",this.wrapper),i=this.api.blocks.getBlockIndex(this.blockAPI.id);t.innerHTML=`${t.innerHTML}${e.text}`,setTimeout(()=>{this.api.caret.setToBlock(i,"end")},100)}validate(e){return e.text.trim()!==""}onPaste(e){let t=e.detail.data;this.data={level:parseInt(t.tagName.replace("H",""))??2,text:t.textContent},this.render()}}});var bp={};ae(bp,{ImgComponent:()=>po});var po,jn=y(()=>{S();Y();po=class extends F{static TAG_NAME="am-img";set src(e){this.render(e)}static get observedAttributes(){return["src"]}connectedCallback(){this.classList.add("am-e-img")}attributeChangedCallback(e,t,i){e==="src"&&(this.src=i)}render(e){if(this.disconnectedCallback(),this.innerHTML="",e.length==0){this.innerHTML=this.placeholder("slash-circle");return}let t=p("img",[],{referrerpolicy:"no-referrer"},this);this.listen(t,"error",()=>{this.innerHTML=this.placeholder("exclamation-triangle")}),t.src=e}placeholder(e){return w`<span class="${"am-e-img__error"}"><i class="bi bi-${e}"></i></span>`}};customElements.define("am-img",po)});var qn,gp=y(()=>{jn();S();Ge();qn=class extends he{static get sanitize(){return{url:!0,link:!1,alt:!0,openInNewTab:!1,caption:{}}}static get pasteConfig(){return{patterns:{image:new RegExp(`(https?:\\/\\/)?\\S+\\.(${r.fileTypesImage.join("|")})$`,"i")},files:{extensions:r.fileTypesImage}}}static get toolbox(){return{title:r.text("imageTool"),icon:'<i class="bi bi-image"></i>'}}img;caption;prepareData(e){return{url:e.url||"",alt:e.alt||"",link:e.link||"",openInNewTab:e.openInNewTab||!1,caption:e.caption||""}}setImage(e){this.data.url=e,this.img.src=Dt(e)}render(){if(this.wrapper.classList.add("am-c-ed-bl-image"),this.img=p(po.TAG_NAME,[],{},this.wrapper),this.setImage(this.data.url),!this.readOnly){let e=p("div",["am-c-ed-bl-image__buttons","am-f-group"],{},this.wrapper),t=p("button",["am-e-button","am-e-button--icon","am-f-group__item"],{"am-tooltip":r.text("selectImage")},e,'<i class="bi bi-images"></i>'),i=p("button",["am-e-button","am-e-button--icon","am-f-group__item"],{"am-tooltip":r.text("altAttr")},e,'<i class="bi bi-tag-fill"></i>'),n=p("button",["am-e-button","am-e-button--icon","am-f-group__item"],{"am-tooltip":r.text("link")},e,'<i class="bi bi-link"></i>');this.listen(t,"click",this.pickImage.bind(this)),this.listen(i,"click",this.createAltModal.bind(this)),this.listen(n,"click",this.createLinkModal.bind(this))}return this.caption=p("div",["ce-paragraph"],{contenteditable:this.readOnly?"false":"true",placeholder:r.text("caption")},this.wrapper,w`${this.data.caption}`),this.listen(this.caption,"input",()=>{X("change",this.caption)}),this.wrapper}appendCallback(){this.pickImage()}onPaste(e){if(e.type=="pattern"&&this.setImage(e.detail.data),e.type=="file"){let t=e.detail.file,i=new FileReader,n=t.type.split("/")[1],a=`image-${Date.now()}`;i.onload=async l=>{if(!n)return;this.wrapper.innerHTML="<am-spinner></am-spinner>";let{error:d}=await ue("ImageController::save",{url:fe(),name:a,extension:n,imageBase64:l.target.result},!1,()=>{this.wrapper.innerHTML="",this.data.url=fe()?`${a}.${n}`:`/shared/${a}.${n}`,this.render(),X("AutomadFilesChangeOnServer")});d&&ot(d)},i.readAsDataURL(t)}}pickImage(){mo(this.setImage.bind(this),r.text("selectImage"),this.data.url)}createAltModal(){let{modal:e,body:t}=Ve(r.text("altAttr"));P("am-input-field",t,{value:this.data.alt,name:"alt",key:Z(),label:"alt"}),this.listen(t,"input",ke(()=>{let i=xe(e);this.data.alt=i.alt,this.blockAPI.dispatchChange()},200)),setTimeout(()=>{e.open()})}createLinkModal(){let{modal:e,body:t}=Ve(r.text("link"));P("am-url-field",t,{value:this.data.link,name:"link",key:Z(),label:r.text("link")}),P("am-toggle-field",t,{value:this.data.openInNewTab,name:"newTab",key:Z(),label:r.text("openInNewTab")}),this.listen(t,"input",ke(()=>{let i=xe(e);this.data.link=i.link,this.data.openInNewTab=!!i.newTab,this.blockAPI.dispatchChange()},200)),setTimeout(()=>{e.open()})}save(){return this.data.caption=this.caption.innerHTML||"",this.data}}});var Dx,zx,Fx,Gn,vp=y(()=>{Rn();S();Ge();Dx=["slide","fade","flip"],zx=o=>Object.keys(o).reduce((e,t)=>`${e} ${t}:${o[t].slidesPerView}`.trim(),""),Fx=o=>{let e={};return o.split(" ").forEach(t=>{let[i,n]=t.split(":");i&&n&&(e[i]={slidesPerView:parseInt(n)})}),e},Gn=class o extends he{static get sanitize(){return{effect:!1}}static get toolbox(){return{title:r.text("imageSlideshowBlockTitle"),icon:'<i class="bi bi-collection-play"></i>'}}prepareData(e){return{files:e.files||[],imageWidthPx:e.imageWidthPx||1200,imageHeightPx:e.imageHeightPx||780,gapPx:e.gapPx||0,slidesPerView:e.slidesPerView||1,loop:e.loop??!0,autoplay:e.autoplay??!1,effect:e.effect??"slide",hideControls:e.hideControls??!1,delay:e.delay??3e3,breakpoints:e.breakpoints??{600:{slidesPerView:2},900:{slidesPerView:3}}}}render(){this.wrapper.classList.add("am-u-flex","am-u-flex--column","am-u-flex--gap"),p("span",["am-u-text-muted","am-u-user-select-none"],{},this.wrapper,w`<am-icon-text ${"am-icon"}="collection-play" ${"am-text"}="${o.toolbox.title}" ></am-icon-text>`);let e=p("div",["am-c-image-collection-group"],{},this.wrapper);if(!this.readOnly){let i=p("button",["am-e-button"],{},e,r.text("imageSlideshowBlockSettings"));this.listen(i,"click",this.renderModal.bind(this))}let t=p(to.TAG_NAME,[],this.readOnly?{disabled:""}:{},e);return setTimeout(()=>{t.images=this.data.files,this.readOnly||this.listen(t,"change",()=>{this.data.files=t.images,this.blockAPI.dispatchChange()})},0),this.wrapper}renderModal(){let{modal:e,body:t}=Ve(r.text("imageSlideshowBlockSettings"));setTimeout(()=>{this.renderSliderSettings(t),e.open()},0),this.listen(e,"change",()=>{let i=xe(e);this.data={files:this.data.files,imageWidthPx:i.imageWidthPx,imageHeightPx:i.imageHeightPx,gapPx:i.gapPx,slidesPerView:i.slidesPerView,loop:i.loop??!1,autoplay:i.autoplay??!1,effect:i.effect,delay:i.delay,hideControls:i.hideControls,breakpoints:Fx(i.breakpointsString)}}),this.listen(e,"AutomadModalClose",()=>{this.blockAPI.dispatchChange()})}renderSliderSettings(e){e.innerHTML="",ft(r.text("imageSlideshowBlockEffect"),be(Dx.map(a=>({value:a})),this.data.effect,null,"effect"),e);let t=p("div",["am-l-grid","am-l-grid--auto"],{},e);P("am-toggle-field",t,{name:"loop",value:this.data.loop,key:Z(),label:r.text("imageSlideshowBlockLoop")}),P("am-toggle-field",t,{name:"autoplay",value:this.data.autoplay,key:Z(),label:r.text("imageSlideshowBlockAutoplay")}),P("am-toggle-field",t,{name:"hideControls",value:this.data.hideControls,key:Z(),label:r.text("imageSlideshowBlockHideControls")}),P("am-number-field",t,{name:"delay",value:this.data.delay,key:Z(),label:`${r.text("imageSlideshowBlockDelay")} (ms)`}),p("hr",[],{},e);let i=p("div",["am-l-grid","am-l-grid--auto"],{},e),n=p("div",["am-l-grid","am-l-grid--auto"],{},e);P("am-number-field",i,{name:"imageWidthPx",value:this.data.imageWidthPx,key:Z(),label:`${r.text("imageSlideshowBlockImageWidth")} (Pixel)`},[],{required:""}),P("am-number-field",i,{name:"imageHeightPx",value:this.data.imageHeightPx,key:Z(),label:`${r.text("imageSlideshowBlockImageHeight")} (Pixel)`},[],{required:""}),P("am-number-field",n,{name:"slidesPerView",value:this.data.slidesPerView,key:Z(),label:r.text("imageSlideshowBlockSlidesPerView")},[],{required:""}),P("am-number-field",n,{name:"gapPx",value:this.data.gapPx,key:Z(),label:`${r.text("imageSlideshowBlockSpaceBetween")} (Pixel)`},[],{required:""}),p("div",["am-c-field"],{"am-error":r.text("imageSlideshowBlockBreakpointsError")},e,w`<label class="${"am-c-field__label"}"> ${r.text("imageSlideshowBlockBreakpoints")} &mdash; <span class="${"am-u-text-mono"}">px:slides px:slides ...</span></label><input class="${"am-f-input"} ${"am-u-text-mono"}" type="text" value="${zx(this.data.breakpoints)}" name="breakpointsString" placeholder="600:2 900:3" pattern="([1-9][0-9]+:[0-9]+( |$))*" />`),p("p",[],{},e,r.text("imageSlideshowBlockBreakpointsHelp"))}save(){return this.data}}});var Vn,xp=y(()=>{S();Ge();Vn=class o extends he{static get sanitize(){return{to:!1,error:{},success:{},errorAddress:!1,labelAddress:!1,errorSubject:!1,labelSubject:!1,errorBody:!1,labelBody:!1,labelSend:!1}}static get toolbox(){return{title:r.text("mailBlockTitle"),icon:'<i class="bi bi-envelope"></i>'}}prepareData(e){return{to:e.to||r.user.email,error:e.error||"",success:e.success||"",errorAddress:e.errorAddress||"",labelAddress:e.labelAddress||"",errorSubject:e.errorSubject||"",labelSubject:e.labelSubject||"",errorBody:e.errorBody||"",labelBody:e.labelBody||"",labelSend:e.labelSend||""}}render(){let e=this.readOnly?{disabled:""}:{};return this.wrapper.classList.add("am-u-flex","am-u-flex--column","am-u-flex--gap"),this.wrapper.innerHTML=w`<span class="${"am-u-text-muted"} ${"am-u-user-select-none"}"><am-icon-text ${"am-icon"}="envelope" ${"am-text"}="${o.toolbox.title}" ></am-icon-text></span><div class="${"am-c-card"}"><div class="${"am-c-card__form"}"> ${P("am-input-field",null,{name:"to",key:Z(),label:r.text("mailBlockTo"),value:this.data.to,placeholder:"you@domain.com"},[],{"am-error":r.text("emailRequiredError"),required:"",...e}).outerHTML} <div class="${"am-l-grid"} ${"am-l-grid--auto"}" style="--min: 20rem;" > ${P("am-input-field",null,{name:"labelAddress",key:Z(),label:r.text("mailBlockAddressFieldLabel"),value:this.data.labelAddress,placeholder:r.text("mailBlockDefaultLabelAddress")},[],e).outerHTML} ${P("am-input-field",null,{name:"errorAddress",key:Z(),label:r.text("mailBlockAddressFieldError"),value:this.data.errorAddress,placeholder:r.text("mailBlockDefaultErrorAddress")},[],e).outerHTML} ${P("am-input-field",null,{name:"labelSubject",key:Z(),label:r.text("mailBlockSubjectFieldLabel"),value:this.data.labelSubject,placeholder:r.text("mailBlockDefaultLabelSubject")},[],e).outerHTML} ${P("am-input-field",null,{name:"errorSubject",key:Z(),label:r.text("mailBlockSubjectFieldError"),value:this.data.errorSubject,placeholder:r.text("mailBlockDefaultErrorSubject")},[],e).outerHTML} ${P("am-input-field",null,{name:"labelBody",key:Z(),label:r.text("mailBlockBodyFieldLabel"),value:this.data.labelBody,placeholder:r.text("mailBlockDefaultLabelBody")},[],e).outerHTML} ${P("am-input-field",null,{name:"errorBody",key:Z(),label:r.text("mailBlockBodyFieldError"),value:this.data.errorBody,placeholder:r.text("mailBlockDefaultErrorBody")},[],e).outerHTML}</div>${P("am-input-field",null,{name:"labelSend",key:Z(),label:r.text("mailBlockSendButtonLabel"),value:this.data.labelSend,placeholder:r.text("mailBlockDefaultLabelSend")},[],e).outerHTML} ${P("am-textarea-field",null,{name:"error",key:Z(),label:r.text("mailBlockError"),value:this.data.error,placeholder:r.text("mailBlockDefaultError")},[],e).outerHTML} ${P("am-textarea-field",null,{name:"success",key:Z(),label:r.text("mailBlockSuccess"),value:this.data.success,placeholder:r.text("mailBlockDefaultSuccess")},[],e).outerHTML}</div></div>`,this.wrapper}save(){return xe(this.wrapper)}}});var yp=no((Kn,ws)=>{(function(o,e){typeof Kn=="object"&&typeof ws=="object"?ws.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Kn=="object"?Kn.NestedList=e():o.NestedList=e()})(self,(function(){return(()=>{"use strict";var o={384:(n,a,l)=>{l.d(a,{Z:()=>f});var d=l(645),m=l.n(d)()((function(v){return v[1]}));m.push([n.id,`.cdx-nested-list {
  margin: 0;
  padding: 0;
  outline: none;
  counter-reset: item;
  list-style: none;
}

  .cdx-nested-list__item {
    line-height: 1.6em;
    display: flex;
    margin: 2px 0;
  }

  .cdx-nested-list__item [contenteditable]{
      outline: none;
    }

  .cdx-nested-list__item-body {
      flex-grow: 2;
    }

  .cdx-nested-list__item-content,
    .cdx-nested-list__item-children {
      flex-basis: 100%;
    }

  .cdx-nested-list__item-content {
      word-break: break-word;
      white-space: pre-wrap;
    }

  .cdx-nested-list__item-children {}

  .cdx-nested-list__item::before {
      counter-increment: item;
      margin-right: 5px;
      white-space: nowrap;
    }

  .cdx-nested-list--ordered > .cdx-nested-list__item::before {
    content: counters(item, ".") ". ";
  }

  .cdx-nested-list--unordered > .cdx-nested-list__item::before {
    content: "\u2022";
  }

  .cdx-nested-list__settings {
    display: flex;
  }

  .cdx-nested-list__settings .cdx-settings-button {
      width: 50%;
    }
`,""]);let f=m},645:n=>{n.exports=function(a){var l=[];return l.toString=function(){return this.map((function(d){var m=a(d);return d[2]?"@media ".concat(d[2]," {").concat(m,"}"):m})).join("")},l.i=function(d,m,f){typeof d=="string"&&(d=[[null,d,""]]);var v={};if(f)for(var b=0;b<this.length;b++){var C=this[b][0];C!=null&&(v[C]=!0)}for(var A=0;A<d.length;A++){var T=[].concat(d[A]);f&&v[T[0]]||(m&&(T[2]?T[2]="".concat(m," and ").concat(T[2]):T[2]=m),l.push(T))}},l}},379:(n,a,l)=>{var d,m=(function(){var B={};return function(j){if(B[j]===void 0){var U=document.querySelector(j);if(window.HTMLIFrameElement&&U instanceof window.HTMLIFrameElement)try{U=U.contentDocument.head}catch{U=null}B[j]=U}return B[j]}})(),f=[];function v(B){for(var j=-1,U=0;U<f.length;U++)if(f[U].identifier===B){j=U;break}return j}function b(B,j){for(var U={},V=[],te=0;te<B.length;te++){var O=B[te],g=j.base?O[0]+j.base:O[0],E=U[g]||0,s="".concat(g," ").concat(E);U[g]=E+1;var c=v(s),u={css:O[1],media:O[2],sourceMap:O[3]};c!==-1?(f[c].references++,f[c].updater(u)):f.push({identifier:s,updater:H(u,j),references:1}),V.push(s)}return V}function C(B){var j=document.createElement("style"),U=B.attributes||{};if(U.nonce===void 0){var V=l.nc;V&&(U.nonce=V)}if(Object.keys(U).forEach((function(O){j.setAttribute(O,U[O])})),typeof B.insert=="function")B.insert(j);else{var te=m(B.insert||"head");if(!te)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");te.appendChild(j)}return j}var A,T=(A=[],function(B,j){return A[B]=j,A.filter(Boolean).join(`
`)});function x(B,j,U,V){var te=U?"":V.media?"@media ".concat(V.media," {").concat(V.css,"}"):V.css;if(B.styleSheet)B.styleSheet.cssText=T(j,te);else{var O=document.createTextNode(te),g=B.childNodes;g[j]&&B.removeChild(g[j]),g.length?B.insertBefore(O,g[j]):B.appendChild(O)}}function _(B,j,U){var V=U.css,te=U.media,O=U.sourceMap;if(te?B.setAttribute("media",te):B.removeAttribute("media"),O&&typeof btoa<"u"&&(V+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(O))))," */")),B.styleSheet)B.styleSheet.cssText=V;else{for(;B.firstChild;)B.removeChild(B.firstChild);B.appendChild(document.createTextNode(V))}}var L=null,I=0;function H(B,j){var U,V,te;if(j.singleton){var O=I++;U=L||(L=C(j)),V=x.bind(null,U,O,!1),te=x.bind(null,U,O,!0)}else U=C(j),V=_.bind(null,U,j),te=function(){(function(g){if(g.parentNode===null)return!1;g.parentNode.removeChild(g)})(U)};return V(B),function(g){if(g){if(g.css===B.css&&g.media===B.media&&g.sourceMap===B.sourceMap)return;V(B=g)}else te()}}n.exports=function(B,j){(j=j||{}).singleton||typeof j.singleton=="boolean"||(j.singleton=(d===void 0&&(d=!!(window&&document&&document.all&&!window.atob)),d));var U=b(B=B||[],j);return function(V){if(V=V||[],Object.prototype.toString.call(V)==="[object Array]"){for(var te=0;te<U.length;te++){var O=v(U[te]);f[O].references--}for(var g=b(V,j),E=0;E<U.length;E++){var s=v(U[E]);f[s].references===0&&(f[s].updater(),f.splice(s,1))}U=g}}}}},e={};function t(n){var a=e[n];if(a!==void 0)return a.exports;var l=e[n]={id:n,exports:{}};return o[n](l,l.exports,t),l.exports}t.n=n=>{var a=n&&n.__esModule?()=>n.default:()=>n;return t.d(a,{a}),a},t.d=(n,a)=>{for(var l in a)t.o(a,l)&&!t.o(n,l)&&Object.defineProperty(n,l,{enumerable:!0,get:a[l]})},t.o=(n,a)=>Object.prototype.hasOwnProperty.call(n,a);var i={};return(()=>{function n(A,T=null,x={}){let _=document.createElement(A);Array.isArray(T)?_.classList.add(...T):T&&_.classList.add(T);for(let L in x)_[L]=x[L];return _}function a(A){let T=n("div");return T.appendChild(A),T.innerHTML}function l(A){let T;return A.nodeType!==Node.ELEMENT_NODE?T=A.textContent:(T=A.innerHTML,T=T.replaceAll("<br>","")),T.trim().length===0}t.d(i,{default:()=>C});class d{constructor(){this.savedFakeCaret=void 0}save(){let T=d.range,x=n("span");x.hidden=!0,T.insertNode(x),this.savedFakeCaret=x}restore(){if(!this.savedFakeCaret)return;let T=window.getSelection(),x=new Range;x.setStartAfter(this.savedFakeCaret),x.setEndAfter(this.savedFakeCaret),T.removeAllRanges(),T.addRange(x),setTimeout((()=>{this.savedFakeCaret.remove()}),150)}static get range(){let T=window.getSelection();return T&&T.rangeCount?T.getRangeAt(0):null}static extractFragmentFromCaretPositionTillTheEnd(){let T=window.getSelection();if(!T.rangeCount)return;let x=T.getRangeAt(0),_=x.startContainer;_.nodeType!==Node.ELEMENT_NODE&&(_=_.parentNode);let L=_.closest("[contenteditable]");x.deleteContents();let I=x.cloneRange();return I.selectNodeContents(L),I.setStart(x.endContainer,x.endOffset),I.extractContents()}static focus(T,x=!0){let _=document.createRange(),L=window.getSelection();_.selectNodeContents(T),_.collapse(x),L.removeAllRanges(),L.addRange(_)}static isAtStart(){let T=window.getSelection();if(T.focusOffset>0)return!1;let x=T.focusNode;return d.getHigherLevelSiblings(x,"left").every((_=>l(_)))}static getHigherLevelSiblings(T,x="left"){let _=T,L=[];for(;_.parentNode&&_.parentNode.contentEditable!=="true";)_=_.parentNode;let I=x==="left"?"previousSibling":"nextSibling";for(;_[I];)_=_[I],L.push(_);return L}}let m='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';var f=t(379),v=t.n(f),b=t(384);v()(b.Z,{insert:"head",singleton:!1}),b.Z.locals;class C{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:m,title:"List"}}constructor({data:T,config:x,api:_,readOnly:L}){this.nodes={wrapper:null},this.api=_,this.readOnly=L,this.config=x,this.defaultListStyle=this.config.defaultStyle==="ordered"?"ordered":"unordered";let I={style:this.defaultListStyle,items:[]};this.data=T&&Object.keys(T).length?T:I,this.caret=new d}render(){return this.nodes.wrapper=this.makeListWrapper(this.data.style,[this.CSS.baseBlock]),this.data.items.length?this.appendItems(this.data.items,this.nodes.wrapper):this.appendItems([{content:"",items:[]}],this.nodes.wrapper),this.readOnly||this.nodes.wrapper.addEventListener("keydown",(T=>{switch(T.key){case"Enter":this.enterPressed(T);break;case"Backspace":this.backspace(T);break;case"Tab":T.shiftKey?this.shiftTab(T):this.addTab(T)}}),!1),this.nodes.wrapper}renderSettings(){return[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>'},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:m}].map((T=>({name:T.name,icon:T.icon,label:T.label,isActive:this.data.style===T.name,closeOnActivate:!0,onActivate:()=>{this.listStyle=T.name}})))}static get pasteConfig(){return{tags:["OL","UL","LI"]}}onPaste(T){let x=T.detail.data;this.data=this.pasteHandler(x);let _=this.nodes.wrapper;_&&_.parentNode.replaceChild(this.render(),_)}pasteHandler(T){let{tagName:x}=T,_,L;switch(x){case"OL":_="ordered",L="ol";break;case"UL":case"LI":_="unordered",L="ul"}let I={style:_,items:[]},H=B=>Array.from(B.querySelectorAll(":scope > li")).map((j=>{let U=j.querySelector(`:scope > ${L}`),V=U?H(U):[];return{content:j?.firstChild?.textContent||"",items:V}}));return I.items=H(T),I}appendItems(T,x){T.forEach((_=>{let L=this.createItem(_.content,_.items);x.appendChild(L)}))}createItem(T,x=[]){let _=n("li",this.CSS.item),L=n("div",this.CSS.itemBody),I=n("div",this.CSS.itemContent,{innerHTML:T,contentEditable:!this.readOnly});return L.appendChild(I),_.appendChild(L),x&&x.length>0&&this.addChildrenList(_,x),_}save(){let T=x=>Array.from(x.querySelectorAll(`:scope > .${this.CSS.item}`)).map((_=>{let L=_.querySelector(`.${this.CSS.itemChildren}`);return{content:this.getItemContent(_),items:L?T(L):[]}}));return{style:this.data.style,items:T(this.nodes.wrapper)}}addChildrenList(T,x){let _=T.querySelector(`.${this.CSS.itemBody}`),L=this.makeListWrapper(void 0,[this.CSS.itemChildren]);this.appendItems(x,L),_.appendChild(L)}makeListWrapper(T=this.listStyle,x=[]){let _=T==="ordered"?"ol":"ul",L=T==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered;return x.push(L),n(_,[this.CSS.wrapper,...x])}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-nested-list",wrapperOrdered:"cdx-nested-list--ordered",wrapperUnordered:"cdx-nested-list--unordered",item:"cdx-nested-list__item",itemBody:"cdx-nested-list__item-body",itemContent:"cdx-nested-list__item-content",itemChildren:"cdx-nested-list__item-children",settingsWrapper:"cdx-nested-list__settings",settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(T){let x=Array.from(this.nodes.wrapper.querySelectorAll(`.${this.CSS.wrapper}`));x.push(this.nodes.wrapper),x.forEach((_=>{_.classList.toggle(this.CSS.wrapperUnordered,T==="unordered"),_.classList.toggle(this.CSS.wrapperOrdered,T==="ordered")})),this.data.style=T}get currentItem(){let T=window.getSelection().anchorNode;return T.nodeType!==Node.ELEMENT_NODE&&(T=T.parentNode),T.closest(`.${this.CSS.item}`)}enterPressed(T){let x=this.currentItem;T.stopPropagation(),T.preventDefault();let _=this.getItemContent(x).trim().length===0,L=x.parentNode===this.nodes.wrapper,I=x.nextElementSibling===null;if(L&&I&&_)return void this.getOutOfList();if(I&&_)return void this.unshiftItem();let H=a(d.extractFragmentFromCaretPositionTillTheEnd()),B=x.querySelector(`.${this.CSS.itemChildren}`),j=this.createItem(H,void 0);B&&Array.from(B.querySelectorAll(`.${this.CSS.item}`)).length>0?B.prepend(j):x.after(j),this.focusItem(j)}unshiftItem(){let T=this.currentItem,x=T.parentNode.closest(`.${this.CSS.item}`);if(!x)return;this.caret.save(),x.after(T),this.caret.restore();let _=x.querySelector(`.${this.CSS.itemChildren}`);_.children.length===0&&_.remove()}getItemContent(T){let x=T.querySelector(`.${this.CSS.itemContent}`);return l(x)?"":x.innerHTML}focusItem(T,x=!0){let _=T.querySelector(`.${this.CSS.itemContent}`);d.focus(_,x)}getOutOfList(){this.currentItem.remove(),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex())}backspace(T){if(!d.isAtStart())return;T.preventDefault();let x=this.currentItem,_=x.previousSibling,L=x.parentNode.closest(`.${this.CSS.item}`);if(!_&&!L)return;let I;if(T.stopPropagation(),_){let U=_.querySelectorAll(`.${this.CSS.item}`);I=Array.from(U).pop()||_}else I=L;let H=a(d.extractFragmentFromCaretPositionTillTheEnd()),B=I.querySelector(`.${this.CSS.itemContent}`);d.focus(B,!1),this.caret.save(),B.insertAdjacentHTML("beforeend",H);let j=x.querySelectorAll(`.${this.CSS.itemChildren} > .${this.CSS.item}`);j=Array.from(j),j=j.filter((U=>U.parentNode.closest(`.${this.CSS.item}`)===x)),j.reverse().forEach((U=>{_?I.after(U):x.after(U)})),x.remove(),this.caret.restore()}addTab(T){T.stopPropagation(),T.preventDefault();let x=this.currentItem,_=x.previousSibling;if(!_)return;let L=_.querySelector(`.${this.CSS.itemChildren}`);if(this.caret.save(),L)L.appendChild(x);else{let I=this.makeListWrapper(void 0,[this.CSS.itemChildren]),H=_.querySelector(`.${this.CSS.itemBody}`);I.appendChild(x),H.appendChild(I)}this.caret.restore()}shiftTab(T){T.stopPropagation(),T.preventDefault(),this.unshiftItem()}static joinRecursive(T){return T.items.map((x=>`${x.content} ${C.joinRecursive(x)}`)).join("")}static get conversionConfig(){return{export:T=>C.joinRecursive(T),import:T=>({items:[{content:T,items:[]}],style:"unordered"})}}}})(),i.default})()}))});var wp,Wn,kp=y(()=>{wp=Mt(yp(),1);S();Wn=class extends wp.default{static get toolbox(){return{icon:'<i class="bi bi-list-ul"></i>',title:r.text("list")}}renderSettings(){let[e,t]=super.renderSettings();return[{...e,icon:'<i class="bi bi-list-ul"></i>',label:r.text("unorderedList")},{...t,icon:'<i class="bi bi-list-ol"></i>',label:r.text("orderedList")}]}merge(e){this.appendItems(e.items,this.nodes.wrapper)}}});var Tp,_p,Xn,Ep=y(()=>{S();Ge();Tp=["all","children","related","siblings"],_p="default",Xn=class o extends he{static get sanitize(){return{file:!1,filter:!1,matchUrl:!1,template:!1,sortField:!1,sortOrder:!1,type:!1}}static get toolbox(){return{title:r.text("pagelistBlockTitle"),icon:'<i class="bi bi-columns-gap"></i>'}}prepareData(e){return{type:e.type||Tp[0],context:e.context??"",excludeHidden:e.excludeHidden??!0,excludeCurrent:e.excludeCurrent??!1,matchUrl:e.matchUrl||"",filter:e.filter||"",template:e.template||"",limit:e.limit??10,offset:e.offset||0,sortField:e.sortField??":index",sortOrder:e.sortOrder??"asc",file:e.file||_p}}render(){return this.wrapper.classList.add("am-u-flex","am-u-flex--column","am-u-flex--gap"),this.wrapper.innerHTML=w`<span class="${"am-u-text-muted"} ${"am-u-user-select-none"}"><am-icon-text ${"am-icon"}="columns-gap" ${"am-text"}="${o.toolbox.title}" ></am-icon-text></span><div class="${"am-c-card"} __card"></div>`,this.renderForm(R(".__card",this.wrapper)),this.readOnly||this.listen(this.wrapper,"change input",ke(()=>{this.blockAPI.dispatchChange()},50)),this.wrapper}renderForm(e){let t=this.readOnly?{disabled:""}:{},i=this.readOnly?'disabled=""':"",n=r.files.pagelist.reduce((C,A)=>[...C,{value:A,text:Jo(A)}],[{value:_p,text:r.text("pagelistBlockDefaultFile")}]),a=Tp.reduce((C,A)=>[...C,{value:A}],[]),l=p("div",["am-c-card__form"],{},e),d=p("div",["am-c-card__form"],{},e);ft(r.text("pagelistBlockFile"),be(n,this.data.file,null,"file",null,"",[],t),l);let m=p("div",["am-l-grid","am-l-grid--auto"],{},d),f=p("div",["am-l-grid","am-l-grid--auto"],{},d),v=p("div",["am-l-grid","am-l-grid--auto"],{},d),b=(C,A)=>{let T=Z();p("div",["am-f-toggle","am-f-toggle--button"],{},m,w`<input id="${T}" type="checkbox" name="${C}" value="1" ${i} ${this.data[C]?"checked":""} /><label for="${T}"><i class="bi"></i><span>${A}</span></label>`)};b("excludeHidden",r.text("pagelistBlockExcludeHidden")),b("excludeCurrent",r.text("pagelistBlockExcludeCurrent")),p("div",["am-c-field"],{},f,w`<div><label class="${"am-c-field__label"}"> ${r.text("pagelistBlockSortField")}</label></div><am-autocomplete name="sortField" value="${this.data.sortField}" ${"am-data"}=":index, :path, date, title" ${"am-min"}="0" ${i} ></am-autocomplete>`),ft(r.text("pagelistBlockSortOrder"),be([{value:"asc",text:"\u2191 asc"},{value:"desc",text:"\u2193 desc"}],this.data.sortOrder,null,"sortOrder",null,"",[],t),f),ft(r.text("pagelistBlockType"),be(a,this.data.type,null,"type",null,"",[],t),f),P("am-url-field",f,{key:Z(),name:"context",value:this.data.context,label:r.text("pagelistBlockContext")},[],t),this.renderTagSelectField(f),p("div",["am-c-field"],{},f,w`<div><label class="${"am-c-field__label"}"> ${r.text("pagelistBlockOffset")} / ${r.text("pagelistBlockLimit")}</label></div><div class="${"am-f-group"}"><input type="number" class="${"am-f-input"} ${"am-f-group__item"}" name="offset" value="${this.data.offset}" ${i} /><input type="number" class="${"am-f-input"} ${"am-f-group__item"}" name="limit" value="${this.data.limit}" ${i} /></div>`),P("am-input-field",v,{key:Z(),name:"matchUrl",value:this.data.matchUrl,label:`${r.text("pagelistBlockFilterByUrl")} (Regex)`},[],t),P("am-input-field",v,{key:Z(),name:"template",value:this.data.template,label:`${r.text("pagelistBlockFilterByTemplate")} (Regex)`},[],t),this.readOnly||setTimeout(()=>{R(":focus",this.wrapper)?.blur(),X("click",this.wrapper)},50)}save(){return{excludeCurrent:!1,excludeHidden:!1,...xe(this.wrapper)}}renderTagSelectField(e){let t=()=>r.tags.reduce((a,l)=>[...a,{value:l}],[{value:"",text:"\u2014"}]),i=t(),{select:n}=ft(r.text("pagelistBlockFilter"),be(i,this.data.filter,null,"filter",null,"",[],this.readOnly?{disabled:""}:{}),e);this.listen(window,"AutomadAppStateChange",()=>{let a=n.value;n.options=t(),r.tags.includes(a)&&(n.value=a)})}}});var Yn,Cp=y(()=>{S();Ge();Yn=class extends he{static get conversionConfig(){return{export:"text",import:"text"}}static get pasteConfig(){return{tags:["P"]}}static get sanitize(){return{large:!1,text:{br:!0}}}static get enableLineBreaks(){return!1}static get toolbox(){return{title:r.text("textTool"),icon:'<i class="bi bi-text-paragraph"></i>'}}prepareData(e){return{text:e.text??"",large:e.large??!1}}get content(){return R("[contenteditable]",this.wrapper)?.innerHTML??""}render(){return this.wrapper.innerHTML="",this.wrapper.classList.toggle("am-style--large",this.data.large),p("div",["am-c-ed-bl-paragraph"],{contenteditable:this.readOnly?"false":"true",placeholder:this.api.blocks.getBlocksCount()===0&&this.config.placeholder||""},this.wrapper).innerHTML=this.data.text,this.wrapper}save(){return{text:this.content,large:this.data.large}}renderSettings(){return{icon:'<i class="bi bi-capslock"></i>',label:r.text("large"),closeOnActivate:!1,onActivate:()=>{this.data.large=!this.data.large,this.wrapper.classList.toggle("am-style--large",this.data.large)},isActive:this.data.large,toggle:"large"}}merge(e){let t=R("[contenteditable]",this.wrapper),i=this.api.blocks.getBlockIndex(this.blockAPI.id);t.innerHTML=`${t.innerHTML}${e.text}`,setTimeout(()=>{this.api.caret.setToBlock(i,"end")},100)}validate(e){return e.text.replace(/<br>/,"").trim()!==""}onPaste(e){let t={text:e.detail.data.innerHTML,large:!1},i=R("[contenteditable]",this.wrapper);i.innerHTML=t.text}}});var Jn,Ap=y(()=>{S();Ge();Jn=class extends he{static get conversionConfig(){return{import:"text",export:e=>e.caption?`${e.text} \u2014 ${e.caption}`:e.text}}static get enableLineBreaks(){return!0}static get sanitize(){return{text:{},caption:{}}}static get toolbox(){return{title:r.text("blockquote"),icon:'<i class="bi bi-quote"></i>'}}inputs;prepareData(e){return{text:e.text||"",caption:e.caption||""}}render(){return this.wrapper.classList.add("am-c-ed-bl-quote","am-u-flex","am-u-flex--column"),this.inputs={text:p("div",["am-c-ed-bl-quote__text","ce-paragraph"],{contenteditable:this.readOnly?"false":"true",placeholder:r.text("blockquote")},this.wrapper,w`${this.data.text}`),caption:p("div",["am-c-ed-bl-quote__caption","ce-paragraph"],{contenteditable:this.readOnly?"false":"true",placeholder:`\u2014 ${r.text("caption")}`},this.wrapper,w`${this.data.caption}`)},this.wrapper}save(){return{text:this.inputs.text.innerHTML,caption:this.inputs.caption.innerHTML}}}});var Zn,Sp=y(()=>{S();ki();Ge();Zn=class o extends he{static get enableLineBreaks(){return!0}static get sanitize(){return{code:!0}}static get toolbox(){return{title:r.text("rawHtmlMarkdown"),icon:'<i class="bi bi-markdown"></i>'}}editor;prepareData(e){return{code:e.code??""}}render(){this.wrapper.classList.add("am-u-flex","am-u-flex--column","am-u-flex--gap"),p("span",["am-u-text-muted","am-u-user-select-none"],{},this.wrapper,w`<am-icon-text ${"am-icon"}="markdown" ${"am-text"}="${o.toolbox.title}" ></am-icon-text>`);let e=p("div",["am-f-codeflask"],{},this.wrapper);return this.initEditor(e),this.wrapper}initEditor(e){this.editor=new Pt({element:e,code:this.data.code,language:"html",onChange:t=>{this.data.code=t},readonly:this.readOnly}),this.readOnly||this.api.listeners.on(R("textarea",e),"keydown",t=>{t.stopImmediatePropagation()})}save(){return this.data}}});var Mp,$p=y(()=>{Mp=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="1.5" y="1.5" width="41" height="41" rx="5.5" stroke="currentColor" stroke-width="3"/>
	<rect x="12" y="7" width="8" height="30" rx="1" fill="currentColor"/>
	<rect x="24" y="7" width="8" height="19" rx="1" fill="currentColor"/>
	<rect x="7" y="7" width="30" height="2" rx="1" fill="currentColor"/>
</svg>
`});var Ip,Lp=y(()=>{Ip=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="1.5" y="1.5" width="41" height="41" rx="5.5" stroke="currentColor" stroke-width="3"/>
	<rect x="12" y="7" width="8" height="30" rx="1" fill="currentColor"/>
	<rect x="24" y="13" width="8" height="18" rx="1" fill="currentColor"/>
	<rect x="7" y="21" width="30" height="2" rx="1" fill="currentColor"/>
</svg>
`});var zp,Dp=y(()=>{zp=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="1.5" y="1.5" width="41" height="41" rx="5.5" stroke="currentColor" stroke-width="3"/>
	<rect x="12" y="7" width="8" height="30" rx="1" fill="currentColor"/>
	<rect x="24" y="18" width="8" height="19" rx="1" fill="currentColor"/>
	<rect x="7" y="35" width="30" height="2" rx="1" fill="currentColor"/>
</svg>
`});var Op,Fp=y(()=>{Op=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="1.5" y="1.5" width="41" height="41" rx="5.5" stroke="currentColor" stroke-width="3"/>
	<rect x="12" y="7" width="8" height="30" rx="1" fill="currentColor"/>
	<rect x="24" y="7" width="8" height="30" rx="1" fill="currentColor"/>
	<rect x="8" y="7" width="28" height="2" rx="1" fill="currentColor"/>
	<rect x="8" y="35" width="28" height="2" rx="1" fill="currentColor"/>
</svg>
`});var Bp,Np=y(()=>{Bp=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="1.5" y="1.5" width="41" height="41" rx="5.5" stroke="currentColor" stroke-width="3"/>
	<rect x="7" y="7" width="13" height="30" rx="1" fill="currentColor"/>
	<rect x="24" y="7" width="13" height="30" rx="1" fill="currentColor"/>
</svg>
`});var Pp,Rp=y(()=>{Pp=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="1.5" y="1.5" width="41" height="41" rx="5.5" stroke="currentColor" stroke-width="3"/>
	<rect x="7" y="7" width="8" height="30" rx="1" fill="currentColor"/>
	<rect x="19" y="7" width="8" height="30" rx="1" fill="currentColor"/>
</svg>
`});var Up,Hp=y(()=>{Up=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="1.5" y="1.5" width="41" height="41" rx="5.5" stroke="currentColor" stroke-width="3"/>
	<rect x="12" y="7" width="8" height="30" rx="1" fill="currentColor"/>
	<rect x="24" y="7" width="8" height="30" rx="1" fill="currentColor"/>
</svg>
`});var qp,jp=y(()=>{qp=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="1.5" y="1.5" width="41" height="41" rx="5.5" stroke="currentColor" stroke-width="3"/>
	<rect x="17" y="7" width="8" height="30" rx="1" fill="currentColor"/>
	<rect x="29" y="7" width="8" height="30" rx="1" fill="currentColor"/>
</svg>
`});var Vp,Gp=y(()=>{Vp=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="1.5" y="1.5" width="41" height="41" rx="5.5" stroke="currentColor" stroke-width="3"/>
	<rect x="7" y="7" width="8" height="30" rx="1" fill="currentColor"/>
	<rect x="29" y="7" width="8" height="30" rx="1" fill="currentColor"/>
</svg>
`});var Wp,Kp=y(()=>{Wp=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="1.5" y="1.5" width="41" height="41" rx="5.5" stroke="currentColor" stroke-width="3"/>
	<rect x="10" y="7" width="8" height="30" rx="1" fill="currentColor"/>
	<rect x="26" y="7" width="8" height="30" rx="1" fill="currentColor"/>
</svg>
`});var Yp,Xp=y(()=>{Yp=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect x="14" width="4" height="44" rx="1" fill="currentColor"/>
	<rect x="26" width="4" height="44" rx="1" fill="currentColor"/>
	<line x1="10" y1="22.1213" x2="2.12132" y2="30" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
	<line x1="1.5" y1="-1.5" x2="12.6421" y2="-1.5" transform="matrix(-0.707107 -0.707107 -0.707107 0.707107 10 24)" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
	<line x1="1.5" y1="-1.5" x2="12.6421" y2="-1.5" transform="matrix(0.707107 0.707107 0.707107 -0.707107 34 20)" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
	<line x1="34" y1="21.8787" x2="41.8787" y2="14" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
</svg>
`});var Zp,Jp=y(()=>{Zp=`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
	<rect y="31.2695" width="44" height="3" rx="1" fill="currentColor"/>
	<path d="M40 7.10286C40.5523 7.10286 41 7.55057 41 8.10286V20.0724C41 20.6247 40.5523 21.0724 40 21.0724H39.2733C38.945 21.0724 38.6376 20.9113 38.4509 20.6413L32.1894 11.5898C32.1752 11.5693 32.1518 11.557 32.1268 11.557V11.557C32.0848 11.557 32.0508 11.5911 32.0508 11.6331V20.0724C32.0508 20.6247 31.6031 21.0724 31.0508 21.0724H30.5201C29.9679 21.0724 29.5201 20.6247 29.5201 20.0724V8.10286C29.5201 7.55058 29.9679 7.10286 30.5201 7.10286H31.26C31.5886 7.10286 31.8962 7.26426 32.0829 7.53463L38.3363 16.5903C38.3513 16.6121 38.3761 16.6251 38.4025 16.6251V16.6251C38.447 16.6251 38.4831 16.589 38.4831 16.5446V8.10286C38.4831 7.55058 38.9308 7.10286 39.4831 7.10286H40Z" fill="currentColor"/>
	<path d="M23.8589 7.10286C24.4112 7.10286 24.8589 7.55057 24.8589 8.10286V20.0724C24.8589 20.6247 24.4112 21.0724 23.8589 21.0724H23.3282C22.776 21.0724 22.3282 20.6247 22.3282 20.0724V8.10286C22.3282 7.55058 22.776 7.10286 23.3282 7.10286H23.8589Z" fill="currentColor"/>
	<path d="M3 8.10286C3 7.55058 3.44772 7.10286 4 7.10286H5.42581C5.83167 7.10286 6.19728 7.34817 6.35116 7.72374L10.213 17.1496C10.2317 17.1954 10.2763 17.2253 10.3259 17.2253V17.2253C10.3754 17.2253 10.42 17.1954 10.4387 17.1496L14.3006 7.72374C14.4544 7.34817 14.82 7.10286 15.2259 7.10286H16.6517C17.204 7.10286 17.6517 7.55057 17.6517 8.10286V20.0724C17.6517 20.6247 17.204 21.0724 16.6517 21.0724H16.2234C15.6711 21.0724 15.2234 20.6247 15.2234 20.0724V11.5526C15.2234 11.5098 15.1888 11.4752 15.146 11.4752V11.4752C15.1145 11.4752 15.0861 11.4943 15.0742 11.5236L11.4857 20.4061C11.333 20.7841 10.9662 21.0315 10.5585 21.0315H10.0937C9.6858 21.0315 9.31877 20.7837 9.16625 20.4054L5.57744 11.5032C5.56564 11.4739 5.53724 11.4547 5.50568 11.4547V11.4547C5.46295 11.4547 5.42831 11.4894 5.42831 11.5321V20.0724C5.42831 20.6247 4.9806 21.0724 4.42831 21.0724H4C3.44771 21.0724 3 20.6247 3 20.0724V8.10286Z" fill="currentColor"/>
	<rect x="41" y="26.2695" width="3" height="13" rx="1" fill="currentColor"/>
	<rect y="26.2695" width="3" height="13" rx="1" fill="currentColor"/>
</svg>
`});var Wx,Xx,Yx,Jx,Zx,Qp,eu,Qn,tu=y(()=>{S();Ge();$p();Lp();Dp();Fp();Np();Rp();Hp();jp();Gp();Kp();Xp();Jp();Wx={start:{icon:Pp,tooltip:"flexJustifyStart"},center:{icon:Up,tooltip:"flexJustifyCenter"},end:{icon:qp,tooltip:"flexJustifyEnd"},"space-between":{icon:Vp,tooltip:"flexJustifyBetween"},"space-evenly":{icon:Wp,tooltip:"flexJustifyEvenly"},"fill-row":{icon:Bp,tooltip:"flexFillRow"}},Xx={start:{icon:Mp,tooltip:"flexAlignStart"},center:{icon:Ip,tooltip:"flexAlignCenter"},end:{icon:zp,tooltip:"flexAlignEnd"},stretch:{icon:Op,tooltip:"flexAlignStretch"}},Yx=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Jx=["none","solid","dashed","dotted","double","groove","ridge"],Zx={card:!1,shadow:!1,color:"",backgroundColor:"",backgroundBlendMode:"normal",borderColor:"",borderWidth:"",borderRadius:"",borderStyle:"none",backgroundImage:"",paddingTop:"",paddingBottom:"",overflowHidden:!1},Qp=(o,e,t,i,n,a)=>{p("input",[],{type:"radio",name:o,value:e},p("label",["am-c-ed-bl-layout-section__radio",...e===n?["am-c-ed-bl-layout-section__radio--active"]:[]],{"am-tooltip":r.text(i)},a,t)).checked=e===n},eu=o=>{re("input",o).forEach(e=>{e.parentElement.classList.toggle("am-c-ed-bl-layout-section__radio--active",e.checked)})},Qn=class o extends he{holder=null;section=null;static get enableLineBreaks(){return!0}static get sanitize(){return{content:!0,style:!1}}static get toolbox(){return{title:r.text("layoutSectionBlockTitle"),icon:'<i class="bi bi-layout-three-columns"></i>'}}prepareData(e){return{content:e.content||{blocks:[]},style:Object.assign({},Zx,e.style),justify:e.justify||"start",align:e.align||"start",gap:e.gap!==void 0?e.gap:"",minBlockWidth:e.minBlockWidth!==void 0?e.minBlockWidth:""}}render(){return this.section=p("div",this.readOnly?[]:["am-c-ed-bl-layout-section"],{},this.wrapper),this.readOnly||p("span",["am-u-flex"],{},this.section,w`<span class="${"am-c-ed-bl-layout-section__label"}"> ${o.toolbox.icon} <span>${r.text("layoutSectionBlockTitle")}</span></span>`),(async()=>{this.holder=Xo(this.section,this.data.content,{onChange:async t=>{if(this.readOnly)return;let{blocks:i}=await t.saver.save();this.data.content={blocks:i},this.blockAPI.dispatchChange()}},!0,this.readOnly),await this.holder.editor.isReady,this.readOnly||(this.listen(this.holder,"paste",t=>{t.stopPropagation()}),this.renderToolbar()),this.setStyle()})(),this.wrapper}save(){return this.data}renderToolbar(){let e=p("div",["am-c-ed-bl-layout-section__toolbar"],{},this.section),t=p("div",["am-c-ed-bl-layout-section__toolbar-section"],{},e),i=p("div",["am-c-ed-bl-layout-section__toolbar-section"],{},e),n=p("div",["am-c-ed-bl-layout-section__toolbar-section"],{},e),a=p("div",["am-c-ed-bl-layout-section__toolbar-section"],{},e);this.renderStylesButton(t),this.renderJustifySelect(i),this.renderAlignSelect(n),this.renderNumberUnitInput(a,"gap",Yp),this.renderNumberUnitInput(a,"minBlockWidth",Zp),p("input",["am-u-display-none"],{},e),this.listen(e,"change",()=>{this.setStyle()});let l=()=>{e.style.transform="translateX(0)",setTimeout(()=>{let d=e.getBoundingClientRect(),m=document.body.offsetWidth;if(m<d.right){let f=m-d.right-10;e.style.transform=`translateX(${f}px)`}},0)};this.listen(this.wrapper,"click",d=>{d.stopPropagation(),re(".am-c-ed-bl-layout-section__toolbar").forEach(m=>{m.classList.toggle("am-active",m==e)}),l()}),this.listen(document,"click",d=>{let m=d.target;this.wrapper.contains(m)||e.classList.remove("am-active")})}renderStylesButton(e){let t=p("am-modal-toggle",["am-e-button","am-e-button--icon","am-e-button--primary"],{"am-tooltip":r.text("editStyle")},e,'<i class="bi bi-palette2"></i>');this.listen(t,"click",()=>{this.renderStylesModal()})}renderJustifySelect(e){let t=p("div",["am-c-ed-bl-layout-section__radios"],{},e);for(let[i,{icon:n,tooltip:a}]of Object.entries(Wx))Qp("justify",i,n,a,this.data.justify,t);this.listen(t,"change",()=>{let{justify:i}=xe(t);this.data.justify=i,this.blockAPI.dispatchChange(),eu(t)})}renderAlignSelect(e){let t=p("div",["am-c-ed-bl-layout-section__radios"],{},e);for(let[i,{icon:n,tooltip:a}]of Object.entries(Xx))Qp("align",i,n,a,this.data.align,t);this.listen(t,"change",()=>{let{align:i}=xe(t);this.data.align=i,this.blockAPI.dispatchChange(),eu(t)})}renderNumberUnitInput(e,t,i){let n=p("span",["am-f-group"],{},e,w`<span class="${"am-f-group__item"} ${"am-f-group__icon"}"> ${i}</span>`),a=p("am-number-unit-input",["am-f-group__item"],{value:this.data[t]},n);this.listen(a,"change",()=>{this.data[t]=a.value,this.blockAPI.dispatchChange()})}renderStylesModal(){let{modal:e,body:t}=Ve(r.text("editStyle")),i=(A,T,x,_)=>{P(A,_,{name:T,value:this.data.style[T],key:Z(),label:r.text(x)})};i("am-toggle-field","card","optimizeContentForCards",t);let n=p("div",["am-l-grid","am-l-grid--auto"],{},t);i("am-toggle-field","overflowHidden","overflowHidden",n),i("am-toggle-field","shadow","addShadow",n);let a=p("div",["am-l-grid","am-l-grid--auto"],{},t);i("am-color-field","color","textColor",a),i("am-color-field","backgroundColor","backgroundColor",a);let l=p("div",["am-l-grid","am-l-grid--auto"],{},t),d=Z(),m=p("div",["am-c-field"],{},l,w`<div><label for="${d}" class="${"am-c-field__label"}"> ${r.text("borderStyle")}</label></div>`);be(Jx.reduce((A,T)=>[...A,{value:T}],[]),this.data.style.borderStyle,m,"borderStyle",d),i("am-color-field","borderColor","borderColor",l),i("am-image-field","backgroundImage","backgroundImage",t);let f=Z(),v=p("div",["am-c-field"],{},t,w`<div><label for="${f}" class="${"am-c-field__label"}"> Background Blendmode</label></div>`);be(Yx.reduce((A,T)=>[...A,{value:T}],[]),this.data.style.backgroundBlendMode,v,"backgroundBlendMode",f);let b=p("div",["am-l-grid","am-l-grid--auto"],{},t);i("am-number-unit-field","borderWidth","borderWidth",b),i("am-number-unit-field","borderRadius","borderRadius",b);let C=p("div",["am-l-grid","am-l-grid--auto"],{},t);i("am-number-unit-field","paddingTop","paddingTop",C),i("am-number-unit-field","paddingBottom","paddingBottom",C),Re.connectElements(t),this.listen(t,"change",()=>{this.data.style=xe(t),this.setStyle(),this.blockAPI.dispatchChange()}),setTimeout(()=>{e.open()})}setStyle(){let{style:e,gap:t,justify:i,align:n,minBlockWidth:a}=this.data,l="am-style",d=["am-c-ed-bl-layout-section__editor"];d.push(`${l}--justify-${i}`),d.push(`${l}--align-${n}`),e.card&&d.push(`${l}--card`),e.shadow&&d.push(`${l}--shadow`),e.overflowHidden&&d.push(`${l}--overflow-hidden`),this.holder.className=d.join(" ");let m=[];if(["color","backgroundColor","backgroundBlendMode","borderColor","borderWidth","borderRadius","borderStyle","paddingTop","paddingBottom"].forEach(f=>{let v=e[f];v.toString().length&&m.push(`--${f}: ${v};`)}),e.backgroundImage){let f=Dt(e.backgroundImage);m.push(`--backgroundImage: url(${f});`)}else m.push("--backgroundImage: none;");t&&m.push(`--gap: ${t};`),a&&m.push(`--minBlockWidth: ${a};`),this.holder.setAttribute("style",m.join(" "))}}});var er,ou=y(()=>{S();Ge();er=class o extends he{static get sanitize(){return{file:!1,snippet:!0}}static get toolbox(){return{title:r.text("snippetBlockTitle"),icon:'<i class="bi bi-code-square"></i>'}}static get enableLineBreaks(){return!0}prepareData(e){return{file:e.file||"",snippet:e.snippet||""}}render(){return this.wrapper.classList.add("am-u-flex","am-u-flex--column","am-u-flex--gap"),this.wrapper.innerHTML=w`<span class="${"am-u-text-muted"} ${"am-u-user-select-none"}"><am-icon-text ${"am-icon"}="files" ${"am-text"}="${o.toolbox.title}" ></am-icon-text></span><div class="${"am-c-card"} __card"></div>`,this.renderForm(R(".__card",this.wrapper)),this.readOnly||this.listen(this.wrapper,"change input",ke(()=>{this.blockAPI.dispatchChange()},50)),this.wrapper}renderForm(e){let t=this.readOnly?{disabled:""}:{},i=r.files.snippets.reduce((l,d)=>[...l,{value:d,text:Jo(d)}],[{value:"",text:"\u2014"}]),n=p("div",["am-c-card__form"],{},e),a=p("div",["am-c-card__form"],{},e);P("am-textarea-field",n,{key:Z(),name:"snippet",value:this.data.snippet,label:r.text("snippetBlockSnippet")},[],t),ft(r.text("snippetBlockFile"),be(i,this.data.file,null,"file",null,"",[],t),a)}save(){return xe(this.wrapper)}}});var iu=no((tr,ks)=>{(function(o,e){typeof tr=="object"&&typeof ks=="object"?ks.exports=e():typeof define=="function"&&define.amd?define([],e):typeof tr=="object"?tr.Table=e():o.Table=e()})(window,(function(){return(function(o){var e={};function t(i){if(e[i])return e[i].exports;var n=e[i]={i,l:!1,exports:{}};return o[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}return t.m=o,t.c=e,t.d=function(i,n,a){t.o(i,n)||Object.defineProperty(i,n,{enumerable:!0,get:a})},t.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},t.t=function(i,n){if(1&n&&(i=t(i)),8&n||4&n&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&n&&typeof i!="string")for(var l in i)t.d(a,l,function(d){return i[d]}.bind(null,l));return a},t.n=function(i){var n=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(n,"a",n),n},t.o=function(i,n){return Object.prototype.hasOwnProperty.call(i,n)},t.p="/",t(t.s=6)})([function(o,e){o.exports='<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18"><rect width="18" height="18" fill="#F4F5F7" rx="2"></rect><circle cx="11.5" cy="6.5" r="1.5"></circle><circle cx="11.5" cy="11.5" r="1.5"></circle><circle cx="6.5" cy="6.5" r="1.5"></circle><circle cx="6.5" cy="11.5" r="1.5"></circle></svg>'},function(o,e,t){var i=t(2);typeof i=="string"&&(i=[[o.i,i,""]]);var n={hmr:!0,transform:void 0,insertInto:void 0};t(4)(i,n),i.locals&&(o.exports=i.locals)},function(o,e,t){(o.exports=t(3)(!1)).push([o.i,'.tc-wrap{--color-background:#f9f9fb;--color-text-secondary:#7b7e89;--color-border:#e8e8eb;--cell-size:34px;--toolbox-icon-size:18px;--toolbox-padding:6px;--toolbox-aiming-field-size:calc(var(--toolbox-icon-size) + var(--toolbox-padding)*2);border-left:0;position:relative;height:100%;width:100%;margin-top:var(--toolbox-icon-size);box-sizing:border-box;display:grid;grid-template-columns:calc(100% - var(--cell-size)) var(--cell-size);}.tc-wrap--readonly{grid-template-columns:100% var(--cell-size)}.tc-wrap svg{vertical-align:top}@media print{.tc-wrap{border-left-color:var(--color-border);border-left-style:solid;border-left-width:1px;grid-template-columns:100% var(--cell-size)}}@media print{.tc-wrap .tc-row:after{display:none}}.tc-table{position:relative;width:100%;height:100%;display:grid;font-size:14px;border-top:1px solid var(--color-border);line-height:1.4;}.tc-table:after{width:calc(var(--cell-size));height:100%;left:calc(var(--cell-size)*-1);top:0}.tc-table:after,.tc-table:before{position:absolute;content:""}.tc-table:before{width:100%;height:var(--toolbox-aiming-field-size);top:calc(var(--toolbox-aiming-field-size)*-1);left:0}.tc-table--heading .tc-row:first-child{font-weight:600;border-bottom:2px solid var(--color-border);}.tc-table--heading .tc-row:first-child [contenteditable]:empty:before{content:attr(heading);color:var(--color-text-secondary)}.tc-table--heading .tc-row:first-child:after{bottom:-2px;border-bottom:2px solid var(--color-border)}.tc-add-column,.tc-add-row{display:flex;color:var(--color-text-secondary)}@media print{.tc-add{display:none}}.tc-add-column{padding:4px 0;justify-content:center;border-top:1px solid var(--color-border);}@media print{.tc-add-column{display:none}}.tc-add-row{height:var(--cell-size);align-items:center;padding-left:4px;position:relative;}.tc-add-row:before{content:"";position:absolute;right:calc(var(--cell-size)*-1);width:var(--cell-size);height:100%}@media print{.tc-add-row{display:none}}.tc-add-column,.tc-add-row{transition:0s;cursor:pointer;will-change:background-color;}.tc-add-column:hover,.tc-add-row:hover{transition:background-color .1s ease;background-color:var(--color-background)}.tc-add-row{margin-top:1px;}.tc-add-row:hover:before{transition:.1s;background-color:var(--color-background)}.tc-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(10px,1fr));position:relative;border-bottom:1px solid var(--color-border);}.tc-row:after{content:"";pointer-events:none;position:absolute;width:var(--cell-size);height:100%;bottom:-1px;right:calc(var(--cell-size)*-1);border-bottom:1px solid var(--color-border)}.tc-row--selected{background:var(--color-background)}.tc-row--selected:after{background:var(--color-background)}.tc-cell{border-right:1px solid var(--color-border);padding:6px 12px;overflow:hidden;outline:none;line-break:normal;}.tc-cell--selected{background:var(--color-background)}.tc-wrap--readonly .tc-row:after{display:none}.tc-toolbox{--toolbox-padding:6px;--popover-margin:30px;--toggler-click-zone-size:30px;--toggler-dots-color:#7b7e89;--toggler-dots-color-hovered:#1d202b;position:absolute;cursor:pointer;z-index:1;opacity:0;transition:opacity .1s;will-change:left,opacity;}.tc-toolbox--column{top:calc(var(--toggler-click-zone-size)*-1);transform:translateX(calc(var(--toggler-click-zone-size)*-1/2));will-change:left,opacity}.tc-toolbox--row{left:calc(var(--popover-margin)*-1);transform:translateY(calc(var(--toggler-click-zone-size)*-1/2));margin-top:-1px;will-change:top,opacity}.tc-toolbox--showed{opacity:1}.tc-toolbox .tc-popover{position:absolute;top:0;left:var(--popover-margin)}.tc-toolbox__toggler{display:flex;align-items:center;justify-content:center;width:var(--toggler-click-zone-size);height:var(--toggler-click-zone-size);color:var(--toggler-dots-color);opacity:0;transition:opacity .15s ease;will-change:opacity;}.tc-toolbox__toggler:hover{color:var(--toggler-dots-color-hovered)}.tc-toolbox__toggler svg{fill:currentColor}.tc-wrap:hover .tc-toolbox__toggler{opacity:1}.tc-settings .cdx-settings-button{width:50%;margin:0}.tc-popover{--color-border:#eaeaea;--color-background:#fff;--color-background-hover:rgba(232,232,235,0.49);--color-background-confirm:#e24a4a;--color-background-confirm-hover:#d54040;--color-text-confirm:#fff;background:var(--color-background);border:1px solid var(--color-border);box-shadow:0 3px 15px -3px rgba(13,20,33,.13);border-radius:6px;padding:6px;display:none;will-change:opacity,transform;}.tc-popover--opened{display:block;animation:menuShowing .1s cubic-bezier(.215,.61,.355,1) forwards}.tc-popover__item{display:flex;align-items:center;padding:2px 14px 2px 2px;border-radius:5px;cursor:pointer;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;}.tc-popover__item:hover{background:var(--color-background-hover)}.tc-popover__item:not(:last-of-type){margin-bottom:2px}.tc-popover__item-icon{display:inline-flex;width:26px;height:26px;align-items:center;justify-content:center;background:var(--color-background);border-radius:5px;border:1px solid var(--color-border);margin-right:8px}.tc-popover__item-label{line-height:22px;font-size:14px;font-weight:500}.tc-popover__item--confirm{background:var(--color-background-confirm);color:var(--color-text-confirm);}.tc-popover__item--confirm:hover{background-color:var(--color-background-confirm-hover)}.tc-popover__item--confirm .tc-popover__item-icon{background:var(--color-background-confirm);border-color:rgba(0,0,0,.1);}.tc-popover__item--confirm .tc-popover__item-icon svg{transition:transform .2s ease-in;transform:rotate(90deg) scale(1.2)}.tc-popover__item--hidden{display:none}@keyframes menuShowing{0%{opacity:0;transform:translateY(-8px) scale(.9)}70%{opacity:1;transform:translateY(2px)}to{transform:translateY(0)}}',""])},function(o,e){o.exports=function(t){var i=[];return i.toString=function(){return this.map((function(n){var a=(function(l,d){var m=l[1]||"",f=l[3];if(!f)return m;if(d&&typeof btoa=="function"){var v=(C=f,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(C))))+" */"),b=f.sources.map((function(A){return"/*# sourceURL="+f.sourceRoot+A+" */"}));return[m].concat(b).concat([v]).join(`
`)}var C;return[m].join(`
`)})(n,t);return n[2]?"@media "+n[2]+"{"+a+"}":a})).join("")},i.i=function(n,a){typeof n=="string"&&(n=[[null,n,""]]);for(var l={},d=0;d<this.length;d++){var m=this[d][0];typeof m=="number"&&(l[m]=!0)}for(d=0;d<n.length;d++){var f=n[d];typeof f[0]=="number"&&l[f[0]]||(a&&!f[2]?f[2]=a:a&&(f[2]="("+f[2]+") and ("+a+")"),i.push(f))}},i}},function(o,e,t){var i,n,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return n===void 0&&(n=i.apply(this,arguments)),n}),d=function(O,g){return g?g.querySelector(O):document.querySelector(O)},m=(function(O){var g={};return function(E,s){if(typeof E=="function")return E();if(g[E]===void 0){var c=d.call(this,E,s);if(window.HTMLIFrameElement&&c instanceof window.HTMLIFrameElement)try{c=c.contentDocument.head}catch{c=null}g[E]=c}return g[E]}})(),f=null,v=0,b=[],C=t(5);function A(O,g){for(var E=0;E<O.length;E++){var s=O[E],c=a[s.id];if(c){c.refs++;for(var u=0;u<c.parts.length;u++)c.parts[u](s.parts[u]);for(;u<s.parts.length;u++)c.parts.push(H(s.parts[u],g))}else{var h=[];for(u=0;u<s.parts.length;u++)h.push(H(s.parts[u],g));a[s.id]={id:s.id,refs:1,parts:h}}}}function T(O,g){for(var E=[],s={},c=0;c<O.length;c++){var u=O[c],h=g.base?u[0]+g.base:u[0],k={css:u[1],media:u[2],sourceMap:u[3]};s[h]?s[h].parts.push(k):E.push(s[h]={id:h,parts:[k]})}return E}function x(O,g){var E=m(O.insertInto);if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var s=b[b.length-1];if(O.insertAt==="top")s?s.nextSibling?E.insertBefore(g,s.nextSibling):E.appendChild(g):E.insertBefore(g,E.firstChild),b.push(g);else if(O.insertAt==="bottom")E.appendChild(g);else{if(typeof O.insertAt!="object"||!O.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var c=m(O.insertAt.before,E);E.insertBefore(g,c)}}function _(O){if(O.parentNode===null)return!1;O.parentNode.removeChild(O);var g=b.indexOf(O);g>=0&&b.splice(g,1)}function L(O){var g=document.createElement("style");if(O.attrs.type===void 0&&(O.attrs.type="text/css"),O.attrs.nonce===void 0){var E=(function(){return t.nc})();E&&(O.attrs.nonce=E)}return I(g,O.attrs),x(O,g),g}function I(O,g){Object.keys(g).forEach((function(E){O.setAttribute(E,g[E])}))}function H(O,g){var E,s,c,u;if(g.transform&&O.css){if(!(u=typeof g.transform=="function"?g.transform(O.css):g.transform.default(O.css)))return function(){};O.css=u}if(g.singleton){var h=v++;E=f||(f=L(g)),s=U.bind(null,E,h,!1),c=U.bind(null,E,h,!0)}else O.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(E=(function(k){var $=document.createElement("link");return k.attrs.type===void 0&&(k.attrs.type="text/css"),k.attrs.rel="stylesheet",I($,k.attrs),x(k,$),$})(g),s=te.bind(null,E,g),c=function(){_(E),E.href&&URL.revokeObjectURL(E.href)}):(E=L(g),s=V.bind(null,E),c=function(){_(E)});return s(O),function(k){if(k){if(k.css===O.css&&k.media===O.media&&k.sourceMap===O.sourceMap)return;s(O=k)}else c()}}o.exports=function(O,g){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(g=g||{}).attrs=typeof g.attrs=="object"?g.attrs:{},g.singleton||typeof g.singleton=="boolean"||(g.singleton=l()),g.insertInto||(g.insertInto="head"),g.insertAt||(g.insertAt="bottom");var E=T(O,g);return A(E,g),function(s){for(var c=[],u=0;u<E.length;u++){var h=E[u];(k=a[h.id]).refs--,c.push(k)}for(s&&A(T(s,g),g),u=0;u<c.length;u++){var k;if((k=c[u]).refs===0){for(var $=0;$<k.parts.length;$++)k.parts[$]();delete a[k.id]}}}};var B,j=(B=[],function(O,g){return B[O]=g,B.filter(Boolean).join(`
`)});function U(O,g,E,s){var c=E?"":s.css;if(O.styleSheet)O.styleSheet.cssText=j(g,c);else{var u=document.createTextNode(c),h=O.childNodes;h[g]&&O.removeChild(h[g]),h.length?O.insertBefore(u,h[g]):O.appendChild(u)}}function V(O,g){var E=g.css,s=g.media;if(s&&O.setAttribute("media",s),O.styleSheet)O.styleSheet.cssText=E;else{for(;O.firstChild;)O.removeChild(O.firstChild);O.appendChild(document.createTextNode(E))}}function te(O,g,E){var s=E.css,c=E.sourceMap,u=g.convertToAbsoluteUrls===void 0&&c;(g.convertToAbsoluteUrls||u)&&(s=C(s)),c&&(s+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(c))))+" */");var h=new Blob([s],{type:"text/css"}),k=O.href;O.href=URL.createObjectURL(h),k&&URL.revokeObjectURL(k)}},function(o,e){o.exports=function(t){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!t||typeof t!="string")return t;var n=i.protocol+"//"+i.host,a=n+i.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(l,d){var m,f=d.trim().replace(/^"(.*)"$/,(function(v,b){return b})).replace(/^'(.*)'$/,(function(v,b){return b}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(f)?l:(m=f.indexOf("//")===0?f:f.indexOf("/")===0?n+f:a+f.replace(/^\.\//,""),"url("+JSON.stringify(m)+")")}))}},function(o,e,t){"use strict";function i(O,g,E={}){let s=document.createElement(O);Array.isArray(g)?s.classList.add(...g):g&&s.classList.add(g);for(let c in E)Object.prototype.hasOwnProperty.call(E,c)&&(s[c]=E[c]);return s}function n(O){let g=O.getBoundingClientRect();return{y1:Math.floor(g.top+window.pageYOffset),x1:Math.floor(g.left+window.pageXOffset),x2:Math.floor(g.right+window.pageXOffset),y2:Math.floor(g.bottom+window.pageYOffset)}}function a(O,g){let E=n(O),s=n(g);return{fromTopBorder:s.y1-E.y1,fromLeftBorder:s.x1-E.x1,fromRightBorder:E.x2-s.x2,fromBottomBorder:E.y2-s.y2}}function l(O,g){return g.parentNode.insertBefore(O,g)}function d(O,g=!0){let E=document.createRange(),s=window.getSelection();E.selectNodeContents(O),E.collapse(g),s.removeAllRanges(),s.addRange(E)}t.r(e);class m{constructor({items:g}){this.items=g,this.wrapper=void 0,this.itemEls=[]}static get CSS(){return{popover:"tc-popover",popoverOpened:"tc-popover--opened",item:"tc-popover__item",itemHidden:"tc-popover__item--hidden",itemConfirmState:"tc-popover__item--confirm",itemIcon:"tc-popover__item-icon",itemLabel:"tc-popover__item-label"}}render(){return this.wrapper=i("div",m.CSS.popover),this.items.forEach((g,E)=>{let s=i("div",m.CSS.item),c=i("div",m.CSS.itemIcon,{innerHTML:g.icon}),u=i("div",m.CSS.itemLabel,{textContent:g.label});s.dataset.index=E,s.appendChild(c),s.appendChild(u),this.wrapper.appendChild(s),this.itemEls.push(s)}),this.wrapper.addEventListener("click",g=>{this.popoverClicked(g)}),this.wrapper}popoverClicked(g){let E=g.target.closest("."+m.CSS.item);if(!E)return;let s=E.dataset.index,c=this.items[s];!c.confirmationRequired||this.hasConfirmationState(E)?c.onClick():this.setConfirmationState(E)}setConfirmationState(g){g.classList.add(m.CSS.itemConfirmState)}clearConfirmationState(g){g.classList.remove(m.CSS.itemConfirmState)}hasConfirmationState(g){return g.classList.contains(m.CSS.itemConfirmState)}get opened(){return this.wrapper.classList.contains(m.CSS.popoverOpened)}open(){this.items.forEach((g,E)=>{typeof g.hideIf=="function"&&this.itemEls[E].classList.toggle(m.CSS.itemHidden,g.hideIf())}),this.wrapper.classList.add(m.CSS.popoverOpened)}close(){this.wrapper.classList.remove(m.CSS.popoverOpened),this.itemEls.forEach(g=>{this.clearConfirmationState(g)})}}var f=t(0),v=t.n(f);class b{constructor({api:g,items:E,onOpen:s,onClose:c,cssModifier:u=""}){this.api=g,this.items=E,this.onOpen=s,this.onClose=c,this.cssModifier=u,this.popover=null,this.wrapper=this.createToolbox()}static get CSS(){return{toolbox:"tc-toolbox",toolboxShowed:"tc-toolbox--showed",toggler:"tc-toolbox__toggler"}}get element(){return this.wrapper}createToolbox(){let g=i("div",[b.CSS.toolbox,this.cssModifier?`${b.CSS.toolbox}--${this.cssModifier}`:""]);g.dataset.mutationFree="true";let E=this.createPopover(),s=this.createToggler();return g.appendChild(s),g.appendChild(E),g}createToggler(){let g=i("div",b.CSS.toggler,{innerHTML:v.a});return g.addEventListener("click",()=>{this.togglerClicked()}),g}createPopover(){return this.popover=new m({items:this.items}),this.popover.render()}togglerClicked(){this.popover.opened?(this.popover.close(),this.onClose()):(this.popover.open(),this.onOpen())}show(g){let E=g();Object.entries(E).forEach(([s,c])=>{this.wrapper.style[s]=c}),this.wrapper.classList.add(b.CSS.toolboxShowed)}hide(){this.popover.close(),this.wrapper.classList.remove(b.CSS.toolboxShowed)}}let C='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',A='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',T="tc-wrap",x="tc-wrap--readonly",_="tc-table",L="tc-row",I="tc-table--heading",H="tc-row--selected",B="tc-cell",j="tc-cell--selected",U="tc-add-row",V="tc-add-column";class te{constructor(g,E,s,c){this.readOnly=g,this.api=E,this.data=s,this.config=c,this.wrapper=null,this.table=null,this.toolboxColumn=this.createColumnToolbox(),this.toolboxRow=this.createRowToolbox(),this.createTableWrapper(),this.hoveredRow=0,this.hoveredColumn=0,this.selectedRow=0,this.selectedColumn=0,this.tunes={withHeadings:!1},this.resize(),this.fill(),this.focusedCell={row:0,column:0},this.documentClicked=u=>{let h=u.target.closest("."+_)!==null,k=u.target.closest("."+T)===null;(h||k)&&this.hideToolboxes();let $=u.target.closest("."+U),M=u.target.closest("."+V);$&&$.parentNode===this.wrapper?(this.addRow(void 0,!0),this.hideToolboxes()):M&&M.parentNode===this.wrapper&&(this.addColumn(void 0,!0),this.hideToolboxes())},this.readOnly||this.bindEvents()}getWrapper(){return this.wrapper}bindEvents(){document.addEventListener("click",this.documentClicked),this.table.addEventListener("mousemove",(function(g,E){let s=0;return function(...c){let u=new Date().getTime();if(!(u-s<g))return s=u,E(...c)}})(150,g=>this.onMouseMoveInTable(g)),{passive:!0}),this.table.onkeypress=g=>this.onKeyPressListener(g),this.table.addEventListener("keydown",g=>this.onKeyDownListener(g)),this.table.addEventListener("focusin",g=>this.focusInTableListener(g))}createColumnToolbox(){return new b({api:this.api,cssModifier:"column",items:[{label:this.api.i18n.t("Add column to left"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.9167 14.9167L11.5833 18.25M11.5833 18.25L8.25 14.9167M11.5833 18.25L11.5833 10.0833C11.5833 9.19928 11.9345 8.35143 12.5596 7.72631C13.1848 7.10119 14.0326 6.75 14.9167 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add column to right"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.13333 14.9167L12.4667 18.25M12.4667 18.25L15.8 14.9167M12.4667 18.25L12.4667 10.0833C12.4667 9.19928 12.1155 8.35143 11.4904 7.72631C10.8652 7.10119 10.0174 6.75 9.13333 6.75"/></svg>',onClick:()=>{this.addColumn(this.selectedColumn+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete column"),icon:C,hideIf:()=>this.numberOfColumns===1,confirmationRequired:!0,onClick:()=>{this.deleteColumn(this.selectedColumn),this.hideToolboxes()}}],onOpen:()=>{this.selectColumn(this.hoveredColumn),this.hideRowToolbox()},onClose:()=>{this.unselectColumn()}})}createRowToolbox(){return new b({api:this.api,cssModifier:"row",items:[{label:this.api.i18n.t("Add row above"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 15.8333L18.2167 12.5M18.2167 12.5L14.8833 9.16667M18.2167 12.5L10.05 12.5C9.16595 12.5 8.31811 12.8512 7.69299 13.4763C7.06787 14.1014 6.71667 14.9493 6.71667 15.8333"/></svg>',onClick:()=>{this.addRow(this.selectedRow,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Add row below"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.8833 9.16666L18.2167 12.5M18.2167 12.5L14.8833 15.8333M18.2167 12.5H10.05C9.16594 12.5 8.31809 12.1488 7.69297 11.5237C7.06785 10.8986 6.71666 10.0507 6.71666 9.16666"/></svg>',onClick:()=>{this.addRow(this.selectedRow+1,!0),this.hideToolboxes()}},{label:this.api.i18n.t("Delete row"),icon:C,hideIf:()=>this.numberOfRows===1,confirmationRequired:!0,onClick:()=>{this.deleteRow(this.selectedRow),this.hideToolboxes()}}],onOpen:()=>{this.selectRow(this.hoveredRow),this.hideColumnToolbox()},onClose:()=>{this.unselectRow()}})}moveCursorToNextRow(){this.focusedCell.row!==this.numberOfRows?(this.focusedCell.row+=1,this.focusCell(this.focusedCell)):(this.addRow(),this.focusedCell.row+=1,this.focusCell(this.focusedCell),this.updateToolboxesPosition(0,0))}getCell(g,E){return this.table.querySelectorAll(`.${L}:nth-child(${g}) .${B}`)[E-1]}getRow(g){return this.table.querySelector(`.${L}:nth-child(${g})`)}getRowByCell(g){return g.parentElement}getRowFirstCell(g){return g.querySelector(`.${B}:first-child`)}setCellContent(g,E,s){this.getCell(g,E).innerHTML=s}addColumn(g=-1,E=!1){let s=this.numberOfColumns;for(let c=1;c<=this.numberOfRows;c++){let u,h=this.createCell();if(g>0&&g<=s?(u=this.getCell(c,g),l(h,u)):u=this.getRow(c).appendChild(h),c===1){let k=this.getCell(c,g>0?g:s+1);k&&E&&d(k)}}this.addHeadingAttrToFirstRow()}addRow(g=-1,E=!1){let s,c=i("div",L);this.tunes.withHeadings&&this.removeHeadingAttrFromFirstRow();let u=this.numberOfColumns;g>0&&g<=this.numberOfRows?s=l(c,this.getRow(g)):s=this.table.appendChild(c),this.fillRow(s,u),this.tunes.withHeadings&&this.addHeadingAttrToFirstRow();let h=this.getRowFirstCell(s);return h&&E&&d(h),s}deleteColumn(g){for(let E=1;E<=this.numberOfRows;E++){let s=this.getCell(E,g);if(!s)return;s.remove()}}deleteRow(g){this.getRow(g).remove(),this.addHeadingAttrToFirstRow()}createTableWrapper(){if(this.wrapper=i("div",T),this.table=i("div",_),this.readOnly&&this.wrapper.classList.add(x),this.wrapper.appendChild(this.toolboxRow.element),this.wrapper.appendChild(this.toolboxColumn.element),this.wrapper.appendChild(this.table),!this.readOnly){let g=i("div",V,{innerHTML:A}),E=i("div",U,{innerHTML:A});this.wrapper.appendChild(g),this.wrapper.appendChild(E)}}computeInitialSize(){let g=this.data&&this.data.content,E=Array.isArray(g),s=!!E&&g.length,c=E?g.length:void 0,u=s?g[0].length:void 0,h=Number.parseInt(this.config&&this.config.rows),k=Number.parseInt(this.config&&this.config.cols),$=!isNaN(h)&&h>0?h:void 0,M=!isNaN(k)&&k>0?k:void 0;return{rows:c||$||2,cols:u||M||2}}resize(){let{rows:g,cols:E}=this.computeInitialSize();for(let s=0;s<g;s++)this.addRow();for(let s=0;s<E;s++)this.addColumn()}fill(){let g=this.data;if(g&&g.content)for(let E=0;E<g.content.length;E++)for(let s=0;s<g.content[E].length;s++)this.setCellContent(E+1,s+1,g.content[E][s])}fillRow(g,E){for(let s=1;s<=E;s++){let c=this.createCell();g.appendChild(c)}}createCell(){return i("div",B,{contentEditable:!this.readOnly})}get numberOfRows(){return this.table.childElementCount}get numberOfColumns(){return this.numberOfRows?this.table.querySelectorAll(`.${L}:first-child .${B}`).length:0}get isColumnMenuShowing(){return this.selectedColumn!==0}get isRowMenuShowing(){return this.selectedRow!==0}onMouseMoveInTable(g){let{row:E,column:s}=this.getHoveredCell(g);this.hoveredColumn=s,this.hoveredRow=E,this.updateToolboxesPosition()}onKeyPressListener(g){if(g.key==="Enter"){if(g.shiftKey)return!0;this.moveCursorToNextRow()}return g.key!=="Enter"}onKeyDownListener(g){g.key==="Tab"&&g.stopPropagation()}focusInTableListener(g){let E=g.target,s=this.getRowByCell(E);this.focusedCell={row:Array.from(this.table.querySelectorAll("."+L)).indexOf(s)+1,column:Array.from(s.querySelectorAll("."+B)).indexOf(E)+1}}hideToolboxes(){this.hideRowToolbox(),this.hideColumnToolbox(),this.updateToolboxesPosition()}hideRowToolbox(){this.unselectRow(),this.toolboxRow.hide()}hideColumnToolbox(){this.unselectColumn(),this.toolboxColumn.hide()}focusCell(){this.focusedCellElem.focus()}get focusedCellElem(){let{row:g,column:E}=this.focusedCell;return this.getCell(g,E)}updateToolboxesPosition(g=this.hoveredRow,E=this.hoveredColumn){this.isColumnMenuShowing||E>0&&E<=this.numberOfColumns&&this.toolboxColumn.show(()=>({left:`calc((100% - var(--cell-size)) / (${this.numberOfColumns} * 2) * (1 + (${E} - 1) * 2))`})),this.isRowMenuShowing||g>0&&g<=this.numberOfRows&&this.toolboxRow.show(()=>{let s=this.getRow(g),{fromTopBorder:c}=a(this.table,s),{height:u}=s.getBoundingClientRect();return{top:Math.ceil(c+u/2)+"px"}})}setHeadingsSetting(g){this.tunes.withHeadings=g,g?(this.table.classList.add(I),this.addHeadingAttrToFirstRow()):(this.table.classList.remove(I),this.removeHeadingAttrFromFirstRow())}addHeadingAttrToFirstRow(){for(let g=1;g<=this.numberOfColumns;g++){let E=this.getCell(1,g);E&&E.setAttribute("heading",this.api.i18n.t("Heading"))}}removeHeadingAttrFromFirstRow(){for(let g=1;g<=this.numberOfColumns;g++){let E=this.getCell(1,g);E&&E.removeAttribute("heading")}}selectRow(g){let E=this.getRow(g);E&&(this.selectedRow=g,E.classList.add(H))}unselectRow(){if(this.selectedRow<=0)return;let g=this.table.querySelector("."+H);g&&g.classList.remove(H),this.selectedRow=0}selectColumn(g){for(let E=1;E<=this.numberOfRows;E++){let s=this.getCell(E,g);s&&s.classList.add(j)}this.selectedColumn=g}unselectColumn(){if(this.selectedColumn<=0)return;let g=this.table.querySelectorAll("."+j);Array.from(g).forEach(E=>{E.classList.remove(j)}),this.selectedColumn=0}getHoveredCell(g){let E=this.hoveredRow,s=this.hoveredColumn,{width:c,height:u,x:h,y:k}=(function($,M){let D=$.getBoundingClientRect(),{width:q,height:W,x:se,y:le}=D,{clientX:ce,clientY:_e}=M;return{width:q,height:W,x:ce-se,y:_e-le}})(this.table,g);return h>=0&&(s=this.binSearch(this.numberOfColumns,$=>this.getCell(1,$),({fromLeftBorder:$})=>h<$,({fromRightBorder:$})=>h>c-$)),k>=0&&(E=this.binSearch(this.numberOfRows,$=>this.getCell($,1),({fromTopBorder:$})=>k<$,({fromBottomBorder:$})=>k>u-$)),{row:E||this.hoveredRow,column:s||this.hoveredColumn}}binSearch(g,E,s,c){let u,h=0,k=g+1,$=0;for(;h<k-1&&$<10;){u=Math.ceil((h+k)/2);let M=E(u),D=a(this.table,M);if(s(D))k=u;else{if(!c(D))break;h=u}$++}return u}getData(){let g=[];for(let E=1;E<=this.numberOfRows;E++){let s=this.table.querySelector(`.${L}:nth-child(${E})`),c=Array.from(s.querySelectorAll("."+B));c.every(u=>!u.textContent.trim())||g.push(c.map(u=>u.innerHTML))}return g}destroy(){document.removeEventListener("click",this.documentClicked)}}t(1),e.default=class{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}constructor({data:O,config:g,api:E,readOnly:s}){this.api=E,this.readOnly=s,this.config=g,this.data={withHeadings:this.getConfig("withHeadings",!1,O),content:O&&O.content?O.content:[]},this.table=null}static get toolbox(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',title:"Table"}}render(){return this.table=new te(this.readOnly,this.api,this.data,this.config),this.container=i("div",this.api.styles.block),this.container.appendChild(this.table.getWrapper()),this.table.setHeadingsSetting(this.data.withHeadings),this.container}renderSettings(){return[{label:this.api.i18n.t("With headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!0,this.table.setHeadingsSetting(this.data.withHeadings)}},{label:this.api.i18n.t("Without headings"),icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M10 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M14 5V18.5"/><path stroke="currentColor" stroke-width="2" d="M5 10H19"/><path stroke="currentColor" stroke-width="2" d="M5 14H19"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',isActive:!this.data.withHeadings,closeOnActivate:!0,toggle:!0,onActivate:()=>{this.data.withHeadings=!1,this.table.setHeadingsSetting(this.data.withHeadings)}}]}save(){let O=this.table.getData();return{withHeadings:this.data.withHeadings,content:O}}destroy(){this.table.destroy()}getConfig(O,g,E){let s=this.data||E;return s?s[O]?s[O]:g:this.config&&this.config[O]?this.config[O]:g}static get pasteConfig(){return{tags:["TABLE","TR","TH","TD"]}}onPaste(O){let g=O.detail.data,E=g.querySelector(":scope > thead, tr:first-of-type th"),s=Array.from(g.querySelectorAll("tr")).map(c=>Array.from(c.querySelectorAll("th, td")).map(u=>u.innerHTML));this.data={withHeadings:E!==null,content:s},this.table.wrapper&&this.table.wrapper.replaceWith(this.render())}}}]).default}))});var nu,or,ru=y(()=>{S();nu=Mt(iu(),1),or=class extends nu.default{static get toolbox(){return{title:r.text("table"),icon:'<i class="bi bi-grid-3x3"></i>'}}static get sanitize(){return{content:{br:!0}}}renderSettings(){let[e,t]=super.renderSettings();return[{...e,icon:'<i class="bi bi-table"></i>',label:r.text("tableWithHeadings")},{...t,icon:'<i class="bi bi-grid-3x3"></i>',label:r.text("tableWithoutHeadings")}]}}});var ir,au=y(()=>{S();Ge();ir=class o extends he{static get toolbox(){return{title:r.text("tableOfContentsBlockTitle"),icon:'<i class="bi bi-list-columns"></i>'}}prepareData(e){return{type:e.type??"ordered"}}render(){return this.wrapper.innerHTML=w`<div class="${"am-c-card"}"><div class="${"am-c-card__icon"}"><i class="bi bi-list-${this.data.type=="ordered"?"ol":"ul"}" ></i></div><div class="${"am-c-card__title"}"> ${o.toolbox.title}</div></div>`,this.wrapper}save(){return this.data}renderSettings(){return[{icon:'<i class="bi bi-list-ol"></i>',label:r.text("orderedList"),closeOnActivate:!0,onActivate:()=>{this.data.type="ordered",this.render()},toggle:"type",isActive:this.data.type=="ordered"},{icon:'<i class="bi bi-list-ul"></i>',label:r.text("unorderedList"),closeOnActivate:!0,onActivate:()=>{this.data.type="unordered",this.render()},toggle:"type",isActive:this.data.type=="unordered"}]}}});var nr,su=y(()=>{S();Ge();nr=class extends he{static get sanitize(){return{url:!0,autoplay:!1,loop:!1,muted:!1,controls:!1,caption:{}}}static get pasteConfig(){return{patterns:{image:new RegExp(`(https?:\\/\\/)?\\S+\\.(${r.fileTypesVideo.join("|")})$`,"i")}}}static get toolbox(){return{title:r.text("videoTool"),icon:'<i class="bi bi-film"></i>'}}video;videoSource;caption;prepareData(e){return{url:e.url||"",autoplay:e.autoplay||!1,loop:e.loop||!1,muted:e.muted||!1,controls:e.controls??!0,caption:e.caption||""}}setVideo(e){this.data.url=e,this.videoSource.src=Dt(e),this.videoSource.type=`video/${e.split(".").pop()}`,this.video.load()}toggleProp(e,t){t?this.video.setAttribute(e,""):this.video.removeAttribute(e)}render(){if(this.video=p("video",[],{playsinline:""}),this.videoSource=p("source",[],{},this.video),this.toggleProp("autoplay",this.data.autoplay),this.toggleProp("loop",this.data.loop),this.toggleProp("muted",this.data.muted),this.toggleProp("controls",this.data.controls),this.setVideo(this.data.url),this.wrapper.appendChild(this.video),this.wrapper.classList.add("am-c-ed-bl-video"),!this.readOnly){let e=p("button",["am-e-button","am-e-button--icon","am-f-group__item"],{"am-tooltip":r.text("selectVideo")},this.wrapper,'<i class="bi bi-film"></i>');this.listen(e,"click",this.pickVideo.bind(this))}return this.caption=p("div",["cdx-block","ce-paragraph"],{contenteditable:this.readOnly?"false":"true",placeholder:r.text("caption")},this.wrapper,w`${this.data.caption}`),this.listen(this.caption,"input",()=>{X("change",this.caption)}),this.wrapper}renderSettings(){return[{icon:'<i class="bi bi-play-fill"></i>',label:r.text("videoAutoplay"),closeOnActivate:!1,onActivate:()=>{this.data.autoplay=!this.data.autoplay,this.toggleProp("autoplay",this.data.autoplay)},isActive:this.data.autoplay,toggle:"autoplay"},{icon:'<i class="bi bi-repeat"></i>',label:r.text("videoLoop"),closeOnActivate:!1,onActivate:()=>{this.data.loop=!this.data.loop,this.toggleProp("loop",this.data.loop)},isActive:this.data.loop,toggle:"loop"},{icon:'<i class="bi bi-volume-mute"></i>',label:r.text("videoMuted"),closeOnActivate:!1,onActivate:()=>{this.data.muted=!this.data.muted,this.toggleProp("muted",this.data.muted)},isActive:this.data.muted,toggle:"muted"},{icon:'<i class="bi bi-pause-btn"></i>',label:r.text("videoControls"),closeOnActivate:!1,onActivate:()=>{this.data.controls=!this.data.controls,this.toggleProp("controls",this.data.controls)},isActive:this.data.controls,toggle:"controls"}]}appendCallback(){this.pickVideo()}onPaste(e){e.type=="pattern"&&this.setVideo(e.detail.data)}async createVideoList(e,t,i=null){let n=r.text(i?"pageVideos":"sharedVideos"),a=i?"":"/shared/",l=p("div",["am-c-field"],{},t),d=async()=>{let{data:m}=await ue("VideoCollectionController::list",{url:i});if(l.innerHTML="",p("label",["am-c-field__label"],{},l,n),!m.videos?.length){p("span",[],{},l,r.text("noVideosFound"));return}let f=p("div",["am-c-ed-bl-video__list"],{},l);m.videos.forEach(v=>{let b=p("span",["am-c-ed-bl-video__list-item"],{},f,w`<am-icon-text ${"am-icon"}="film" ${"am-text"}="${v.name}" ></am-icon-text><small>(${v.size})</small>`);this.listen(b,"click",()=>{this.setVideo(`${a}${v.name}`),e.close()})})};d(),this.listen(window,"AutomadFilesChangeOnServer",d)}async pickVideo(){let{modal:e,body:t}=Ve(r.text("selectVideo")),i=fe();t.innerHTML=w`<p>${r.text("linkVideo")}</p><span class="${"am-f-group"}"><input type="text" class="${"am-f-input"} ${"am-f-group__item"}" value="${this.data.url}" placeholder="${r.text("url")}" /><button class="${"am-e-button"} ${"am-f-group__item"}"> ${r.text("ok")}</button></span><hr />`;let n=R("button",t),a=R("input",t),l=p("div",[],{},t,w`<p>${r.text("useUploadedVideo")}</p><am-upload></am-upload>`);this.listen(n,"click",()=>{this.setVideo(a.value),e.close()}),i&&await this.createVideoList(e,l,i),await this.createVideoList(e,l),e.open()}save(){return this.data.caption=this.caption.innerHTML||"",this.data}}});var lu,cu=y(()=>{lu={codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:o=>o.join("/embed/")},dailymotion:{regex:/https?:\/\/www\.dailymotion\.com\/video\/(\w+)(\?.*?)?$/,embedUrl:"https://www.dailymotion.com/embed/video/<%= remote_id %>/",html:'<iframe width="640" height="360" frameborder="0" allowFullScreen></iframe>',height:360,width:640},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='margin: 0 auto; width: 500px; min-height: 500px; max-height: 1000px;'></iframe>",id:o=>o.join("/")},giphy:{regex:/https?:\/\/giphy\.com\/(?:gifs|videos)\/(?:[^\/]*\-)?([a-zA-Z0-9]+)$/,embedUrl:"https://giphy.com/embed/<%= remote_id %>/",html:'<iframe width="600" height="480" frameborder="0" allowFullScreen></iframe>',height:480,width:600},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:o=>`${o.join("/")}.js`},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com(?:\/gallery)?\/([\w-]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>",html:'<am-embed-service type="imgur"></am-embed-service>',height:500,width:540},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},mixcloud:{regex:/https?:\/\/www\.mixcloud\.com\/(.+)\/$/,embedUrl:"https://www.mixcloud.com/widget/iframe/?hide_cover=1&feed=/<%= remote_id %>/",html:'<iframe height="180" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" style="width: 100%;"></iframe>',height:180,width:0},soundcloud:{regex:/(https:\/\/soundcloud\.com\/.+)$/,embedUrl:"https://w.soundcloud.com/player/?url=<%= remote_id %>",html:'<iframe height="180" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" style="width: 100%;"></iframe>',height:180,width:0},twitter:{regex:/^https?:\/\/(?:www\.)?(?:twitter\.com|x\.com)\/(.+?)\/status\/(\d+)(?:\?.*)?$/,embedUrl:"https://twitter.com/<%= remote_id %>",html:'<am-embed-service type="twitter"></am-embed-service>',height:0,width:0,id:o=>o.join("/status/")},vimeo:{regex:/^https?:\/\/(?:www\.)?vimeo\.com\/(\d+).*$/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%; aspect-ratio: 16/9;" frameborder="0"></iframe>',height:9,width:16},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width: 100%; aspect-ratio: 16/9;" frameborder="0" allowfullscreen></iframe>',height:9,width:16,id:([o,e])=>{if(!e&&o)return o;let t={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return e=e.slice(1).split("&").map(i=>{let[n,a]=i.split("=");if(!o&&n==="v"){o=a;return}if(t[n])return`${t[n]}=${a}`}).filter(i=>!!i),o+"?"+e.join("&")}}}});var rr,du=y(()=>{S();ki();Ge();rr=class o extends he{static get enableLineBreaks(){return!0}static get sanitize(){return{code:!0}}static get toolbox(){return{title:w`Math / TeX <span class="${"am-u-display-none"}">latex,katex</span>`,icon:"<small><strong>\u2211</strong></small>"}}prepareData(e){return{code:e.code??""}}render(){return this.wrapper.classList.add("am-u-flex","am-u-flex--column","am-u-flex--gap"),this.init(),this.wrapper}async init(){let{katex:e}=await import("../vendor/katex-0f616d04.js"),t="x = \\frac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}";this.readOnly||p("span",["am-u-text-muted","am-u-user-select-none"],{},this.wrapper,w`<span class="${"am-c-icon-text"}"><strong></strong><span>${o.toolbox.title}</span></span>`);let i,n=p("div",["am-u-flex","am-u-flex--column","am-c-ed-bl-tex",...this.readOnly?["am-c-ed-bl-tex--readonly"]:[]],{},this.wrapper),a=ke(async()=>{i=i??p("figure",[],{},n),n.classList.toggle("am-c-ed-bl-tex--placeholder",!this.data.code),e.render(this.data.code||t,i,{throwOnError:!1,output:"html",displayMode:!0,errorColor:"hsl(var(--am-clr-text-danger))"})},500);if(!this.readOnly){let l=p("div",["am-f-codeflask"],{},n);new Pt({element:l,code:this.data.code,language:"latex",onChange:d=>{this.data.code=d,a()},placeholder:t,readonly:this.readOnly}),this.api.listeners.on(R("textarea",l),"keydown",d=>{d.stopImmediatePropagation()})}a()}save(){return this.data}}});var Yo,fn=y(()=>{Ed();Cd();fm();hm();Rm();Pm();Um();qm();fp();hp();gp();vp();xp();kp();Ep();Cp();Ap();Sp();tu();ou();ru();au();su();cu();du();Yo=o=>{let e={component:{class:vn,stretchable:!0}};return o&&(e={}),{paragraph:{class:Yn,inlineToolbar:!0},header:{class:Un,inlineToolbar:!0},layoutSection:{class:Qn,stretchable:!0},collapsibleSection:{class:nn,stretchable:!0,inlineToolbar:["bold","italic","codeInline","underline","strikeThrough","color"]},...e,nestedList:{class:Wn,inlineToolbar:!0},table:{class:or,inlineToolbar:!0,stretchable:!0},callout:{class:Qi,inlineToolbar:!0},quote:{class:Jn,inlineToolbar:!0},delimiter:{class:xn,stretchable:!0},image:{class:qn,inlineToolbar:!0,stretchable:!0},video:{class:nr,inlineToolbar:!0,stretchable:!0},gallery:{class:Hn,inlineToolbar:!1,stretchable:!0},imageSlideshow:{class:Gn,inlineToolbar:!1,stretchable:!0},buttons:{class:Zi,inlineToolbar:!0},tableOfContents:{class:ir},code:{class:on,inlineToolbar:!1,stretchable:!0},teX:{class:rr,stretchable:!0},raw:{class:Zn,inlineToolbar:!1,stretchable:!0},mail:{class:Vn,inlineToolbar:!0},pagelist:{class:Xn,stretchable:!0},filelist:{class:kn,stretchable:!0},snippet:{class:er,tunes:[]},embed:{class:wn,inlineToolbar:!0,config:{services:lu},stretchable:!0}}}});var Qe,qt=y(()=>{S();Qe=class{static get isInline(){return!0}api;_state=!1;range;button;listeners=[];get state(){return this._state}set state(e){this._state=e,this.button.classList.toggle(this.api.styles.inlineToolButtonActive,e)}constructor({api:e}){this.api=e,this.button=p("button",[this.api.styles.inlineToolButton],{type:"button"},null,this.icon)}addListener(e){this.listeners.push(e)}listen(e,t,i,n=""){this.addListener(Ne(e,t,i,n))}render(){return this.button}surround(e){if(this.state){this.unwrap();return}this.wrap(e)}wrap(e){let t=e.extractContents(),i=p(this.tag,[],{});i.appendChild(t),e.insertNode(i),this.api.selection.expandToTag(i)}unwrap(){this.restoreSelection();let e=this.api.selection.findParentTag(this.tag);this.api.selection.expandToTag(e);let t=window.getSelection().getRangeAt(0),i=t.extractContents();e.remove(),t.insertNode(i)}checkState(){let e=this.api.selection.findParentTag(this.tag);return this.state=!!e,this.state?(this.saveSelection(),setTimeout(()=>{this.showActions(e)},0)):this.hideActions(),this.state}saveSelection(){this.range=window.getSelection().getRangeAt(0)}restoreSelection(){let e=window.getSelection();e.removeAllRanges(),e.addRange(this.range)}showActions(e){}hideActions(){}clear(){this.listeners.forEach(e=>{e.remove()}),this.listeners=[]}}});var ar,mu=y(()=>{S();qt();ar=class extends Qe{get shortcut(){return"CMD+B"}static get title(){return r.text("bold")}static get sanitize(){return{strong:!0}}get icon(){return'<i class="bi bi-type-bold"></i>'}get tag(){return"STRONG"}}});var sr,pu=y(()=>{S();qt();sr=class extends Qe{static get title(){return r.text("inlineCode")}static get sanitize(){return{code:!0}}get icon(){return'<i class="bi bi-code"></i>'}get tag(){return"CODE"}}});var lr,uu=y(()=>{S();qt();lr=class extends Qe{static get title(){return r.text("color")}static get sanitize(){return{"am-inline-color":!0}}get tag(){return"AM-INLINE-COLOR"}get icon(){return'<i class="bi bi-paint-bucket"></i>'}wrapper;textColorPicker;backgroundColorPicker;renderActions(){return this.wrapper=p("div",["am-l-grid","am-l-grid--auto"],{}),this.textColorPicker=P("am-color-field",this.wrapper,{key:Z(),value:"",name:"color",label:r.text("textColor")}),this.backgroundColorPicker=P("am-color-field",this.wrapper,{key:Z(),value:"",name:"backgroundColor",label:r.text("backgroundColor")}),this.wrapper}showActions(e){let{color:t,backgroundColor:i}=e.style;t&&(this.textColorPicker.mutate(Ts(t)),X("change",this.textColorPicker.input)),i&&(this.backgroundColorPicker.mutate(Ts(i)),X("change",this.backgroundColorPicker.input)),this.listen(this.wrapper,"keyup change",()=>{e.style.color=this.textColorPicker.query(),e.style.backgroundColor=this.backgroundColorPicker.query()}),this.wrapper.hidden=!1}hideActions(){this.wrapper.hidden=!0}}});var ni,_s=y(()=>{S();qt();ni=class extends Qe{static get title(){return""}options=[];default="";property="";wrapper;select;renderActions(){this.wrapper=p("div",[],{});let e=p("div",["am-c-field"],{},this.wrapper,w`<label class="${"am-c-field__label"}"> ${this.constructor.title}</label>`);return this.select=be(this.options.reduce((t,i)=>[...t,{value:i}],[]),this.default,e),this.wrapper}showActions(e){this.wrapper.hidden=!1;let t=e.style.getPropertyValue(this.property);t&&(this.select.value=t),this.listen(this.wrapper,"change",()=>{e.style.setProperty(this.property,this.select.value)})}hideActions(){this.wrapper.hidden=!0}}});var cr,fu=y(()=>{S();_s();cr=class extends ni{static get title(){return r.text("fontSize")}options=["70%","80%","90%","100%","110%","120%","130%","150%","175%","200%","250%","300%","350%","400%","450%","500%"];default="100%";property="font-size";static get sanitize(){return{"am-inline-font-size":!0}}get tag(){return"AM-INLINE-FONT-SIZE"}get icon(){return'<i class="bi bi-fonts"></i>'}}});var dr,hu=y(()=>{S();qt();dr=class extends Qe{get shortcut(){return"CMD+I"}static get title(){return r.text("italic")}static get sanitize(){return{i:!0}}get icon(){return'<i class="bi bi-type-italic"></i>'}get tag(){return"I"}}});var mr,bu=y(()=>{S();_s();mr=class extends ni{static get title(){return r.text("lineHeight")}options=["normal","100%","105%","110%","115%","120%","125%","130%","135%","140%","145%","150%","155%","160%","165%","170%","175%","180%"];default="normal";property="line-height";static get sanitize(){return{"am-inline-line-height":!0}}get tag(){return"AM-INLINE-LINE-HEIGHT"}get icon(){return'<i class="bi bi-distribute-vertical"></i>'}}});var pr,gu=y(()=>{S();qt();pr=class o extends Qe{static get title(){return r.text("link")}static get sanitize(){return{a:!0}}get tag(){return"A"}get icon(){return'<i class="bi bi-link-45deg"></i>'}wrapper;autocomplete;targetToggle;renderActions(){this.wrapper=p("div",[],{});let e=p("div",["am-c-field"],{},this.wrapper,w`<label class="${"am-c-field__label"}">${o.title}</label>`);return this.autocomplete=p("am-autocomplete-url",[],{},e),this.targetToggle=P("am-toggle-field",this.wrapper,{key:Z(),value:!1,name:"target",label:r.text("openInNewTab")}),this.wrapper}showActions(e){this.wrapper.hidden=!1;let t=this.autocomplete.input,i=this.targetToggle.input;t.value=e.getAttribute("href")??"",i.checked=e.getAttribute("target")=="_blank",this.listen(this.wrapper,"input AutomadAutocompleteSelect",()=>{e.href=t.value,i.checked?e.setAttribute("target","_blank"):e.removeAttribute("target")}),setTimeout(()=>{t.value||t.focus()},0)}hideActions(){this.wrapper.hidden=!0}}});var ur,vu=y(()=>{S();qt();ur=class extends Qe{static get title(){return r.text("strikeThrough")}static get sanitize(){return{s:!0}}get icon(){return'<i class="bi bi-type-strikethrough"></i>'}get tag(){return"S"}}});var fr,xu=y(()=>{S();qt();fr=class extends Qe{static get title(){return r.text("underline")}static get sanitize(){return{u:!0}}get icon(){return'<i class="bi bi-type-underline"></i>'}get tag(){return"U"}}});var yu,wu,ku,hr,Tu=y(()=>{br();S();$o();yu=o=>Array.from(o.parentNode.children).indexOf(o),wu=o=>o.closest(Gt.TAG_NAME),ku=o=>{if(!o)return;let e=document.createRange(),t=window.getSelection();e.setStart(o.childNodes[0],0),e.collapse(!0),t.removeAllRanges(),t.addRange(e),o.focus()},hr=class o{static CURRENT;static TARGET;component;editor;constructor(e){this.component=e,this.editor=e.editor,this.initListeners()}initListeners(){let e=R(":scope > .codex-editor > .ce-toolbar .ce-toolbar__settings-btn",this.component);e&&(e.setAttribute("draggable","true"),this.component.listen(e,"dragstart",()=>{let t=this.getCurrentBlock();o.CURRENT={block:t,index:yu(t.holder)}}),this.component.listen(e,"drag",()=>{this.editor.toolbar.close()})),this.component.listen(this.component,"dragover",t=>{t.stopImmediatePropagation();let i=t.target,n=i.closest(".ce-block");if(n){o.TARGET=n,ku(o.TARGET);return}if(!i.closest(Gt.TAG_NAME))return;let l=R(".ce-block");l&&(o.TARGET=l,ku(o.TARGET))}),this.component.listen(this.component,"drop",async t=>{t.stopImmediatePropagation(),await o.move()})}getCurrentBlock(){return this.editor.blocks.getBlockByIndex(this.editor.blocks.getCurrentBlockIndex())}static async move(){if(o.CURRENT?.block.holder==o.TARGET||o.CURRENT?.block.holder.contains(o.TARGET)||!o.TARGET||!o.CURRENT)return;let e=wu(o.CURRENT.block.holder),t=o.CURRENT.index,i=o.TARGET,n=wu(i),a=yu(i);e===n?(e.editor.blocks.move(a,t),await o.refresh(e.editor),e.editor.caret.setToBlock(a,"end")):(await sn(o.CURRENT.block,n.editor,a),e.editor.blocks.delete(t),n.editor.caret.setToBlock(a,"end")),o.CURRENT=null,o.TARGET=null}static async refresh(e){let t=await e.save();await e.render(t)}}});var Di,gr,vr,xr,_u=y(()=>{S();Di=class{api;static get isInline(){return!0}_state;get state(){return this._state}set state(e){this._state=e,this.button.classList.toggle(this.api.styles.inlineToolButtonActive,e)}static get sanitize(){return{"am-inline-align":!0}}tag="AM-INLINE-ALIGN";button;selection;constructor({api:e}){this.api=e,this.button=p("button",[this.api.styles.inlineToolButton],{type:"button"},null)}render(){return this.button.innerHTML=`<i class="bi bi-text-${this.align}"></i>`,this.button}surround(){if(this.saveSelection(),this.state){let e=this.api.selection.findParentTag(this.tag);if(e){this.api.selection.expandToTag(e);let t=window.getSelection().getRangeAt(0),i=t.extractContents();e.remove(),t.insertNode(i)}}else{let e=()=>{let i=this.api.selection.findParentTag("DIV");this.api.selection.expandToTag(i);let n=window.getSelection().getRangeAt(0),a=n.extractContents(),l=p(this.tag,[],{});return l.appendChild(a),n.insertNode(l),l},t=this.api.selection.findParentTag(this.tag)??e();t.style.textAlign=this.align,t.style.display="block"}this.restoreSelection()}checkState(){let e=this.api.selection.findParentTag(this.tag);if(e){let t=e.getAttribute("style"),i=new RegExp(this.align,"g");if(t?.match(i)){this.state=!0;return}}this.state=!1}saveSelection(){let e=window.getSelection();this.selection={start:e.anchorOffset,end:e.focusOffset,div:this.api.selection.findParentTag("DIV")}}restoreSelection(){let e=window.getSelection();e.removeAllRanges();let i=R(`:scope > ${this.tag.toLowerCase()}`,this.selection.div)??this.selection.div;e.setBaseAndExtent(i.childNodes[0],this.selection.start,i.childNodes[0],this.selection.end)}},gr=class extends Di{align="left";static get title(){return r.text("alignLeft")}},vr=class extends Di{align="center";static get title(){return r.text("alignLeft")}},xr=class extends Di{align="right";static get title(){return r.text("alignLeft")}}});var yr,Eu=y(()=>{qt();yr=class extends Qe{static get title(){return"Math"}static get sanitize(){return{"am-inline-tex":!0}}get icon(){return"<small><strong>\u2211</strong></small>"}get tag(){return"AM-INLINE-TEX"}}});var Cu={};ae(Cu,{EditorJSComponent:()=>Gt});import{EditorJS as Qx}from"../vendor/editorjs-e037d226.js";var Gt,br=y(()=>{fn();is();Y();mu();pu();uu();fu();hu();bu();gu();vu();xu();Tu();S();_u();$o();Eu();Gt=class extends F{static TAG_NAME="am-editor-js";editor;get isComponentEditor(){return ri()==="components"}prepareData(e){return gm(e)}init(e,t,i,n=!1){this.style.position="relative",this.classList.add("am-e-contents");let a=this.createEditor.bind(this,t,i,n);try{this.editor=a(e)}catch{Je().error("Error creating a new EditorJS instance with given data. Creating a fresh instance without data.",e),this.editor=a()}}createEditor(e,t,i,n){return new Qx({data:this.prepareData(n??null),holder:this,minHeight:i?0:50,autofocus:!1,readOnly:i,placeholder:t?"":r.text("editorPlaceholder"),tools:{...Yo(this.isComponentEditor),...gn(t),...this.getInlineTools()},tunes:bn,inlineToolbar:["alignLeft","alignCenter","alignRight","bold","italic","fontSize","lineHeight","link","codeInline","texInline","underline","strikeThrough","color"],i18n:{messages:this.getI18nDictionary()},onReady:()=>{this.onRender()},unknownBlockHandler:rn,canUseKeyboard:()=>!R("[am-modal-open]"),...e})}getInlineTools(){return{alignLeft:{class:gr},alignCenter:{class:vr},alignRight:{class:xr},bold:{class:ar},italic:{class:dr},link:{class:pr},codeInline:{class:sr},texInline:{class:yr},underline:{class:fr},strikeThrough:{class:ur},color:{class:lr},fontSize:{class:cr},lineHeight:{class:mr}}}getI18nDictionary(){return{ui:{blockTunes:{toggler:{"Click to tune":r.text("tuneOrMove")}},inlineToolbar:{converter:{"Convert to":r.text("convertTo")}},toolbar:{toolbox:{Add:r.text("add")}}},toolNames:{},tools:{table:{"Add column to left":r.text("tableAddColumnLeft"),"Add column to right":r.text("tableAddColumnRight"),"Delete column":r.text("tableDeleteColumn"),"Add row above":r.text("tableAddRowAbove"),"Add row below":r.text("tableAddRowBelow"),"Delete row":r.text("tableDeleteRow")},embed:{"Enter a caption":r.text("caption")}},blockTunes:{delete:{Delete:r.text("delete"),"Click to delete":r.text("clickToDelete")},moveUp:{"Move up":r.text("moveUp")},moveDown:{"Move down":r.text("moveDown")}}}}onRender(){window.requestIdleCallback(()=>{new hr(this)})}disconnectedCallback(){try{this.editor.destroy()}catch{}super.disconnectedCallback()}};customElements.define(Gt.TAG_NAME,Gt)});var Xo,P,wr,ai,Ve,mo,kr,uo,be,ft,Au=y(()=>{Lt();S();Ya();br();Xe();Xo=(o,e,t,i,n=!1)=>{let a=p(Gt.TAG_NAME,[],{},o);return a.init(e,t,i,n),a},P=(o,e,t,i=[],n={},a=!1)=>{let l=p(o,i,n,a&&!t.isUnused?p("am-modal-field",[],{"am-page":fe(),"am-no-click":""},e):e);return l.data=t,l},wr=o=>{let e=i=>p("am-switcher-section",[],{name:i},o);return{settings:e("settings"),text:e("text"),customizations:e("customizations")}},ai=(o,e="",t="",i=r.text("submit"))=>{let n=p(ze.TAG_NAME,[],{"am-destroy":""},xt(),w`<am-modal-dialog>${t?`<am-modal-header>${t}</am-modal-header>`:""} <am-modal-body><am-form ${"am-api"}="${o}" ${e?`am-event="${e}"`:""} ></am-form></am-modal-body><am-modal-footer><am-modal-close class=${"am-e-button"}> ${r.text("cancel")}</am-modal-close><am-submit class="${"am-e-button"} ${"am-e-button--primary"}" ${"am-form"}="${o}" > ${i}</am-submit></am-modal-footer></am-modal-dialog>`),a=R("am-form",n);return{modal:n,form:a}},Ve=(o,e=r.text("close"),t=!0)=>{let i={};t&&(i["am-destroy"]="");let n=p(ze.TAG_NAME,[],i,xt(),w`<am-modal-dialog><am-modal-header>${o}</am-modal-header><am-modal-body></am-modal-body><am-modal-footer><am-modal-close class="${"am-e-button"} ${"am-e-button--primary"}"> ${e}</am-modal-close></am-modal-footer></am-modal-dialog>`),a=R("am-modal-body",n),l=R("am-modal-footer am-modal-close",n);return{modal:n,body:a,button:l}},mo=(o,e,t="")=>{let i=p(ze.TAG_NAME,[],{"am-destroy":""},xt()),n=`imagePickerModal-temp-${Z()}`,a=Z(),l=Z(),d=Z(),m=fe();new ve(n,{onChange:v=>{let b=R(`#${l}`),C=R(`#${d}`),A=b.value,T=C.value,x=A&&T&&!v.match(/\:\/\//)?`?${A}x${T}`:"";o(`${v}${x}`),Re.delete(n),i.close()}});let f=m?w`<am-image-picker ${"am-page"}="${m}" ${"am-label"}="${r.text("pageImages")}" ${"am-binding-name"}="${n}" ></am-image-picker>`:"";p("am-modal-dialog",["am-c-modal__dialog--large"],{},i,w`<am-modal-header>${e}</am-modal-header><am-modal-body><p>${r.text("linkImage")}</p><span class="${"am-f-group"}"><input id="${a}" type="text" class="${"am-f-input"} ${"am-f-group__item"}" value="${t}" placeholder="${r.text("url")}" /><button class="${"am-e-button"} ${"am-f-group__item"}"> ${r.text("ok")}</button></span><hr /><div><p>${r.text("useUploadedImage")}</p><am-upload></am-upload><div class="${"am-u-flex"} ${"am-u-flex--gap"}"><div class="${"am-u-flex__item-grow"}"><div class="${"am-c-field"}"><label class="${"am-c-field__label"}"> ${r.text("resizeWidthTitle")}</label><input type="number" class="${"am-f-input"}" id="${l}" /></div></div><div class="${"am-u-flex__item-grow"}"><div class="${"am-c-field"} ${"am-u-flex__item-grow"}"><label class="${"am-c-field__label"}"> ${r.text("resizeHeightTitle")}</label><input type="number" class="${"am-f-input"}" id="${d}" /></div></div></div>${f} <am-image-picker ${"am-label"}="${r.text("sharedImages")}" ${"am-binding-name"}="${n}" ></am-image-picker></div></am-modal-body>`),i.listen(R("button",i),"click",()=>{let v=R(`#${a}`,i);o(v.value),Re.delete(n),i.close()}),setTimeout(()=>{i.open()},0)},kr=(o,e)=>{let t=p(ze.TAG_NAME,[],{"am-destroy":""},xt()),i=p("am-modal-dialog",[],{},t,w`<am-modal-header>$${e}</am-modal-header>`),n=p("am-modal-body",[],{},i),a=p("am-modal-footer",[],{},i),l=Re.get(o),d=p("am-autocomplete-url",[],{},n);p("am-modal-close",["am-e-button"],{},a,r.text("cancel"));let m=p("button",["am-e-button","am-e-button--primary"],{},a,r.text("ok"));t.listen(t,"AutomadModalOpen",()=>{d.input.value=""});let f=()=>{l.value=d.input.value,t.close()};d.listen(d,"AutomadAutocompleteSelect",f),t.listen(m,"click",f),setTimeout(()=>{t.open()},0)},uo=o=>{let e=p(ze.TAG_NAME,[],{"am-no-esc":"","am-no-click":"","am-destroy":""},xt());return e.innerHTML=w`<am-modal-dialog><span class="${"am-c-modal__spinner"}"><span class="${"am-c-modal__spinner-icon"}"></span><span class="${"am-c-modal__spinner-text"}">${o}</span></span></am-modal-dialog>`,e},be=(o,e,t=null,i=null,n=null,a="",l=[],d={})=>{let m=p(Ao.TAG_NAME,l,{},t);return i&&(d.name=i),n&&(d.id=n),m.init(o,e,a,d),m},ft=(o,e,t)=>{let i=p("div",["am-c-field"],{},t,w`<div><label class="${"am-c-field__label"}">${o}</label></div>`);return i.appendChild(e),{select:e,field:i}}});var Tt,Tr,Su,Vt,_r,xe,Es,si,$u,Mu=y(()=>{S();Tt=class{static _controls=["input","textarea","select"];static get selector(){return this._controls.map(t=>`${t}:not(:scope am-editor-field ${t})`).join(", ")}static add(e){this._controls.includes(e)||this._controls.push(e)}},Tr=(o,e,t={})=>{let i=(f,v,b=!0)=>{let C=r.reservedFields[f];return{key:C,label:v,value:o[C],name:`data[${C}]`,placeholder:b?t[C]??"":""}};p("p",[],{},e.customizations,r.text("customization")),fe()&&p("div",["am-c-alert"],{},e.customizations,w`<div class="${"am-c-alert__icon"}"><i class="bi bi-file-earmark-medical-fill"></i></div><div class="${"am-c-alert__text"} ${"am-u-flex"} ${"am-u-flex--column"}"><div>${r.text("customizationMerge")}</div><div><am-link ${"am-target"}="${"shared"}?section=${"customizations"}" class="${"am-e-button"} ${"am-e-button--primary"}" > ${r.text("sharedTitle")}</am-link></div></div>`),P("am-code-field",e.customizations,i("CUSTOM_HTML_HEAD",r.text("customHTMLHead"),!1)),P("am-code-field",e.customizations,i("CUSTOM_HTML_BODY_END",r.text("customHTMLBodyEnd"),!1)),P("am-code-field",e.customizations,i("CUSTOM_JS_HEAD",r.text("customJSHead"),!1)),P("am-code-field",e.customizations,i("CUSTOM_JS_BODY_END",r.text("customJSBodyEnd"),!1)),P("am-code-field",e.customizations,i("CUSTOM_CSS",r.text("customCSS"),!1)),p("hr",[],{},e.customizations),p("p",[],{},e.customizations,r.text("customOpenGraphInfo"));let n=p("div",["am-l-grid","am-l-grid--auto"],{},e.customizations);P("am-color-field",n,i("CUSTOM_OPEN_GRAPH_IMAGE_COLOR_TEXT",r.text("customOpenGraphImageColorText"))),P("am-color-field",n,i("CUSTOM_OPEN_GRAPH_IMAGE_COLOR_BACKGROUND",r.text("customOpenGraphImageColorBackground"))),p("hr",[],{},e.customizations),p("p",[],{},e.customizations,r.text("customConsentInfo")),P("am-input-field",e.customizations,i("CUSTOM_CONSENT_TEXT",r.text("customConsentText")));let a=p("div",["am-l-grid","am-l-grid--auto"],{style:"--min: 24rem;"},e.customizations);P("am-input-field",a,i("CUSTOM_CONSENT_ACCEPT",r.text("customConsentAccept"))),P("am-input-field",a,i("CUSTOM_CONSENT_DECLINE",r.text("customConsentDecline"))),P("am-input-field",a,i("CUSTOM_CONSENT_REVOKE",r.text("customConsentRevoke"))),P("am-input-field",a,i("CUSTOM_CONSENT_TOOLTIP",r.text("customConsentTooltip")));let l=p("div",["am-l-grid","am-l-grid--auto"],{style:"--min: 20rem;"},e.customizations);P("am-color-field",l,i("CUSTOM_CONSENT_COLOR_TEXT",r.text("customConsentColorText"))),P("am-color-field",l,i("CUSTOM_CONSENT_COLOR_BACKGROUND",r.text("customConsentColorBackground"))),P("am-color-field",l,i("CUSTOM_CONSENT_COLOR_BORDER",r.text("customConsentColorBorder")));let d=p("div",["am-l-grid","am-l-grid--auto"],{style:"--min: 20rem;"},e.customizations);P("am-color-field",d,i("CUSTOM_CONSENT_BUTTON_PRIMARY_COLOR_TEXT",r.text("customConsentButtonPrimaryColorText"))),P("am-color-field",d,i("CUSTOM_CONSENT_BUTTON_PRIMARY_COLOR_BACKGROUND",r.text("customConsentButtonPrimaryColorBackground"))),P("am-color-field",d,i("CUSTOM_CONSENT_BUTTON_PRIMARY_COLOR_BORDER",r.text("customConsentButtonPrimaryColorBorder"))),P("am-color-field",d,i("CUSTOM_CONSENT_BUTTON_SECONDARY_COLOR_TEXT",r.text("customConsentButtonSecondaryColorText"))),P("am-color-field",d,i("CUSTOM_CONSENT_BUTTON_SECONDARY_COLOR_BACKGROUND",r.text("customConsentButtonSecondaryColorBackground"))),P("am-color-field",d,i("CUSTOM_CONSENT_BUTTON_SECONDARY_COLOR_BORDER",r.text("customConsentButtonSecondaryColorBorder"))),P("am-input-field",e.customizations,i("CUSTOM_CONSENT_PLACEHOLDER_TEXT",r.text("customConsentPlaceholderText")));let m=p("div",["am-l-grid","am-l-grid--auto"],{},e.customizations);P("am-color-field",m,i("CUSTOM_CONSENT_PLACEHOLDER_COLOR_TEXT",r.text("customConsentPlaceholderColorText"))),P("am-color-field",m,i("CUSTOM_CONSENT_PLACEHOLDER_COLOR_BACKGROUND",r.text("customConsentPlaceholderColorBackground"))),p("div",["am-u-display-last-none"],{},e.customizations,w`<hr /><p>${r.text("customizationTemplate")}</p>`)},Su=o=>{if(o)return`am-field__${o.replace(/\s+/g,"_")}`},Vt=o=>zt(o.replace("+","")).replace(/^Color /,"").replace(/^Checkbox /,"").replace(/^Number /,"").replace(/^Select /,""),_r=({section:o,fields:e,unused:t,tooltips:i,themeOptions:n,labels:a,renderEmptyAlert:l,shared:d})=>{if(Object.values(e).length==0&&l){p("am-alert",[],{"am-icon":"slash-circle","am-text":r.text("sectionHasNoFields")},o);return}let m=Es(!!d),f=(v,b=!1)=>{Object.keys(v).forEach(C=>{if(Object.values(r.reservedFields).includes(C)||C.startsWith(":"))return;let A="am-textarea-field",T="";for(let[x,_]of Object.entries(m))if(C.startsWith(x)){A=_;break}d&&(T=d[C]),P(A,o,{key:C,value:v[C],tooltip:i[C]??null,options:n[C]??null,label:a[C]??null,name:`data[${C}]`,placeholder:T,isUnused:b},[],{},["am-editor-field","am-markdown-field"].includes(A))})};f(e),f(t,!0)},xe=o=>{let e={};return re(Tt.selector,o).forEach(t=>{let i=t.getAttribute("type"),n=t.getAttribute("name"),a=["checkbox","radio"].includes(i);if((!a||t.checked)&&n){let l=a&&t.value==="1"?!0:t.value;typeof l=="string"&&(l=l.trim()),e[n]=l}}),e},Es=o=>({"+":"am-editor-field",checkbox:o?"am-toggle-select-field":"am-toggle-field",color:"am-color-field",date:"am-date-field",image:"am-image-field",number:"am-number-field",select:"am-select-field",text:"am-markdown-field",url:"am-url-field"}),si=o=>{let e={settings:{},text:{},customizations:{}};return Object.keys(o).forEach(t=>{switch(t.match(/^(\+|text|color|.)/)[1]){case"+":case"text":e.text[t]=o[t];break;case"color":e.customizations[t]=o[t];break;default:e.settings[t]=o[t]}}),e},$u=o=>Ne(o,"keydown",e=>{if(e.keyCode===9){e.preventDefault(),e.stopPropagation();let t=o.selectionStart,i=o.selectionEnd,n=o.value;o.value=`${n.substring(0,t)}	${n.substring(i)}`,o.selectionStart=t+1,o.selectionEnd=t+1}})});var Lu=no((Cs,As)=>{/*! @license DOMPurify 3.0.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.4/LICENSE */(function(o,e){typeof Cs=="object"&&typeof As<"u"?As.exports=e():typeof define=="function"&&define.amd?define(e):(o=typeof globalThis<"u"?globalThis:o||self,o.DOMPurify=e())})(Cs,(function(){"use strict";let{entries:o,setPrototypeOf:e,isFrozen:t,getPrototypeOf:i,getOwnPropertyDescriptor:n}=Object,{freeze:a,seal:l,create:d}=Object,{apply:m,construct:f}=typeof Reflect<"u"&&Reflect;m||(m=function(de,Oe,Ie){return de.apply(Oe,Ie)}),a||(a=function(de){return de}),l||(l=function(de){return de}),f||(f=function(de,Oe){return new de(...Oe)});let v=j(Array.prototype.forEach),b=j(Array.prototype.pop),C=j(Array.prototype.push),A=j(String.prototype.toLowerCase),T=j(String.prototype.toString),x=j(String.prototype.match),_=j(String.prototype.replace),L=j(String.prototype.indexOf),I=j(String.prototype.trim),H=j(RegExp.prototype.test),B=U(TypeError);function j(Le){return function(de){for(var Oe=arguments.length,Ie=new Array(Oe>1?Oe-1:0),it=1;it<Oe;it++)Ie[it-1]=arguments[it];return m(Le,de,Ie)}}function U(Le){return function(){for(var de=arguments.length,Oe=new Array(de),Ie=0;Ie<de;Ie++)Oe[Ie]=arguments[Ie];return f(Le,Oe)}}function V(Le,de,Oe){var Ie;Oe=(Ie=Oe)!==null&&Ie!==void 0?Ie:A,e&&e(Le,null);let it=de.length;for(;it--;){let Ot=de[it];if(typeof Ot=="string"){let Nt=Oe(Ot);Nt!==Ot&&(t(de)||(de[it]=Nt),Ot=Nt)}Le[Ot]=!0}return Le}function te(Le){let de=d(null);for(let[Oe,Ie]of o(Le))de[Oe]=Ie;return de}function O(Le,de){for(;Le!==null;){let Ie=n(Le,de);if(Ie){if(Ie.get)return j(Ie.get);if(typeof Ie.value=="function")return j(Ie.value)}Le=i(Le)}function Oe(Ie){return null}return Oe}let g=a(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E=a(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),s=a(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),c=a(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),u=a(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),h=a(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),k=a(["#text"]),$=a(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),M=a(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),D=a(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),q=a(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),W=l(/\{\{[\w\W]*|[\w\W]*\}\}/gm),se=l(/<%[\w\W]*|[\w\W]*%>/gm),le=l(/\${[\w\W]*}/gm),ce=l(/^data-[\-\w.\u00B7-\uFFFF]/),_e=l(/^aria-[\-\w]+$/),Ee=l(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Ce=l(/^(?:\w+script|data):/i),Te=l(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),qe=l(/^html$/i);var Me=Object.freeze({__proto__:null,MUSTACHE_EXPR:W,ERB_EXPR:se,TMPLIT_EXPR:le,DATA_ATTR:ce,ARIA_ATTR:_e,IS_ALLOWED_URI:Ee,IS_SCRIPT_OR_DATA:Ce,ATTR_WHITESPACE:Te,DOCTYPE_NAME:qe});let vt=()=>typeof window>"u"?null:window,et=function(de,Oe){if(typeof de!="object"||typeof de.createPolicy!="function")return null;let Ie=null,it="data-tt-policy-suffix";Oe&&Oe.hasAttribute(it)&&(Ie=Oe.getAttribute(it));let Ot="dompurify"+(Ie?"#"+Ie:"");try{return de.createPolicy(Ot,{createHTML(Nt){return Nt},createScriptURL(Nt){return Nt}})}catch{return null}};function ko(){let Le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:vt(),de=ie=>ko(ie);if(de.version="3.0.4",de.removed=[],!Le||!Le.document||Le.document.nodeType!==9)return de.isSupported=!1,de;let Oe=Le.document,Ie=Oe.currentScript,{document:it}=Le,{DocumentFragment:Ot,HTMLTemplateElement:Nt,Node:Aa,Element:Bc,NodeFilter:Sa,NamedNodeMap:nv=Le.NamedNodeMap||Le.MozNamedAttrMap,HTMLFormElement:rv,DOMParser:av,trustedTypes:Hi}=Le,Ui=Bc.prototype,sv=O(Ui,"cloneNode"),lv=O(Ui,"nextSibling"),cv=O(Ui,"childNodes"),$a=O(Ui,"parentNode");if(typeof Nt=="function"){let ie=it.createElement("template");ie.content&&ie.content.ownerDocument&&(it=ie.content.ownerDocument)}let pt,vi="",{implementation:Ma,createNodeIterator:dv,createDocumentFragment:mv,getElementsByTagName:pv}=it,{importNode:uv}=Oe,Bt={};de.isSupported=typeof o=="function"&&typeof $a=="function"&&Ma&&Ma.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:La,ERB_EXPR:Ia,TMPLIT_EXPR:Da,DATA_ATTR:fv,ARIA_ATTR:hv,IS_SCRIPT_OR_DATA:bv,ATTR_WHITESPACE:Rc}=Me,{IS_ALLOWED_URI:Pc}=Me,nt=null,Hc=V({},[...g,...E,...s,...u,...k]),rt=null,Uc=V({},[...$,...M,...D,...q]),We=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xi=null,za=null,jc=!0,Fa=!0,qc=!1,Gc=!0,Uo=!1,To=!1,Oa=!1,Na=!1,jo=!1,ji=!1,qi=!1,Vc=!0,Kc=!1,gv="user-content-",Ba=!0,yi=!1,qo={},Go=null,Wc=V({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Xc=null,Yc=V({},["audio","video","img","source","image","track"]),Ra=null,Jc=V({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Gi="http://www.w3.org/1998/Math/MathML",Vi="http://www.w3.org/2000/svg",Yt="http://www.w3.org/1999/xhtml",Vo=Yt,Pa=!1,Ha=null,vv=V({},[Gi,Vi,Yt],T),_o,xv=["application/xhtml+xml","text/html"],yv="text/html",at,Ko=null,wv=it.createElement("form"),Zc=function(z){return z instanceof RegExp||z instanceof Function},Ua=function(z){if(!(Ko&&Ko===z)){if((!z||typeof z!="object")&&(z={}),z=te(z),_o=xv.indexOf(z.PARSER_MEDIA_TYPE)===-1?_o=yv:_o=z.PARSER_MEDIA_TYPE,at=_o==="application/xhtml+xml"?T:A,nt="ALLOWED_TAGS"in z?V({},z.ALLOWED_TAGS,at):Hc,rt="ALLOWED_ATTR"in z?V({},z.ALLOWED_ATTR,at):Uc,Ha="ALLOWED_NAMESPACES"in z?V({},z.ALLOWED_NAMESPACES,T):vv,Ra="ADD_URI_SAFE_ATTR"in z?V(te(Jc),z.ADD_URI_SAFE_ATTR,at):Jc,Xc="ADD_DATA_URI_TAGS"in z?V(te(Yc),z.ADD_DATA_URI_TAGS,at):Yc,Go="FORBID_CONTENTS"in z?V({},z.FORBID_CONTENTS,at):Wc,xi="FORBID_TAGS"in z?V({},z.FORBID_TAGS,at):{},za="FORBID_ATTR"in z?V({},z.FORBID_ATTR,at):{},qo="USE_PROFILES"in z?z.USE_PROFILES:!1,jc=z.ALLOW_ARIA_ATTR!==!1,Fa=z.ALLOW_DATA_ATTR!==!1,qc=z.ALLOW_UNKNOWN_PROTOCOLS||!1,Gc=z.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Uo=z.SAFE_FOR_TEMPLATES||!1,To=z.WHOLE_DOCUMENT||!1,jo=z.RETURN_DOM||!1,ji=z.RETURN_DOM_FRAGMENT||!1,qi=z.RETURN_TRUSTED_TYPE||!1,Na=z.FORCE_BODY||!1,Vc=z.SANITIZE_DOM!==!1,Kc=z.SANITIZE_NAMED_PROPS||!1,Ba=z.KEEP_CONTENT!==!1,yi=z.IN_PLACE||!1,Pc=z.ALLOWED_URI_REGEXP||Ee,Vo=z.NAMESPACE||Yt,We=z.CUSTOM_ELEMENT_HANDLING||{},z.CUSTOM_ELEMENT_HANDLING&&Zc(z.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(We.tagNameCheck=z.CUSTOM_ELEMENT_HANDLING.tagNameCheck),z.CUSTOM_ELEMENT_HANDLING&&Zc(z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(We.attributeNameCheck=z.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),z.CUSTOM_ELEMENT_HANDLING&&typeof z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(We.allowCustomizedBuiltInElements=z.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Uo&&(Fa=!1),ji&&(jo=!0),qo&&(nt=V({},[...k]),rt=[],qo.html===!0&&(V(nt,g),V(rt,$)),qo.svg===!0&&(V(nt,E),V(rt,M),V(rt,q)),qo.svgFilters===!0&&(V(nt,s),V(rt,M),V(rt,q)),qo.mathMl===!0&&(V(nt,u),V(rt,D),V(rt,q))),z.ADD_TAGS&&(nt===Hc&&(nt=te(nt)),V(nt,z.ADD_TAGS,at)),z.ADD_ATTR&&(rt===Uc&&(rt=te(rt)),V(rt,z.ADD_ATTR,at)),z.ADD_URI_SAFE_ATTR&&V(Ra,z.ADD_URI_SAFE_ATTR,at),z.FORBID_CONTENTS&&(Go===Wc&&(Go=te(Go)),V(Go,z.FORBID_CONTENTS,at)),Ba&&(nt["#text"]=!0),To&&V(nt,["html","head","body"]),nt.table&&(V(nt,["tbody"]),delete xi.tbody),z.TRUSTED_TYPES_POLICY){if(typeof z.TRUSTED_TYPES_POLICY.createHTML!="function")throw B('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof z.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw B('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');pt=z.TRUSTED_TYPES_POLICY,vi=pt.createHTML("")}else pt===void 0&&(pt=et(Hi,Ie)),pt!==null&&typeof vi=="string"&&(vi=pt.createHTML(""));a&&a(z),Ko=z}},Qc=V({},["mi","mo","mn","ms","mtext"]),ed=V({},["foreignobject","desc","title","annotation-xml"]),kv=V({},["title","style","font","a","script"]),Ki=V({},E);V(Ki,s),V(Ki,c);let ja=V({},u);V(ja,h);let Tv=function(z){let K=$a(z);(!K||!K.tagName)&&(K={namespaceURI:Vo,tagName:"template"});let Q=A(z.tagName),De=A(K.tagName);return Ha[z.namespaceURI]?z.namespaceURI===Vi?K.namespaceURI===Yt?Q==="svg":K.namespaceURI===Gi?Q==="svg"&&(De==="annotation-xml"||Qc[De]):!!Ki[Q]:z.namespaceURI===Gi?K.namespaceURI===Yt?Q==="math":K.namespaceURI===Vi?Q==="math"&&ed[De]:!!ja[Q]:z.namespaceURI===Yt?K.namespaceURI===Vi&&!ed[De]||K.namespaceURI===Gi&&!Qc[De]?!1:!ja[Q]&&(kv[Q]||!Ki[Q]):!!(_o==="application/xhtml+xml"&&Ha[z.namespaceURI]):!1},Eo=function(z){C(de.removed,{element:z});try{z.parentNode.removeChild(z)}catch{z.remove()}},qa=function(z,K){try{C(de.removed,{attribute:K.getAttributeNode(z),from:K})}catch{C(de.removed,{attribute:null,from:K})}if(K.removeAttribute(z),z==="is"&&!rt[z])if(jo||ji)try{Eo(K)}catch{}else try{K.setAttribute(z,"")}catch{}},td=function(z){let K,Q;if(Na)z="<remove></remove>"+z;else{let _t=x(z,/^[\r\n\t ]+/);Q=_t&&_t[0]}_o==="application/xhtml+xml"&&Vo===Yt&&(z='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+z+"</body></html>");let De=pt?pt.createHTML(z):z;if(Vo===Yt)try{K=new av().parseFromString(De,_o)}catch{}if(!K||!K.documentElement){K=Ma.createDocument(Vo,"template",null);try{K.documentElement.innerHTML=Pa?vi:De}catch{}}let st=K.body||K.documentElement;return z&&Q&&st.insertBefore(it.createTextNode(Q),st.childNodes[0]||null),Vo===Yt?pv.call(K,To?"html":"body")[0]:To?K.documentElement:st},od=function(z){return dv.call(z.ownerDocument||z,z,Sa.SHOW_ELEMENT|Sa.SHOW_COMMENT|Sa.SHOW_TEXT,null,!1)},_v=function(z){return z instanceof rv&&(typeof z.nodeName!="string"||typeof z.textContent!="string"||typeof z.removeChild!="function"||!(z.attributes instanceof nv)||typeof z.removeAttribute!="function"||typeof z.setAttribute!="function"||typeof z.namespaceURI!="string"||typeof z.insertBefore!="function"||typeof z.hasChildNodes!="function")},Wi=function(z){return typeof Aa=="object"?z instanceof Aa:z&&typeof z=="object"&&typeof z.nodeType=="number"&&typeof z.nodeName=="string"},Jt=function(z,K,Q){Bt[z]&&v(Bt[z],De=>{De.call(de,K,Q,Ko)})},id=function(z){let K;if(Jt("beforeSanitizeElements",z,null),_v(z))return Eo(z),!0;let Q=at(z.nodeName);if(Jt("uponSanitizeElement",z,{tagName:Q,allowedTags:nt}),z.hasChildNodes()&&!Wi(z.firstElementChild)&&(!Wi(z.content)||!Wi(z.content.firstElementChild))&&H(/<[/\w]/g,z.innerHTML)&&H(/<[/\w]/g,z.textContent))return Eo(z),!0;if(!nt[Q]||xi[Q]){if(!xi[Q]&&rd(Q)&&(We.tagNameCheck instanceof RegExp&&H(We.tagNameCheck,Q)||We.tagNameCheck instanceof Function&&We.tagNameCheck(Q)))return!1;if(Ba&&!Go[Q]){let De=$a(z)||z.parentNode,st=cv(z)||z.childNodes;if(st&&De){let _t=st.length;for(let Ue=_t-1;Ue>=0;--Ue)De.insertBefore(sv(st[Ue],!0),lv(z))}}return Eo(z),!0}return z instanceof Bc&&!Tv(z)||(Q==="noscript"||Q==="noembed"||Q==="noframes")&&H(/<\/no(script|embed|frames)/i,z.innerHTML)?(Eo(z),!0):(Uo&&z.nodeType===3&&(K=z.textContent,K=_(K,La," "),K=_(K,Ia," "),K=_(K,Da," "),z.textContent!==K&&(C(de.removed,{element:z.cloneNode()}),z.textContent=K)),Jt("afterSanitizeElements",z,null),!1)},nd=function(z,K,Q){if(Vc&&(K==="id"||K==="name")&&(Q in it||Q in wv))return!1;if(!(Fa&&!za[K]&&H(fv,K))){if(!(jc&&H(hv,K))){if(!rt[K]||za[K]){if(!(rd(z)&&(We.tagNameCheck instanceof RegExp&&H(We.tagNameCheck,z)||We.tagNameCheck instanceof Function&&We.tagNameCheck(z))&&(We.attributeNameCheck instanceof RegExp&&H(We.attributeNameCheck,K)||We.attributeNameCheck instanceof Function&&We.attributeNameCheck(K))||K==="is"&&We.allowCustomizedBuiltInElements&&(We.tagNameCheck instanceof RegExp&&H(We.tagNameCheck,Q)||We.tagNameCheck instanceof Function&&We.tagNameCheck(Q))))return!1}else if(!Ra[K]){if(!H(Pc,_(Q,Rc,""))){if(!((K==="src"||K==="xlink:href"||K==="href")&&z!=="script"&&L(Q,"data:")===0&&Xc[z])){if(!(qc&&!H(bv,_(Q,Rc,"")))){if(Q)return!1}}}}}}return!0},rd=function(z){return z.indexOf("-")>0},ad=function(z){let K,Q,De,st;Jt("beforeSanitizeAttributes",z,null);let{attributes:_t}=z;if(!_t)return;let Ue={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:rt};for(st=_t.length;st--;){K=_t[st];let{name:Rt,namespaceURI:Ga}=K;if(Q=Rt==="value"?K.value:I(K.value),De=at(Rt),Ue.attrName=De,Ue.attrValue=Q,Ue.keepAttr=!0,Ue.forceKeepAttr=void 0,Jt("uponSanitizeAttribute",z,Ue),Q=Ue.attrValue,Ue.forceKeepAttr||(qa(Rt,z),!Ue.keepAttr))continue;if(!Gc&&H(/\/>/i,Q)){qa(Rt,z);continue}Uo&&(Q=_(Q,La," "),Q=_(Q,Ia," "),Q=_(Q,Da," "));let sd=at(z.nodeName);if(nd(sd,De,Q)){if(Kc&&(De==="id"||De==="name")&&(qa(Rt,z),Q=gv+Q),pt&&typeof Hi=="object"&&typeof Hi.getAttributeType=="function"&&!Ga)switch(Hi.getAttributeType(sd,De)){case"TrustedHTML":{Q=pt.createHTML(Q);break}case"TrustedScriptURL":{Q=pt.createScriptURL(Q);break}}try{Ga?z.setAttributeNS(Ga,Rt,Q):z.setAttribute(Rt,Q),b(de.removed)}catch{}}}Jt("afterSanitizeAttributes",z,null)},Ev=function ie(z){let K,Q=od(z);for(Jt("beforeSanitizeShadowDOM",z,null);K=Q.nextNode();)Jt("uponSanitizeShadowNode",K,null),!id(K)&&(K.content instanceof Ot&&ie(K.content),ad(K));Jt("afterSanitizeShadowDOM",z,null)};return de.sanitize=function(ie){let z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},K,Q,De,st;if(Pa=!ie,Pa&&(ie="<!-->"),typeof ie!="string"&&!Wi(ie))if(typeof ie.toString=="function"){if(ie=ie.toString(),typeof ie!="string")throw B("dirty is not a string, aborting")}else throw B("toString is not a function");if(!de.isSupported)return ie;if(Oa||Ua(z),de.removed=[],typeof ie=="string"&&(yi=!1),yi){if(ie.nodeName){let Rt=at(ie.nodeName);if(!nt[Rt]||xi[Rt])throw B("root node is forbidden and cannot be sanitized in-place")}}else if(ie instanceof Aa)K=td("<!---->"),Q=K.ownerDocument.importNode(ie,!0),Q.nodeType===1&&Q.nodeName==="BODY"||Q.nodeName==="HTML"?K=Q:K.appendChild(Q);else{if(!jo&&!Uo&&!To&&ie.indexOf("<")===-1)return pt&&qi?pt.createHTML(ie):ie;if(K=td(ie),!K)return jo?null:qi?vi:""}K&&Na&&Eo(K.firstChild);let _t=od(yi?ie:K);for(;De=_t.nextNode();)id(De)||(De.content instanceof Ot&&Ev(De.content),ad(De));if(yi)return ie;if(jo){if(ji)for(st=mv.call(K.ownerDocument);K.firstChild;)st.appendChild(K.firstChild);else st=K;return(rt.shadowroot||rt.shadowrootmode)&&(st=uv.call(Oe,st,!0)),st}let Ue=To?K.outerHTML:K.innerHTML;return To&&nt["!doctype"]&&K.ownerDocument&&K.ownerDocument.doctype&&K.ownerDocument.doctype.name&&H(qe,K.ownerDocument.doctype.name)&&(Ue="<!DOCTYPE "+K.ownerDocument.doctype.name+`>
`+Ue),Uo&&(Ue=_(Ue,La," "),Ue=_(Ue,Ia," "),Ue=_(Ue,Da," ")),pt&&qi?pt.createHTML(Ue):Ue},de.setConfig=function(ie){Ua(ie),Oa=!0},de.clearConfig=function(){Ko=null,Oa=!1},de.isValidAttribute=function(ie,z,K){Ko||Ua({});let Q=at(ie),De=at(z);return nd(Q,De,K)},de.addHook=function(ie,z){typeof z=="function"&&(Bt[ie]=Bt[ie]||[],C(Bt[ie],z))},de.removeHook=function(ie){if(Bt[ie])return b(Bt[ie])},de.removeHooks=function(ie){Bt[ie]&&(Bt[ie]=[])},de.removeAllHooks=function(){Bt={}},de}var iv=ko();return iv}))});var Iu,ey,w,Ss,Du=y(()=>{Iu=Mt(Lu(),1),ey={CUSTOM_ELEMENT_HANDLING:{tagNameCheck:/^(am|sortable)-/,attributeNameCheck:/^am-/,allowCustomizedBuiltInElements:!0},ADD_ATTR:["am-bind","am-bind-to","am-publication-state","am-tooltip","am-tooltip-options","am-toggle","target"],ADD_URI_SAFE_ATTR:["am-tooltip-options"],SANITIZE_DOM:!1},w=(o,...e)=>{let t=o.raw,i="";return e.forEach((n,a)=>{let l=t[a];l.endsWith("$")&&(n=Ss(n),l=l.slice(0,-1)),i+=l+n}),i+=t[t.length-1],Iu.default.sanitize(i,ey)},Ss=o=>{let e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","/":"&#8203;/&#8203;"};return o.toString().replace(/[&<>"'\/]/g,t=>e[t])}});var Je,$s,zu=y(()=>{S();Je=()=>new $s,$s=class{error(...e){}log(){}request(){}response(){}bindingInfo(){}bindingSuccess(){}}});var Ou=no((Fu,Er)=>{/*!
 * Toastify js 1.12.0
 * https://github.com/apvarun/toastify-js
 * @license MIT licensed
 *
 * Copyright (C) 2018 Varun A P
 */(function(o,e){typeof Er=="object"&&Er.exports?Er.exports=e():o.Toastify=e()})(Fu,function(o){var e=function(a){return new e.lib.init(a)},t="1.12.0";e.defaults={oldestFirst:!0,text:"Toastify is awesome!",node:void 0,duration:3e3,selector:void 0,callback:function(){},destination:void 0,newWindow:!1,close:!1,gravity:"toastify-top",positionLeft:!1,position:"",backgroundColor:"",avatar:"",className:"",stopOnFocus:!0,onClick:function(){},offset:{x:0,y:0},escapeMarkup:!0,ariaLive:"polite",style:{background:""}},e.lib=e.prototype={toastify:t,constructor:e,init:function(a){return a||(a={}),this.options={},this.toastElement=null,this.options.text=a.text||e.defaults.text,this.options.node=a.node||e.defaults.node,this.options.duration=a.duration===0?0:a.duration||e.defaults.duration,this.options.selector=a.selector||e.defaults.selector,this.options.callback=a.callback||e.defaults.callback,this.options.destination=a.destination||e.defaults.destination,this.options.newWindow=a.newWindow||e.defaults.newWindow,this.options.close=a.close||e.defaults.close,this.options.gravity=a.gravity==="bottom"?"toastify-bottom":e.defaults.gravity,this.options.positionLeft=a.positionLeft||e.defaults.positionLeft,this.options.position=a.position||e.defaults.position,this.options.backgroundColor=a.backgroundColor||e.defaults.backgroundColor,this.options.avatar=a.avatar||e.defaults.avatar,this.options.className=a.className||e.defaults.className,this.options.stopOnFocus=a.stopOnFocus===void 0?e.defaults.stopOnFocus:a.stopOnFocus,this.options.onClick=a.onClick||e.defaults.onClick,this.options.offset=a.offset||e.defaults.offset,this.options.escapeMarkup=a.escapeMarkup!==void 0?a.escapeMarkup:e.defaults.escapeMarkup,this.options.ariaLive=a.ariaLive||e.defaults.ariaLive,this.options.style=a.style||e.defaults.style,a.backgroundColor&&(this.options.style.background=a.backgroundColor),this},buildToast:function(){if(!this.options)throw"Toastify is not initialized";var a=document.createElement("div");a.className="toastify on "+this.options.className,this.options.position?a.className+=" toastify-"+this.options.position:this.options.positionLeft===!0?a.className+=" toastify-left":a.className+=" toastify-right",a.className+=" "+this.options.gravity,this.options.backgroundColor;for(var l in this.options.style)a.style[l]=this.options.style[l];if(this.options.ariaLive&&a.setAttribute("aria-live",this.options.ariaLive),this.options.node&&this.options.node.nodeType===Node.ELEMENT_NODE)a.appendChild(this.options.node);else if(this.options.escapeMarkup?a.innerText=this.options.text:a.innerHTML=this.options.text,this.options.avatar!==""){var d=document.createElement("img");d.src=this.options.avatar,d.className="toastify-avatar",this.options.position=="left"||this.options.positionLeft===!0?a.appendChild(d):a.insertAdjacentElement("afterbegin",d)}if(this.options.close===!0){var m=document.createElement("button");m.type="button",m.setAttribute("aria-label","Close"),m.className="toast-close",m.innerHTML="&#10006;",m.addEventListener("click",function(x){x.stopPropagation(),this.removeElement(this.toastElement),window.clearTimeout(this.toastElement.timeOutValue)}.bind(this));var f=window.innerWidth>0?window.innerWidth:screen.width;(this.options.position=="left"||this.options.positionLeft===!0)&&f>360?a.insertAdjacentElement("afterbegin",m):a.appendChild(m)}if(this.options.stopOnFocus&&this.options.duration>0){var v=this;a.addEventListener("mouseover",function(x){window.clearTimeout(a.timeOutValue)}),a.addEventListener("mouseleave",function(){a.timeOutValue=window.setTimeout(function(){v.removeElement(a)},v.options.duration)})}if(typeof this.options.destination<"u"&&a.addEventListener("click",function(x){x.stopPropagation(),this.options.newWindow===!0?window.open(this.options.destination,"_blank"):window.location=this.options.destination}.bind(this)),typeof this.options.onClick=="function"&&typeof this.options.destination>"u"&&a.addEventListener("click",function(x){x.stopPropagation(),this.options.onClick()}.bind(this)),typeof this.options.offset=="object"){var b=i("x",this.options),C=i("y",this.options),A=this.options.position=="left"?b:"-"+b,T=this.options.gravity=="toastify-top"?C:"-"+C;a.style.transform="translate("+A+","+T+")"}return a},showToast:function(){this.toastElement=this.buildToast();var a;if(typeof this.options.selector=="string"?a=document.getElementById(this.options.selector):this.options.selector instanceof HTMLElement||typeof ShadowRoot<"u"&&this.options.selector instanceof ShadowRoot?a=this.options.selector:a=document.body,!a)throw"Root element is not defined";var l=e.defaults.oldestFirst?a.firstChild:a.lastChild;return a.insertBefore(this.toastElement,l),e.reposition(),this.options.duration>0&&(this.toastElement.timeOutValue=window.setTimeout(function(){this.removeElement(this.toastElement)}.bind(this),this.options.duration)),this},hideToast:function(){this.toastElement.timeOutValue&&clearTimeout(this.toastElement.timeOutValue),this.removeElement(this.toastElement)},removeElement:function(a){a.className=a.className.replace(" on",""),window.setTimeout(function(){this.options.node&&this.options.node.parentNode&&this.options.node.parentNode.removeChild(this.options.node),a.parentNode&&a.parentNode.removeChild(a),this.options.callback.call(a),e.reposition()}.bind(this),400)}},e.reposition=function(){for(var a={top:15,bottom:15},l={top:15,bottom:15},d={top:15,bottom:15},m=document.getElementsByClassName("toastify"),f,v=0;v<m.length;v++){n(m[v],"toastify-top")===!0?f="toastify-top":f="toastify-bottom";var b=m[v].offsetHeight;f=f.substr(9,f.length-1);var C=15,A=window.innerWidth>0?window.innerWidth:screen.width;A<=360?(m[v].style[f]=d[f]+"px",d[f]+=b+C):n(m[v],"toastify-left")===!0?(m[v].style[f]=a[f]+"px",a[f]+=b+C):(m[v].style[f]=l[f]+"px",l[f]+=b+C)}return this};function i(a,l){return l.offset[a]?isNaN(l.offset[a])?l.offset[a]:l.offset[a]+"px":"0px"}function n(a,l){return!a||typeof l!="string"?!1:!!(a.className&&a.className.trim().split(/\s+/gi).indexOf(l)>-1)}return e.lib.init.prototype=e.lib,e})});var Nu,ty,Bu,ot,gt,Ru=y(()=>{Nu=Mt(Ou(),1);S();ty={close:!1,gravity:"top",position:"right",stopOnFocus:!0,escapeMarkup:!1,destination:null},Bu=({message:o,icon:e,duration:t,className:i})=>{let n=R("html.am-ui > body, body .am-ui"),a=p("div",["am-c-notify__node"],{});p("i",["am-c-notify__icon","bi",`bi-${e}`],{},a),p("span",["am-c-notify__text"],{},a).innerHTML=o,p("span",["am-c-notify__close"],{},a);let l=(0,Nu.default)(Object.assign(ty,{node:a,duration:t,className:i??"am-c-notify",selector:n,onClick:function(){l.hideToast()}}));l.showToast()},ot=o=>{Bu({message:o,duration:-1,icon:"x-circle",className:"am-c-notify am-c-notify--danger"})},gt=(o,e=3e3)=>{Bu({message:o,duration:e,icon:"check-circle"})}});var Ms,iy,ny,ry,ue,Cr,fo,Pu=y(()=>{S();Ms=()=>R('meta[name="csrf"]').content||"",iy=(o,e,t)=>{let n=e.split(/(\[[^\[\]]*\])/g).filter(l=>l).map(l=>l.replace(/[\[\]]/g,"")),a=o;n.forEach((l,d)=>{let m=l||Object.keys(a).length||0;n.length===d+1?typeof t=="string"?t.length&&(a[m]=t):a[m]=t:(a[m]=a[m]||{},a=a[m])})},ny=o=>{let e={};return Object.keys(o).forEach(t=>{iy(e,t,o[t])}),e},ry=async(o,e=null,t=null)=>{let i={method:"GET",signal:t};if(e!==null){let n=new FormData;n.append("__csrf__",Ms()),n.append("__json__",JSON.stringify(e)),i.method="POST",i.body=n,i.headers={}}return fetch(o,i)},ue=async(o,e=null,t=!0,i=null,n=!1)=>{if(!t)for(;!fo.idle;)await Cr();fo.add();let a=e?.formData||e,l;a&&(a=ny(a));let d=new AbortController,m=Ne(window,"AutomadBeforeUpdateView",()=>{n&&d.abort(),m.remove()}),f=Xi(o);try{l=await(await ry(`${r.apiURL}/${f}`,a,d.signal)).json(),typeof i=="function"&&i.apply(void 0,[l])}catch(b){b.message.includes("aborted")||ot(`${r.text("fetchingDataError")} (${f})`),l={code:500,time:0}}m.remove(),fo.remove();let v=Je();return v.request(o,a),v.response(o,l),typeof l.exception<"u"&&(ot(l.exception.message),v.error(o,l.exception)),l},Cr=async()=>new Promise((o,e)=>{let t=()=>{fo.idle&&(o(!0),window.removeEventListener(fo.EVENT_NAME,t))};window.addEventListener(fo.EVENT_NAME,t),t()}),fo=class{static EVENT_NAME="AutomadPendingRequestsChange";static count=0;static get idle(){return this.count<=0}static toggleCursor(){r.root?.classList.toggle("am-c-root--loading",!this.idle)}static add(){R("am-spinner")||p("am-spinner",[],{},document.body),this.count++,this.toggleCursor(),X(this.EVENT_NAME)}static remove(){let e=R("am-spinner");setTimeout(()=>{this.count--,this.toggleCursor(),this.idle&&e&&e.remove(),X(this.EVENT_NAME)},0)}}});var ri,ay,Hu,Be,Uu=y(()=>{S();ri=()=>{let o=new RegExp(`^${r.dashboardURL}/`,"i");return window.location.pathname.replace(o,"")},ay=o=>o&&o in Se,Hu=()=>{let o=ri();if(ay(o))return o;window.location.href=`${r.dashboardURL}/home`},Be=o=>`am-${o}`});var Et,ju=y(()=>{S();Et=class o{static instance=null;static getInstance(){return o.instance||(o.instance=new o,Je().log("Created new State instance")),o.instance}_root=null;_data=null;get root(){return this._root}get data(){return this._data}constructor(){}bootstrap(e,t){this._root=e,this._data=t}update(e){this._data=Object.assign({},this._data,e),X("AutomadAppStateChange")}get(e){return this._data[e]}set(e,t){this._data[e]=t}}});var Ls,qu,li,Gu,zi,Is=y(()=>{S();Ls=(i=>(i.light="light",i.lowContrast="low-contrast",i.dark="dark",i))(Ls||{}),qu="am-dashboard-theme",li=()=>{let o=localStorage.getItem(qu);if(o)return o;if(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches)return"dark"},Gu=o=>{localStorage.setItem(qu,o),zi(o),X("AutomadDashboardThemeChange")},zi=o=>{let e=R(".am-ui");Object.values(Ls).forEach(t=>{e.classList.toggle(t,o===t)})}});var Vu,Ku=y(()=>{S();Vu=o=>{re("input[am-toggle]",o).forEach(t=>{let i=re(t.getAttribute("am-toggle")),n=()=>{i.forEach(a=>{a.classList.toggle("am-u-display-none",!t.checked)})};r.root.listen(t,"change AutomadChangeByBinding",n),n()})}});var zs=no((Ar,Ds)=>{/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(o,e){typeof Ar=="object"&&typeof Ds=="object"?Ds.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Ar=="object"?Ar.Tooltip=e():o.Tooltip=e()})(window,(function(){return(function(o){var e={};function t(i){if(e[i])return e[i].exports;var n=e[i]={i,l:!1,exports:{}};return o[i].call(n.exports,n,n.exports,t),n.l=!0,n.exports}return t.m=o,t.c=e,t.d=function(i,n,a){t.o(i,n)||Object.defineProperty(i,n,{enumerable:!0,get:a})},t.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},t.t=function(i,n){if(1&n&&(i=t(i)),8&n||4&n&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&n&&typeof i!="string")for(var l in i)t.d(a,l,function(d){return i[d]}.bind(null,l));return a},t.n=function(i){var n=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(n,"a",n),n},t.o=function(i,n){return Object.prototype.hasOwnProperty.call(i,n)},t.p="",t(t.s=0)})([function(o,e,t){o.exports=t(1)},function(o,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return i}));class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,d){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);let m=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},d);if(m.hidingDelay&&(this.hidingDelay=m.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of \xABcontent\xBB passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),m.placement){case"top":this.placeTop(a,m);break;case"left":this.placeLeft(a,m);break;case"right":this.placeRight(a,m);break;case"bottom":default:this.placeBottom(a,m)}m&&m.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},m.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,d){a.addEventListener("mouseenter",()=>{this.show(a,l,d)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){let a="codex-tooltips-style";if(document.getElementById(a))return;let l=t(2),d=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,d)}placeBottom(a,l){let d=a.getBoundingClientRect(),m=d.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,f=d.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",m,f)}placeTop(a,l){let d=a.getBoundingClientRect(),m=d.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,f=d.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",m,f)}placeLeft(a,l){let d=a.getBoundingClientRect(),m=d.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,f=d.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",m,f)}placeRight(a,l){let d=a.getBoundingClientRect(),m=d.right+this.offsetRight+l.marginRight,f=d.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",m,f)}applyPlacement(a,l,d){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=d+"px"}make(a,l=null,d={}){let m=document.createElement(a);Array.isArray(l)?m.classList.add(...l):l&&m.classList.add(l);for(let f in d)d.hasOwnProperty(f)&&(m[f]=d[f]);return m}append(a,l){Array.isArray(l)?l.forEach(d=>a.appendChild(d)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(d=>a.prepend(d)):a.prepend(l)}}},function(o,e){o.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default}))});var Wu,sy,Xu,Yu=y(()=>{S();Wu=Mt(zs(),1),sy=o=>{let e=o.getAttribute("am-tooltip-options")||"",t={};return e&&e.split(",").forEach(n=>{let[a,l]=n.split(":");isNaN(parseInt(l))?t[a.trim()]=l.trim():t[a.trim()]=parseInt(l)}),t},Xu=()=>{re(".ct").forEach(t=>{t.remove()});let o=R(".am-ui"),e=new Wu.default;r.root.listen(o,"mouseover",t=>{let i=t.path||t.composedPath&&t.composedPath(),n=null;if(i.forEach(a=>{try{a.matches("[am-tooltip]")&&(n=a)}catch{}}),n){let a=Object.assign({placement:"bottom",delay:150,hidingDelay:100},sy(n)),l=n.getAttribute("am-tooltip");l&&e.show(n,p("span",[],{},null,l),a);return}e.hide()})}});var lt,Fi,Fs,Ju=y(()=>{S();lt=class o{static undoStack;static redoStack;static get size(){return{undo:o.undoStack.length,redo:o.redoStack.length}}static undoHandler(){let e=o.undoStack.pop();e&&(e.undo(),o.redoStack.push(e))}static redoHandler(){let e=o.redoStack.pop();e&&(e.redo(),o.undoStack.push(e))}static addListeners(){r.root.addListener(Fo("z",o.undoHandler)),r.root.addListener(Fo("y",o.redoHandler))}static new(){o.undoStack=new Fi,o.redoStack=new Fi,X("AutomadUndoStackUpdate")}static addEntry(e){o.redoStack=new Fi,o.undoStack.push(e)}static attach(e){setTimeout(()=>{new Fs(e)},0)}},Fi=class o{static LIMIT=50;_stack;get length(){return this._stack.length}constructor(){this._stack=[]}push(e){this._stack.push(e),this._stack=this._stack.slice(-o.LIMIT),X("AutomadUndoStackUpdate")}pop(){let e=this._stack.pop();return X("AutomadUndoStackUpdate"),e}},Fs=class{undoState;ignoreEventFeedback=!1;constructor(e){let t=()=>{this.ignoreEventFeedback=!0,X("change",e.getValueProvider())},i=ke(()=>{if(this.ignoreEventFeedback){this.ignoreEventFeedback=!1;return}let n=e.query(),a=this.undoState;JSON.stringify(n)!==JSON.stringify(a)&&(lt.addEntry({undo:()=>{e.mutate(a),t()},redo:()=>{e.mutate(n),t()}}),this.undoState=n)},500);this.undoState=e.query(),r.root.listen(e.getValueProvider(),"change input",i.bind(this))}}});var Ka,fe,Ct,Pn,Dt,Sr,wi,Zu=y(()=>{S();Ka=o=>{let e=new URL(window.location.href);e.searchParams.delete(o),window.history.replaceState(null,null,e)},fe=()=>Ct("url")||Ct("context"),Ct=o=>new URLSearchParams(window.location.search).get(o)||"",Pn=(o,e=250,t=250)=>{if(!o)return"";let i=encodeURIComponent(Dt(o));return`${r.baseIndex}/_resize?url=${i}&w=${e}&h=${t}`},Dt=o=>{if(!o)return"";if(o.match(/^\//))return`${r.baseURL}${o}`;if(o.match(/:\/\//g))return o;let e=fe();if(e){let t=r.pages[e];if(t)return`${r.baseURL}/pages${t.path}${o}`}return""},Sr=o=>{if(o)return o.match(/^\//)?`${r.baseIndex}${o}`:o},wi=(o,e)=>{let t=new URL(window.location.href);t.searchParams.set(o,e),window.history.replaceState(null,null,t)}});var ly,Jo,St,Ts,Os,xt,$r,Qu,Fo,Oo,zt,Z,ef=y(()=>{S();es();ly=o=>o.split("/").reverse()[0],Jo=o=>`${zt(ly(o).replace(".php",""))} &mdash; ${Os(Os(Os(o))).replace(/^\//,"")}`,St=async o=>{let e=p("am-modal",[],{"am-destroy":"","am-no-click":"","am-no-esc":"",style:"z-index: 2000;"},xt());return e.innerHTML=w`<am-modal-dialog><am-modal-body>${o}</am-modal-body><am-modal-footer><am-modal-close class="${"am-e-button"}"> ${r.text("cancel")}</am-modal-close><am-modal-close ${"am-confirm"} class="${"am-e-button"} ${"am-e-button--primary"}" > ${r.text("ok")}</am-modal-close></am-modal-footer></am-modal-dialog>`,setTimeout(()=>{e.open()},0),new Promise((t,i)=>{let n=a=>{let l=!1;e.close(),e=null;try{let d=a.target;l=d.matches("[am-confirm]")||d.closest("[am-confirm]")!=null}catch{}t(l)};e.listen(e,"click",n,"am-modal-close")})},Ts=o=>{let e=o.match(/(\d+)/g),t=parseInt(e[0]).toString(16),i=parseInt(e[1]).toString(16),n=parseInt(e[2]).toString(16);return t=t.length===1?"0"+t:t,i=i.length===1?"0"+i:i,n=n.length===1?"0"+n:n,"#"+t+i+n},Os=o=>o.replace(/\/[^\/]+$/,""),xt=()=>R("body .am-ui, .am-ui body"),$r=()=>navigator.userAgent.toLowerCase().indexOf("mac")!=-1?"\u2318":"Ctrl",Qu=o=>{let e=new RegExp(`/${o}$`,"i");return window.location.pathname.match(e)!=null},Fo=(o,e)=>Ne(window,"keydown",t=>{if(t.ctrlKey||t.metaKey){let i=String.fromCharCode(t.which).toLowerCase();if(o==i){t.preventDefault(),e.apply(t.target,[t]);return}}}),Oo=o=>{document.title=`${o} \u2014 Automad`},zt=o=>o.replace(/\//g," / ").replace(/(?!^)([A-Z]+)/g," $1").replace(/_/g," ").split(" ").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),Z=()=>{let o=Qa("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",2),e=Qa("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",30);return`${o()}${e()}`}});var S=y(()=>{Xe();Wa();hd();bd();gd();kd();Au();Mu();Du();zu();Ru();Pu();Uu();ju();Is();Ku();Yu();Ju();Zu();ef()});var ci,Ns=y(()=>{S();Y();ci=class extends F{connectedCallback(){this.classList.add("am-l-dashboard__section","am-l-dashboard__section--breadcrumbs"),this.listen(window,"scroll",()=>{this.classList.toggle("am-l-dashboard__section--breadcrumbs-hidden",window.scrollY>40)})}}});var cy={};var Bs,tf=y(()=>{S();Ns();Bs=class extends ci{constructor(){super();let e=p("div",["am-c-breadcrumbs"],{},p("div",["am-l-dashboard__content"],{},this));p("am-link",["am-c-breadcrumbs__item"],{"am-target":"home"},e,r.text("dashboardTitle")),this.init(e)}connectedCallback(){super.connectedCallback()}async init(e){let t=fe(),i=await ue("PageController::breadcrumbs",{url:t});this.render(e,i.data)}render(e,t){t&&t.forEach((i,n)=>{let a=`page?url=${encodeURIComponent(i.url)}`,l=p("am-link",["am-c-breadcrumbs__item"],{"am-target":a},e);n==t.length-1?l.innerHTML=w`<span ${"am-bind"}="title"> $${i.title}</span>`:l.textContent=i.title})}};customElements.define("am-breadcrumbs-page",Bs)});var dy={};var Rs,of=y(()=>{S();Ns();Rs=class extends ci{static get observedAttributes(){return["am-target","am-text","am-icon"]}connectedCallback(){super.connectedCallback();let e=this.hasAttribute("am-narrow");this.innerHTML=w`<div class="${"am-l-dashboard__content"} ${e?"am-l-dashboard__content--narrow":""}" ><div class="${"am-c-breadcrumbs"}"><am-link class="${"am-c-breadcrumbs__item"}" ${"am-target"}="${"home"}" ><span>${r.text("dashboardTitle")}</span></am-link><am-link class="${"am-c-breadcrumbs__item"}" ${"am-target"}="${this.elementAttributes["am-target"]}" ><span>${this.elementAttributes["am-text"]}</span></am-link></div></div>`}};customElements.define("am-breadcrumbs-route",Rs)});var we,Ye=y(()=>{S();Y();we=class extends F{get isSpellchecked(){return this.hasAttribute("spellcheck")}linkLabel=!0;_data;get input(){return R("[name]",this)}set data({key:e,value:t,name:i,id:n,tooltip:a,options:l,label:d,placeholder:m,isInPage:f,isUnused:v}){n=n??Su(e),t=typeof t>"u"?"":t,a=Ss(a||""),d=d||Vt(e),m=m||"",f=f??!1,this._data={name:i,id:n,label:d,value:t,tooltip:a,options:l,placeholder:m,isInPage:f,isUnused:v},this.create()}connectedCallback(){this.classList.add("am-c-field")}getValueProvider(){return this.input}mutate(e){this.input.value=e}query(){return this.input.value}create(){this.createLabel(),this.createInput(),this.applyAttributes(),lt.attach(this)}createLabel(){let{label:e,tooltip:t,isInPage:i,isUnused:n}=this._data;if(i||!e)return;let a={};this.linkLabel&&(a.for=this._data.id);let l=p("div",[],{},this),d=p("label",["am-c-field__label"],a,l);if(p("span",[],{},d).innerHTML=n?w`${e}  ${r.text("unusedField")}`:e,t&&(p("i",["bi","bi-lightbulb"],{},d),d.setAttribute("am-tooltip",t)),n){let m=p("a",["am-u-cursor-pointer"],{"am-tooltip":r.text("unusedFieldRemove")},d,"\u2297");this.listen(m,"click",()=>{this.mutate(""),X("change",this.getValueProvider()),this.remove()})}}applyAttributes(){re("input, textarea",this).forEach(e=>{this.hasAttribute("required")&&(e.setAttribute("pattern",".*\\S.*"),e.setAttribute("required",""),this.removeAttribute("required"),this.hasAttribute("am-error")||this.setAttribute("am-error",r.text("requiredField"))),e.setAttribute("spellcheck",this.isSpellchecked?"true":"false"),["am-bind","am-bind-to","am-toggle","disabled","pattern"].forEach(t=>{this.hasAttribute(t)&&(e.setAttribute(t,this.getAttribute(t)),this.removeAttribute(t))})})}}});var my={};var Ps,nf=y(()=>{S();ki();Ye();Ps=class extends we{value="";editor;getLanguageFromName=e=>{let t=e.replace(/\W+/g,"");return t.match(/html/i)?"html":t.match(/js/i)?"javascript":"css"};createInput(){let{name:e,id:t,value:i,placeholder:n}=this._data;this.setAttribute("name",e),this.value=i,this.editor=new Pt({element:p("div",["am-f-codeflask"],{id:t},this),code:i,language:this.getLanguageFromName(e),onChange:a=>this.value=a,placeholder:n})}getValueProvider(){return this}async mutate(e){this.editor.codeFlask.updateCode(e),this.value=e}query(){return this.value}};Tt.add("am-code-field");customElements.define("am-code-field",Ps)});var rf={};ae(rf,{ColorFieldComponent:()=>Lr});var Lr,af=y(()=>{S();Ye();Lr=class extends we{createInput(){let{name:e,id:t,value:i}=this._data,n=p("div",["am-f-input-combo"],{},this),a=p("input",["am-f-input","am-u-text-mono"],{id:t,name:e,value:i,type:"text"},n),l=p("input",[],{type:"color",value:i},p("span",["am-f-input-combo__color"],{},n));this.listen(l,"change",()=>{a.value=l.value,X("change",a)}),this.listen(a,"keyup change",()=>{l.value=a.value})}};customElements.define("am-color-field",Lr)});var py={};var Hs,sf=y(()=>{S();Ye();Hs=class extends we{createInput(){let{name:e,id:t,value:i,placeholder:n}=this._data,a=i.match(/[\d-]+T\d\d:\d\d/)?.[0]??"";p("input",["am-f-input"],{id:t,name:e,value:a,type:"datetime-local",placeholder:n},this)}};customElements.define("am-date-field",Hs)});var lf={};ae(lf,{EditorFieldComponent:()=>Ir});var Ir,cf=y(()=>{S();Ye();os();$o();Ir=class extends we{editorJS;linkLabel=!1;value;createInput(){let{name:e,id:t,value:i}=this._data;this.setAttribute("name",e),this.value=i;let n=p("div",[],{id:t},this);p("am-alert",["am-u-display-small"],{"am-icon":"window","am-text":"editorSmallDisplayAlert"},n),this.editorJS=Xo(n,{blocks:this.value.blocks},{onChange:async a=>{let{blocks:l}=await a.saver.save(),d=l?.map(f=>(f.tunes=an(f.tunes??{}),f))||[],m=JSON.stringify(d);JSON.stringify(this.value.blocks)!==m&&(this.value={blocks:JSON.parse(m)},X("input",this))}},!1),this.attachToolbarPositionObservers(),this.attachPopupHeightObservers()}getValueProvider(){return this}async mutate(e){this.value=e,e.blocks?.length>0?await this.editorJS.editor.render(e):this.editorJS.editor.clear(),this.editorJS.onRender()}query(){return this.value}attachPopupHeightObservers(){this.addListener(Xa(this,e=>{let t=e.target;if(!t.classList.contains("codex-editor"))return;if(!t.classList.contains("codex-editor--toolbox-opened")){this.style.removeProperty("min-height");return}let i=R(".ce-popover--opened",t);setTimeout(()=>{let n=i.getBoundingClientRect(),a=this.getBoundingClientRect(),l=n.top-a.top+n.height;this.style.minHeight=`${l}px`},0)})),this.addListener(Xa(this,e=>{let t=e.target;if(t.classList.contains("ce-popover")&&t.closest(".ce-settings")){if(!t.classList.contains("ce-popover--opened")){this.style.removeProperty("min-height");return}setTimeout(()=>{let i=t.getBoundingClientRect(),n=this.getBoundingClientRect(),a=i.top-n.top+i.height;this.style.minHeight=`${a}px`},0)}}))}attachToolbarPositionObservers(){this.listen(this,"keydown",e=>{if(e.key!="/")return;let i=e.target.closest(".ce-block");Mo.updateToolbarPosition(i)}),this.listen(this,"mouseover",ke(e=>{e.stopPropagation();let i=e.target.closest(".ce-block");Mo.updateToolbarPosition(i)},10),".ce-block")}};Tt.add("am-editor-field");customElements.define("am-editor-field",Ir)});var df={};ae(df,{InputFieldComponent:()=>ho});var ho,Dr=y(()=>{S();Ye();ho=class extends we{get inputType(){return"text"}createInput(){let{name:e,id:t,value:i,placeholder:n}=this._data;p("input",["am-f-input"],{id:t,name:e,value:i,type:this.inputType,placeholder:n},this)}};customElements.define("am-input-field",ho)});var uy={};var Us,mf=y(()=>{S();Dr();Us=class extends ho{get inputType(){return"email"}};customElements.define("am-email-field",Us)});var fy={};var js,qs,pf=y(()=>{Bn();S();Ye();js={group:"feedFields",direction:"vertical",animation:200,dataIdAttr:"data-field",draggable:".am-c-feed-field-select__item",handle:".am-c-feed-field-select__item",ghostClass:"am-c-feed-field-select__item--ghost",chosenClass:"am-c-feed-field-select__item--chosen",dragClass:"am-c-feed-field-select__item--drag"},qs=class extends we{connectedCallback(){super.connectedCallback(),setTimeout(()=>{this.init(),this.listen(this.input,"change AutomadChangeByBinding",this.init.bind(this))},0)}createLabel(){}createInput(){let{name:e,value:t}=this._data;p("input",[],{type:"hidden",name:e,value:t},this)}init(){let e=R("section",this);e&&e.remove(),e=p("section",[],{},this);let t=JSON.parse(this.input.value||"[]"),i=r.contentFields.filter(d=>!t.includes(d)),n=this.createSortable(t,r.text("systemRssFeedFieldsInfoUsed"),[],e);p("div",["am-c-feed-field-select__arrows"],{},e,'<i class="bi bi-arrow-down-up"></i>');let a=this.createSortable(i,r.text("systemRssFeedFieldsInfoUnused"),["am-c-feed-field-select--muted"],e),l=new zo(n,Object.assign({},js,{onSort:d=>{this.input.value=JSON.stringify(l.toArray()),X("input",this.input)}}));new zo(a,js)}createSortable(e,t,i,n){let a=p("div",[].concat(i,["am-c-feed-field-select"]),{"data-text":t},n);return e.forEach(l=>{let d=p("div",["am-c-feed-field-select__item"],{[js.dataIdAttr]:l},a);d.innerHTML=w`<span>${Vt(l)}</span><i class="bi bi-grip-vertical"></i>`}),a}};customElements.define("am-feed-field-select-field",qs)});var hy={};var Gs,uf=y(()=>{S();jn();Ye();Gs=class extends we{createInput(){let{name:e,id:t,value:i,placeholder:n}=this._data,a=p("span",["am-c-image-select"],{},this),l=p("input",["am-f-input"],{id:t,name:e,type:"text",placeholder:n,value:i}),d=this.createPreview(a,l,t),m=p("div",["am-c-image-select__combo"],{},a);m.appendChild(l);let f=this.createModalButton(m),v=()=>{mo(b=>{l.value=b,X("change",l)},this._data.label,l.value)};this.listen(f,"click",v.bind(this)),this.listen(d,"click",v.bind(this))}createPreview(e,t,i){let n=`imageSelectComponent_preview_${i}`;return new ve(n,{input:t,modifier:a=>Pn(a.split("?")[0])}),p(po.TAG_NAME,["am-c-image-select__preview"],{"am-bind":n,"am-bind-to":"src"},e)}createModalButton(e){return p("button",["am-e-button"],{},e,w`<i class="bi bi-folder"></i><span>${r.text("browseFiles")}</span>`)}};customElements.define("am-image-field",Gs)});var by={};var Vs,ff=y(()=>{S();Lt();Ye();Vs=class extends we{createInput(){let{name:e,id:t,value:i,label:n}=this._data,a=Object.values(r.themes),l=r.themes[i]??Object.values(r.themes)[0],d=[];a.forEach(b=>{d.push({text:b.name,value:b.path})});let m=Z(),f=p(ze.TAG_NAME,[],{id:m},this,w`<am-modal-dialog><am-modal-header>${n}</am-modal-header><am-modal-body></am-modal-body></am-modal-dialog>`);be(d,l.path,R("am-modal-body",f),e,t,'<i class="bi bi-box-seam"></i>'),p("am-modal-toggle",["am-f-input","am-u-flex","am-u-flex--align-center","am-u-flex--gap","am-u-cursor-pointer"],{"am-modal":`#${m}`},this,`<i class="bi bi-box-seam"></i>${l.name}`);let v=p("div",["am-u-flex","am-u-flex--column"],{},this);p("am-icon-text",[],{"am-icon":"file-earmark-text","am-text":r.text("themeReadme")},p("a",[],{href:l.readme,target:"_blank"},v)),p("am-icon-text",[],{"am-icon":"cloud-download","am-text":r.text("moreThemes")},p("am-link",["am-u-text-link"],{"am-target":"packages"},v))}};customElements.define("am-main-theme-field",Vs)});var yy={};import{Editor as hf,codeSyntaxHighlight as gy}from"../vendor/toastui-fcd269de.js";var vy,xy,Ks,bf=y(()=>{S();Ye();tn();vy={image(o,e){let{origin:t,entering:i}=e,n=t();return i&&(n.attributes={src:Dt(o.destination)}),n},link(o,e){let{origin:t,entering:i}=e,n=t();return i&&(n.attributes={href:Sr(o.destination),target:"_blank"}),n}},xy=()=>{hf.setLanguage("en-US",{Write:r.text("write"),Preview:r.text("preview"),Headings:r.text("headings"),Heading:r.text("heading"),Paragraph:r.text("paragraph"),Strike:r.text("strikeThrough"),Bold:r.text("bold"),Italic:r.text("italic"),Code:r.text("inlineCode"),"Insert CodeBlock":r.text("insertCodeBlock"),Blockquote:r.text("blockquote"),"Unordered list":r.text("unorderedList"),"Ordered list":r.text("orderedList"),Line:r.text("insertHorizontalLine"),"Insert table":r.text("insertTable"),Indent:r.text("indent"),Outdent:r.text("outdent")})},Ks=class extends we{editor;linkLabel=!1;value;createCustomButton(e,t,i){let n=p("button",["toastui-editor-toolbar-icons",e],{});return this.listen(n,"click",i),{el:n,name:t,tooltip:t,onUpdated({disabled:a}){a?n.setAttribute("disabled",""):n.removeAttribute("disabled")}}}createInput(){let{name:e,id:t,value:i,placeholder:n}=this._data,a=p("div",["am-c-md-editor","am-e-contents"],{id:t},this);this.setAttribute("name",e),this.value=i;let l=`markdownComponents_link_${t}`,d=this.createCustomButton("image",r.text("insertImage"),()=>{mo(C=>{C&&this.editor.insertText(`\r
![](${C})`)},r.text("insertImage"))}),m=this.createCustomButton("link",r.text("insertLink"),()=>{kr(l,"insertLink")});xy(),this.editor=new hf({el:a,initialValue:i,autofocus:!1,usageStatistics:!1,height:"auto",hideModeSwitch:!0,initialEditType:"markdown",previewStyle:"tab",placeholder:n,previewHighlight:!0,toolbarItems:[["heading","bold","italic","strike","code","quote"],["ul","ol","indent","outdent"],["table",d,m,"hr","codeblock"]],customHTMLRenderer:vy,events:{change:()=>{this.value=this.editor.getMarkdown(),X("input",this)},focus:()=>{a.classList.add("am-c-md-editor--focus")},blur:()=>{a.classList.remove("am-c-md-editor--focus")}},plugins:[[gy,{highlighter:So.default}]]}),new ve(l,{onChange:C=>{C&&this.editor.insertText(`[${this.editor.getSelectedText()||C}](${C})`)}});let f=R(".toastui-editor-tabs",this),v=p("div",["tab-item"],{},f),b=re("div",f);v.textContent=r.text("vertical"),this.listen(f,"click",C=>{let A=C.target,T=0;b.forEach((x,_)=>{x.isSameNode(A)&&(T=_),x.classList.toggle("active",x.isSameNode(A))}),this.editor.changePreviewStyle(T===2?"vertical":"tab"),A.click()},"div")}getValueProvider(){return this}query(){return this.value}mutate(e){this.editor.setMarkdown(e)}};Tt.add("am-markdown-field");customElements.define("am-markdown-field",Ks)});var wy={};var Ws,gf=y(()=>{S();Ye();Ws=class extends we{createInput(){let{name:e,id:t,value:i}=this._data;p("input",["am-f-input"],{type:"number",id:t,name:e,value:i},this)}};customElements.define("am-number-field",Ws)});var ky={};var Xs,vf=y(()=>{S();Ye();Xs=class extends we{linkLabel=!1;createInput(){let{name:e,id:t,value:i}=this._data;p("am-number-unit-input",[],{id:t,name:e,value:i},this)}};customElements.define("am-number-unit-field",Xs)});var xf=no((Ys,Js)=>{(function(o,e){typeof Ys=="object"&&typeof Js<"u"?Js.exports=e():typeof define=="function"&&define.amd?define(e):(o=typeof globalThis<"u"?globalThis:o||self).Tagify=e()})(Ys,(function(){"use strict";function o(s,c){var u=Object.keys(s);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(s);c&&(h=h.filter((function(k){return Object.getOwnPropertyDescriptor(s,k).enumerable}))),u.push.apply(u,h)}return u}function e(s){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?o(Object(u),!0).forEach((function(h){t(s,h,u[h])})):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(u)):o(Object(u)).forEach((function(h){Object.defineProperty(s,h,Object.getOwnPropertyDescriptor(u,h))}))}return s}function t(s,c,u){return(c=(function(h){var k=(function($,M){if(typeof $!="object"||$===null)return $;var D=$[Symbol.toPrimitive];if(D!==void 0){var q=D.call($,M||"default");if(typeof q!="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(M==="string"?String:Number)($)})(h,"string");return typeof k=="symbol"?k:String(k)})(c))in s?Object.defineProperty(s,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):s[c]=u,s}let i=(s,c,u,h)=>(s=""+s,c=""+c,h&&(s=s.trim(),c=c.trim()),u?s==c:s.toLowerCase()==c.toLowerCase()),n=(s,c)=>s&&Array.isArray(s)&&s.map((u=>a(u,c)));function a(s,c){var u,h={};for(u in s)c.indexOf(u)<0&&(h[u]=s[u]);return h}function l(s){var c=document.createElement("div");return s.replace(/\&#?[0-9a-z]+;/gi,(function(u){return c.innerHTML=u,c.innerText}))}function d(s){return new DOMParser().parseFromString(s.trim(),"text/html").body.firstElementChild}function m(s,c){for(c=c||"previous";s=s[c+"Sibling"];)if(s.nodeType==3)return s}function f(s){return typeof s=="string"?s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;"):s}function v(s){var c=Object.prototype.toString.call(s).split(" ")[1].slice(0,-1);return s===Object(s)&&c!="Array"&&c!="Function"&&c!="RegExp"&&c!="HTMLUnknownElement"}function b(s,c,u){function h(k,$){for(var M in $)if($.hasOwnProperty(M)){if(v($[M])){v(k[M])?h(k[M],$[M]):k[M]=Object.assign({},$[M]);continue}if(Array.isArray($[M])){k[M]=Object.assign([],$[M]);continue}k[M]=$[M]}}return s instanceof Object||(s={}),h(s,c),u&&h(s,u),s}function C(){let s=[],c={};for(let u of arguments)for(let h of u)v(h)?c[h.value]||(s.push(h),c[h.value]=1):s.includes(h)||s.push(h);return s}function A(s){return String.prototype.normalize?typeof s=="string"?s.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:s}var T=()=>/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent);function x(){return("10000000-1000-4000-8000"+-1e11).replace(/[018]/g,(s=>(s^crypto.getRandomValues(new Uint8Array(1))[0]&15>>s/4).toString(16)))}function _(s){return s&&s.classList&&s.classList.contains(this.settings.classNames.tag)}function L(s,c){var u=window.getSelection();return c=c||u.getRangeAt(0),typeof s=="string"&&(s=document.createTextNode(s)),c&&(c.deleteContents(),c.insertNode(s)),s}function I(s,c,u){return s?(c&&(s.__tagifyTagData=u?c:b({},s.__tagifyTagData||{},c)),s.__tagifyTagData):c}var H={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,onChangeAfterBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,keepInvalidTags:!1,createInvalidTags:!0,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:()=>{},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:"\xA0"},autoComplete:{enabled:!0,rightKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",scopeLoading:"tagify--loading",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty",inputInvalid:"tagify__input--invalid",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownHeader:"tagify__dropdown__header",dropdownFooter:"tagify__dropdown__footer",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownItemHidden:"tagify__dropdown__item--hidden",dropdownInital:"tagify__dropdown--initial",tag:"tagify__tag",tagText:"tagify__tag-text",tagX:"tagify__tag__removeBtn",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,includeSelectedTags:!1,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:()=>Promise.resolve(),beforePaste:()=>Promise.resolve(),suggestionClick:()=>Promise.resolve()}};function B(){this.dropdown={};for(let s in this._dropdown)this.dropdown[s]=typeof this._dropdown[s]=="function"?this._dropdown[s].bind(this):this._dropdown[s];this.dropdown.refs()}var j={refs(){this.DOM.dropdown=this.parseTemplate("dropdown",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-wrapper']")},getHeaderRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-header']")},getFooterRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-footer']")},getAllSuggestionsRefs(){return[...this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector)]},show(s){var c,u,h,k=this.settings,$=k.mode=="mix"&&!k.enforceWhitelist,M=!k.whitelist||!k.whitelist.length,D=k.dropdown.position=="manual";if(s=s===void 0?this.state.inputText:s,!(M&&!$&&!k.templates.dropdownItemNoMatch||k.dropdown.enable===!1||this.state.isLoading||this.settings.readonly)){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(s),s&&!this.suggestedListItems.length&&(this.trigger("dropdown:noMatch",s),k.templates.dropdownItemNoMatch&&(h=k.templates.dropdownItemNoMatch.call(this,{value:s}))),!h){if(this.suggestedListItems.length)s&&$&&!this.state.editing.scope&&!i(this.suggestedListItems[0].value,s)&&this.suggestedListItems.unshift({value:s});else{if(!s||!$||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:s}]}u=""+(v(c=this.suggestedListItems[0])?c.value:c),k.autoComplete&&u&&u.indexOf(s)==0&&this.input.autocomplete.suggest.call(this,c)}this.dropdown.fill(h),k.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(k.classNames.dropdownItemSelector)),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=s||!0,this.state.dropdown.query=s,this.setStateSelection(),D||setTimeout((()=>{this.dropdown.position(),this.dropdown.render()})),setTimeout((()=>{this.trigger("dropdown:show",this.DOM.dropdown)}))}},hide(s){var c=this.DOM,u=c.scope,h=c.dropdown,k=this.settings.dropdown.position=="manual"&&!s;if(h&&document.body.contains(h)&&!k)return window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),u.setAttribute("aria-expanded",!1),h.parentNode.removeChild(h),setTimeout((()=>{this.state.dropdown.visible=!1}),100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",h),this},toggle(s){this.dropdown[this.state.dropdown.visible&&!s?"hide":"show"]()},render(){var s,c,u,h=(s=this.DOM.dropdown,(u=s.cloneNode(!0)).style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(u),c=u.clientHeight,u.parentNode.removeChild(u),c),k=this.settings;return typeof k.dropdown.enabled=="number"&&k.dropdown.enabled>=0?(this.DOM.scope.setAttribute("aria-expanded",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(k.classNames.dropdownInital),this.dropdown.position(h),k.dropdown.appendTarget.appendChild(this.DOM.dropdown),setTimeout((()=>this.DOM.dropdown.classList.remove(k.classNames.dropdownInital)))),this):this},fill(s){s=typeof s=="string"?s:this.dropdown.createListHTML(s||this.suggestedListItems);var c,u=this.settings.templates.dropdownContent.call(this,s);this.DOM.dropdown.content.innerHTML=(c=u)?c.replace(/\>[\r\n ]+\</g,"><").replace(/(<.*?>)|\s+/g,((h,k)=>k||" ")):""},fillHeaderFooter(){var s=this.dropdown.filterListItems(this.state.dropdown.query),c=this.parseTemplate("dropdownHeader",[s]),u=this.parseTemplate("dropdownFooter",[s]),h=this.dropdown.getHeaderRef(),k=this.dropdown.getFooterRef();c&&h?.parentNode.replaceChild(c,h),u&&k?.parentNode.replaceChild(u,k)},refilter(s){s=s||this.state.dropdown.query||"",this.suggestedListItems=this.dropdown.filterListItems(s),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},position(s){var c=this.settings.dropdown;if(c.position!="manual"){var u,h,k,$,M,D,q=this.DOM.dropdown,W=c.placeAbove,se=c.appendTarget===document.body,le=se?window.pageYOffset:c.appendTarget.scrollTop,ce=document.fullscreenElement||document.webkitFullscreenElement||document.documentElement,_e=ce.clientHeight,Ee=Math.max(ce.clientWidth||0,window.innerWidth||0)>480?c.position:"all",Ce=this.DOM[Ee=="input"?"input":"scope"];if(s=s||q.clientHeight,this.state.dropdown.visible){if(Ee=="text"?(k=(u=(function(){let Te=document.getSelection();if(Te.rangeCount){let qe=Te.getRangeAt(0),Me=qe.startContainer,vt=qe.startOffset,et,ko;if(vt>0)return ko=document.createRange(),ko.setStart(Me,vt-1),ko.setEnd(Me,vt),et=ko.getBoundingClientRect(),{left:et.right,top:et.top,bottom:et.bottom};if(Me.getBoundingClientRect)return Me.getBoundingClientRect()}return{left:-9999,top:-9999}})()).bottom,h=u.top,$=u.left,M="auto"):(D=(function(Te){for(var qe=0,Me=0;Te&&Te!=ce;)qe+=Te.offsetLeft||0,Me+=Te.offsetTop||0,Te=Te.parentNode;return{left:qe,top:Me}})(c.appendTarget),h=(u=Ce.getBoundingClientRect()).top-D.top,k=u.bottom-1-D.top,$=u.left-D.left,M=u.width+"px"),!se){let Te=(function(){for(var qe=0,Me=c.appendTarget.parentNode;Me;)qe+=Me.scrollTop||0,Me=Me.parentNode;return qe})();h+=Te,k+=Te}h=Math.floor(h),k=Math.ceil(k),W=W===void 0?_e-u.bottom<s:W,q.style.cssText="left:"+($+window.pageXOffset)+"px; width:"+M+";"+(W?"top: "+(h+le)+"px":"top: "+(k+le)+"px"),q.setAttribute("placement",W?"top":"bottom"),q.setAttribute("position",Ee)}}},events:{binding(){let s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];var c=this.dropdown.events.callbacks,u=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this,null),onKeyDown:c.onKeyDown.bind(this),onMouseOver:c.onMouseOver.bind(this),onMouseLeave:c.onMouseLeave.bind(this),onClick:c.onClick.bind(this),onScroll:c.onScroll.bind(this)},h=s?"addEventListener":"removeEventListener";this.settings.dropdown.position!="manual"&&(document[h]("scroll",u.position,!0),window[h]("resize",u.position),window[h]("keydown",u.onKeyDown)),this.DOM.dropdown[h]("mouseover",u.onMouseOver),this.DOM.dropdown[h]("mouseleave",u.onMouseLeave),this.DOM.dropdown[h]("mousedown",u.onClick),this.DOM.dropdown.content[h]("scroll",u.onScroll)},callbacks:{onKeyDown(s){if(this.state.hasFocus&&!this.state.composing){var c=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector),u=this.dropdown.getSuggestionDataByNode(c);switch(s.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":s.preventDefault();var h=this.dropdown.getAllSuggestionsRefs(),k=s.key=="ArrowUp"||s.key=="Up";c&&(c=this.dropdown.getNextOrPrevOption(c,!k)),c&&c.matches(this.settings.classNames.dropdownItemSelector)||(c=h[k?h.length-1:0]),this.dropdown.highlightOption(c,!0);break;case"Escape":case"Esc":this.dropdown.hide();break;case"ArrowRight":if(this.state.actions.ArrowLeft)return;case"Tab":if(this.settings.mode!="mix"&&c&&!this.settings.autoComplete.rightKey&&!this.state.editing){s.preventDefault();var $=this.dropdown.getMappedValue(u);return this.input.autocomplete.set.call(this,$),!1}return!0;case"Enter":s.preventDefault(),this.settings.hooks.suggestionClick(s,{tagify:this,tagData:u,suggestionElm:c}).then((()=>{if(c)return this.dropdown.selectOption(c),c=this.dropdown.getNextOrPrevOption(c,!k),void this.dropdown.highlightOption(c);this.dropdown.hide(),this.settings.mode!="mix"&&this.addTags(this.state.inputText.trim(),!0)})).catch((M=>M));break;case"Backspace":{if(this.settings.mode=="mix"||this.state.editing.scope)return;let M=this.input.raw.call(this);M!=""&&M.charCodeAt(0)!=8203||(this.settings.backspace===!0?this.removeTags():this.settings.backspace=="edit"&&setTimeout(this.editTag.bind(this),0))}}}},onMouseOver(s){var c=s.target.closest(this.settings.classNames.dropdownItemSelector);c&&this.dropdown.highlightOption(c)},onMouseLeave(s){this.dropdown.highlightOption()},onClick(s){if(s.button==0&&s.target!=this.DOM.dropdown&&s.target!=this.DOM.dropdown.content){var c=s.target.closest(this.settings.classNames.dropdownItemSelector),u=this.dropdown.getSuggestionDataByNode(c);this.state.actions.selectOption=!0,setTimeout((()=>this.state.actions.selectOption=!1),50),this.settings.hooks.suggestionClick(s,{tagify:this,tagData:u,suggestionElm:c}).then((()=>{c?this.dropdown.selectOption(c,s):this.dropdown.hide()})).catch((h=>{}))}},onScroll(s){var c=s.target,u=c.scrollTop/(c.scrollHeight-c.parentNode.clientHeight)*100;this.trigger("dropdown:scroll",{percentage:Math.round(u)})}}},getSuggestionDataByNode(s){var c=s&&s.getAttribute("value");return this.suggestedListItems.find((u=>u.value==c))||null},getNextOrPrevOption(s){let c=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];var u=this.dropdown.getAllSuggestionsRefs(),h=u.findIndex((k=>k===s));return c?u[h+1]:u[h-1]},highlightOption(s,c){var u,h=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(h),this.state.ddItemElm.removeAttribute("aria-selected")),!s)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);u=this.dropdown.getSuggestionDataByNode(s),this.state.ddItemData=u,this.state.ddItemElm=s,s.classList.add(h),s.setAttribute("aria-selected",!0),c&&(s.parentNode.scrollTop=s.clientHeight+s.offsetTop-s.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,u),this.dropdown.position())},selectOption(s,c){var u=this.settings.dropdown,h=u.clearOnSelect,k=u.closeOnSelect;if(!s)return this.addTags(this.state.inputText,!0),void(k&&this.dropdown.hide());c=c||{};var $=s.getAttribute("value"),M=$=="noMatch",D=this.suggestedListItems.find((q=>(q.value||q)==$));this.trigger("dropdown:select",{data:D,elm:s,event:c}),$&&(D||M)?(this.state.editing?this.onEditTagDone(null,b({__isValid:!0},this.normalizeTags([D])[0])):this[this.settings.mode=="mix"?"addMixTags":"addTags"]([D||this.input.raw.call(this)],h),this.DOM.input.parentNode&&(setTimeout((()=>{this.DOM.input.focus(),this.toggleFocusClass(!0),this.setRangeAtStartEnd(!1,this.DOM.input)})),k&&setTimeout(this.dropdown.hide.bind(this)),s.addEventListener("transitionend",(()=>{this.dropdown.fillHeaderFooter(),setTimeout((()=>s.remove()),100)}),{once:!0}),s.classList.add(this.settings.classNames.dropdownItemHidden))):k&&setTimeout(this.dropdown.hide.bind(this))},selectAll(s){this.suggestedListItems.length=0,this.dropdown.hide(),this.dropdown.filterListItems("");var c=this.dropdown.filterListItems("");return s||(c=this.state.dropdown.suggestions),this.addTags(c,!0),this},filterListItems(s,c){var u,h,k,$,M,D=this.settings,q=D.dropdown,W=(c=c||{},[]),se=[],le=D.whitelist,ce=q.maxItems>=0?q.maxItems:1/0,_e=q.searchKeys,Ee=0;if(!(s=D.mode=="select"&&this.value.length&&this.value[0][D.tagTextProp]==s?"":s)||!_e.length)return W=q.includeSelectedTags?le:le.filter((Te=>!this.isTagDuplicate(v(Te)?Te.value:Te))),this.state.dropdown.suggestions=W,W.slice(0,ce);function Ce(Te,qe){return qe.toLowerCase().split(" ").every((Me=>Te.includes(Me.toLowerCase())))}for(M=q.caseSensitive?""+s:(""+s).toLowerCase();Ee<le.length;Ee++){let Te,qe;u=le[Ee]instanceof Object?le[Ee]:{value:le[Ee]};let Me=Object.keys(u).some((vt=>_e.includes(vt)))?_e:["value"];q.fuzzySearch&&!c.exact?(k=Me.reduce(((vt,et)=>vt+" "+(u[et]||"")),"").toLowerCase().trim(),q.accentedSearch&&(k=A(k),M=A(M)),Te=k.indexOf(M)==0,qe=k===M,h=Ce(k,M)):(Te=!0,h=Me.some((vt=>{var et=""+(u[vt]||"");return q.accentedSearch&&(et=A(et),M=A(M)),q.caseSensitive||(et=et.toLowerCase()),qe=et===M,c.exact?et===M:et.indexOf(M)==0}))),$=!q.includeSelectedTags&&this.isTagDuplicate(v(u)?u.value:u),h&&!$&&(qe&&Te?se.push(u):q.sortby=="startsWith"&&Te?W.unshift(u):W.push(u))}return this.state.dropdown.suggestions=se.concat(W),typeof q.sortby=="function"?q.sortby(se.concat(W),M):se.concat(W).slice(0,ce)},getMappedValue(s){var c=this.settings.dropdown.mapValueTo;return c?typeof c=="function"?c(s):s[c]||s.value:s.value},createListHTML(s){return b([],s).map(((c,u)=>{typeof c!="string"&&typeof c!="number"||(c={value:c});var h=this.dropdown.getMappedValue(c);return h=typeof h=="string"?f(h):h,this.settings.templates.dropdownItem.apply(this,[e(e({},c),{},{mappedValue:h}),this])})).join("")}};let U="@yaireo/tagify/";var V,te={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},O={wrapper:(s,c)=>`<tags class="${c.classNames.namespace} ${c.mode?`${c.classNames[c.mode+"Mode"]}`:""} ${s.className}"
                    ${c.readonly?"readonly":""}
                    ${c.disabled?"disabled":""}
                    ${c.required?"required":""}
                    ${c.mode==="select"?"spellcheck='false'":""}
                    tabIndex="-1">
            <span ${!c.readonly&&c.userInput?"contenteditable":""} tabIndex="0" data-placeholder="${c.placeholder||"&#8203;"}" aria-placeholder="${c.placeholder||""}"
                class="${c.classNames.input}"
                role="textbox"
                aria-autocomplete="both"
                aria-multiline="${c.mode=="mix"}"></span>
                &#8203;
        </tags>`,tag(s,c){let u=c.settings;return`<tag title="${s.title||s.value}"
                    contenteditable='false'
                    spellcheck='false'
                    tabIndex="${u.a11y.focusableTags?0:-1}"
                    class="${u.classNames.tag} ${s.class||""}"
                    ${this.getAttributes(s)}>
            <x title='' class="${u.classNames.tagX}" role='button' aria-label='remove tag'></x>
            <div>
                <span class="${u.classNames.tagText}">${s[u.tagTextProp]||s.value}</span>
            </div>
        </tag>`},dropdown(s){var c=s.dropdown,u=c.position=="manual",h=`${s.classNames.dropdown}`;return`<div class="${u?"":h} ${c.classname}" role="listbox" aria-labelledby="dropdown">
                    <div data-selector='tagify-suggestions-wrapper' class="${s.classNames.dropdownWrapper}"></div>
                </div>`},dropdownContent(s){var c=this.settings,u=this.state.dropdown.suggestions;return`
            ${c.templates.dropdownHeader.call(this,u)}
            ${s}
            ${c.templates.dropdownFooter.call(this,u)}
        `},dropdownItem(s){return`<div ${this.getAttributes(s)}
                    class='${this.settings.classNames.dropdownItem} ${s.class?s.class:""}'
                    tabindex="0"
                    role="option">${s.mappedValue||s.value}</div>`},dropdownHeader(s){return`<header data-selector='tagify-suggestions-header' class="${this.settings.classNames.dropdownHeader}"></header>`},dropdownFooter(s){var c=s.length-this.settings.dropdown.maxItems;return c>0?`<footer data-selector='tagify-suggestions-footer' class="${this.settings.classNames.dropdownFooter}">
                ${c} more items. Refine your search.
            </footer>`:""},dropdownItemNoMatch:null},g={customBinding(){this.customEventsList.forEach((s=>{this.on(s,this.settings.callbacks[s])}))},binding(){let s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];var c,u=this.events.callbacks,h=s?"addEventListener":"removeEventListener";if(!this.state.mainEvents||!s){for(var k in this.state.mainEvents=s,s&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),c=this.listeners.main=this.listeners.main||{focus:["input",u.onFocusBlur.bind(this)],keydown:["input",u.onKeydown.bind(this)],click:["scope",u.onClickScope.bind(this)],dblclick:["scope",u.onDoubleClickScope.bind(this)],paste:["input",u.onPaste.bind(this)],drop:["input",u.onDrop.bind(this)],compositionstart:["input",u.onCompositionStart.bind(this)],compositionend:["input",u.onCompositionEnd.bind(this)]})this.DOM[c[k][0]][h](k,c[k][1]);clearInterval(this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=setInterval(u.observeOriginalInputValue.bind(this),500);var $=this.listeners.main.inputMutationObserver||new MutationObserver(u.onInputDOMChange.bind(this));$.disconnect(),this.settings.mode=="mix"&&$.observe(this.DOM.input,{childList:!0})}},bindGlobal(s){var c,u=this.events.callbacks,h=s?"removeEventListener":"addEventListener";if(s||!this.listeners.global)for(c of(this.listeners.global=this.listeners&&this.listeners.global||[{type:this.isIE?"keydown":"input",target:this.DOM.input,cb:u[this.isIE?"onInputIE":"onInput"].bind(this)},{type:"keydown",target:window,cb:u.onWindowKeyDown.bind(this)},{type:"blur",target:this.DOM.input,cb:u.onFocusBlur.bind(this)}],this.listeners.global))c.target[h](c.type,c.cb)},unbindGlobal(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur(s){var c=this.settings,u=s.target?this.trim(s.target.textContent):"",h=this.value?.[0]?.[c.tagTextProp],k=s.type,$=c.dropdown.enabled>=0,M={relatedTarget:s.relatedTarget},D=this.state.actions.selectOption&&($||!c.dropdown.closeOnSelect),q=this.state.actions.addNew&&$,W=s.relatedTarget&&_.call(this,s.relatedTarget)&&this.DOM.scope.contains(s.relatedTarget);if(k=="blur"){if(s.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),c.onChangeAfterBlur&&this.triggerChangeEvent()}if(!D&&!q)if(this.state.hasFocus=k=="focus"&&+new Date,this.toggleFocusClass(this.state.hasFocus),c.mode!="mix"){if(k=="focus")return this.trigger("focus",M),void(c.dropdown.enabled!==0&&c.userInput||this.dropdown.show(this.value.length?"":void 0));k=="blur"&&(this.trigger("blur",M),this.loading(!1),c.mode=="select"&&(W&&(this.removeTags(),u=""),h===u&&(u="")),u&&!this.state.actions.selectOption&&c.addTagOnBlur&&this.addTags(u,!0)),this.DOM.input.removeAttribute("style"),this.dropdown.hide()}else k=="focus"?this.trigger("focus",M):s.type=="blur"&&(this.trigger("blur",M),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())},onCompositionStart(s){this.state.composing=!0},onCompositionEnd(s){this.state.composing=!1},onWindowKeyDown(s){var c,u=document.activeElement;if(_.call(this,u)&&this.DOM.scope.contains(document.activeElement))switch(c=u.nextElementSibling,s.key){case"Backspace":this.settings.readonly||(this.removeTags(u),(c||this.DOM.input).focus());break;case"Enter":setTimeout(this.editTag.bind(this),0,u)}},onKeydown(s){var c=this.settings;if(!this.state.composing&&c.userInput){c.mode=="select"&&c.enforceWhitelist&&this.value.length&&s.key!="Tab"&&s.preventDefault();var u=this.trim(s.target.textContent);if(this.trigger("keydown",{event:s}),c.mode=="mix"){switch(s.key){case"Left":case"ArrowLeft":this.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(this.state.editing)return;var h=document.getSelection(),k=s.key=="Delete"&&h.anchorOffset==(h.anchorNode.length||0),$=h.anchorNode.previousSibling,M=h.anchorNode.nodeType==1||!h.anchorOffset&&$&&$.nodeType==1&&h.anchorNode.previousSibling;l(this.DOM.input.innerHTML);var D,q,W,se=this.getTagElms();if(c.backspace=="edit"&&M)return D=h.anchorNode.nodeType==1?null:h.anchorNode.previousElementSibling,setTimeout(this.editTag.bind(this),0,D),void s.preventDefault();if(T()&&M instanceof Element)return W=m(M),M.hasAttribute("readonly")||M.remove(),this.DOM.input.focus(),void setTimeout((()=>{this.placeCaretAfterNode(W),this.DOM.input.click()}));if(h.anchorNode.nodeName=="BR")return;if((k||M)&&h.anchorNode.nodeType==1?q=h.anchorOffset==0?k?se[0]:null:se[Math.min(se.length,h.anchorOffset)-1]:k?q=h.anchorNode.nextElementSibling:M instanceof Element&&(q=M),h.anchorNode.nodeType==3&&!h.anchorNode.nodeValue&&h.anchorNode.previousElementSibling&&s.preventDefault(),(M||k)&&!c.backspace||h.type!="Range"&&!h.anchorOffset&&h.anchorNode==this.DOM.input&&s.key!="Delete")return void s.preventDefault();if(h.type!="Range"&&q&&q.hasAttribute("readonly"))return void this.placeCaretAfterNode(m(q));clearTimeout(V),V=setTimeout((()=>{var le=document.getSelection();l(this.DOM.input.innerHTML),!k&&le.anchorNode.previousSibling,this.value=[].map.call(se,((ce,_e)=>{var Ee=I(ce);if(ce.parentNode||Ee.readonly)return Ee;this.trigger("remove",{tag:ce,index:_e,data:Ee})})).filter((ce=>ce))}),20)}return!0}switch(s.key){case"Backspace":c.mode=="select"&&c.enforceWhitelist&&this.value.length?this.removeTags():this.state.dropdown.visible&&c.dropdown.position!="manual"||s.target.textContent!=""&&u.charCodeAt(0)!=8203||(c.backspace===!0?this.removeTags():c.backspace=="edit"&&setTimeout(this.editTag.bind(this),0));break;case"Esc":case"Escape":if(this.state.dropdown.visible)return;s.target.blur();break;case"Down":case"ArrowDown":this.state.dropdown.visible||this.dropdown.show();break;case"ArrowRight":{let le=this.state.inputSuggestion||this.state.ddItemData;if(le&&c.autoComplete.rightKey)return void this.addTags([le],!0);break}case"Tab":{let le=c.mode=="select";if(!u||le)return!0;s.preventDefault()}case"Enter":if(this.state.dropdown.visible&&c.dropdown.position!="manual")return;s.preventDefault(),setTimeout((()=>{this.state.dropdown.visible||this.state.actions.selectOption||this.addTags(u,!0)}))}}},onInput(s){this.postUpdate();var c=this.settings;if(c.mode=="mix")return this.events.callbacks.onMixTagsInput.call(this,s);var u=this.input.normalize.call(this),h=u.length>=c.dropdown.enabled,k={value:u,inputElm:this.DOM.input},$=this.validateTag({value:u});c.mode=="select"&&this.toggleScopeValidation($),k.isValid=$,this.state.inputText!=u&&(this.input.set.call(this,u,!1),u.search(c.delimiters)!=-1?this.addTags(u)&&this.input.set.call(this):c.dropdown.enabled>=0&&this.dropdown[h?"show":"hide"](u),this.trigger("input",k))},onMixTagsInput(s){var c,u,h,k,$,M,D,q,W=this.settings,se=this.value.length,le=this.getTagElms(),ce=document.createDocumentFragment(),_e=window.getSelection().getRangeAt(0),Ee=[].map.call(le,(Ce=>I(Ce).value));if(s.inputType=="deleteContentBackward"&&T()&&this.events.callbacks.onKeydown.call(this,{target:s.target,key:"Backspace"}),this.value.slice().forEach((Ce=>{Ce.readonly&&!Ee.includes(Ce.value)&&ce.appendChild(this.createTagElem(Ce))})),ce.childNodes.length&&(_e.insertNode(ce),this.setRangeAtStartEnd(!1,ce.lastChild)),le.length!=se)return this.value=[].map.call(this.getTagElms(),(Ce=>I(Ce))),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(M=window.getSelection()).rangeCount>0&&M.anchorNode.nodeType==3){if((_e=M.getRangeAt(0).cloneRange()).collapse(!0),_e.setStart(M.focusNode,0),h=(c=_e.toString().slice(0,_e.endOffset)).split(W.pattern).length-1,(u=c.match(W.pattern))&&(k=c.slice(c.lastIndexOf(u[u.length-1]))),k){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:k.match(W.pattern)[0],value:k.replace(W.pattern,"")},this.state.tag.baseOffset=M.baseOffset-this.state.tag.value.length,q=this.state.tag.value.match(W.delimiters))return this.state.tag.value=this.state.tag.value.replace(W.delimiters,""),this.state.tag.delimiters=q[0],this.addTags(this.state.tag.value,W.dropdown.clearOnSelect),void this.dropdown.hide();$=this.state.tag.value.length>=W.dropdown.enabled;try{D=(D=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&D.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch{}(D||h<this.state.mixMode.matchedPatternCount)&&($=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=h}setTimeout((()=>{this.update({withoutChangeEvent:!0}),this.trigger("input",b({},this.state.tag,{textContent:this.DOM.input.textContent})),this.state.tag&&this.dropdown[$?"show":"hide"](this.state.tag.value)}),10)},onInputIE(s){var c=this;setTimeout((function(){c.events.callbacks.onInput.call(c,s)}))},observeOriginalInputValue(){this.DOM.originalInput.parentNode||this.destroy(),this.DOM.originalInput.value!=this.DOM.originalInput.tagifyValue&&this.loadOriginalValues()},onClickScope(s){var c=this.settings,u=s.target.closest("."+c.classNames.tag),h=+new Date-this.state.hasFocus;if(s.target!=this.DOM.scope){if(!s.target.classList.contains(c.classNames.tagX))return u?(this.trigger("click",{tag:u,index:this.getNodeIndex(u),data:I(u),event:s}),void(c.editTags!==1&&c.editTags.clicks!==1||this.events.callbacks.onDoubleClickScope.call(this,s))):void(s.target==this.DOM.input&&(c.mode=="mix"&&this.fixFirefoxLastTagNoCaret(),h>500)?this.state.dropdown.visible?this.dropdown.hide():c.dropdown.enabled===0&&c.mode!="mix"&&this.dropdown.show(this.value.length?"":void 0):c.mode!="select"||c.dropdown.enabled!==0||this.state.dropdown.visible||this.dropdown.show());this.removeTags(s.target.parentNode)}else this.state.hasFocus||this.DOM.input.focus()},onPaste(s){s.preventDefault();var c,u,h=this.settings;if(h.mode=="select"&&h.enforceWhitelist||!h.userInput)return!1;h.readonly||(c=s.clipboardData||window.clipboardData,u=c.getData("Text"),h.hooks.beforePaste(s,{tagify:this,pastedText:u,clipboardData:c}).then((k=>{k===void 0&&(k=u),k&&(this.injectAtCaret(k,window.getSelection().getRangeAt(0)),this.settings.mode=="mix"?this.events.callbacks.onMixTagsInput.call(this,s):this.settings.pasteAsTags?this.addTags(this.state.inputText+k,!0):this.state.inputText=k)})).catch((k=>k)))},onDrop(s){s.preventDefault()},onEditTagInput(s,c){var u=s.closest("."+this.settings.classNames.tag),h=this.getNodeIndex(u),k=I(u),$=this.input.normalize.call(this,s),M={[this.settings.tagTextProp]:$,__tagId:k.__tagId},D=this.validateTag(M);this.editTagChangeDetected(b(k,M))||s.originalIsValid!==!0||(D=!0),u.classList.toggle(this.settings.classNames.tagInvalid,D!==!0),k.__isValid=D,u.title=D===!0?k.title||k.value:D,$.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=$),this.dropdown.show($)),this.trigger("edit:input",{tag:u,index:h,data:b({},this.value[h],{newValue:$}),event:c})},onEditTagPaste(s,c){var u=(c.clipboardData||window.clipboardData).getData("Text");c.preventDefault();var h=L(u);this.setRangeAtStartEnd(!1,h)},onEditTagFocus(s){this.state.editing={scope:s,input:s.querySelector("[contenteditable]")}},onEditTagBlur(s){if(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(s)){var c,u,h=this.settings,k=s.closest("."+h.classNames.tag),$=this.input.normalize.call(this,s),M=I(k),D=M.__originalData,q=this.editTagChangeDetected(M),W=this.validateTag({[h.tagTextProp]:$,__tagId:M.__tagId});if($)if(q){if(c=this.hasMaxTags(),u=b({},D,{[h.tagTextProp]:this.trim($),__isValid:W}),h.transformTag.call(this,u,D),(W=(!c||D.__isValid===!0)&&this.validateTag(u))!==!0){if(this.trigger("invalid",{data:u,tag:k,message:W}),h.editTags.keepInvalid)return;h.keepInvalidTags?u.__isValid=W:u=D}else h.keepInvalidTags&&(delete u.title,delete u["aria-invalid"],delete u.class);this.onEditTagDone(k,u)}else this.onEditTagDone(k,D);else this.onEditTagDone(k)}},onEditTagkeydown(s,c){if(!this.state.composing)switch(this.trigger("edit:keydown",{event:s}),s.key){case"Esc":case"Escape":c.parentNode.replaceChild(c.__tagifyTagData.__originalHTML,c),this.state.editing=!1;case"Enter":case"Tab":s.preventDefault(),s.target.blur()}},onDoubleClickScope(s){var c,u,h=s.target.closest("."+this.settings.classNames.tag),k=I(h),$=this.settings;h&&$.userInput&&k.editable!==!1&&(c=h.classList.contains(this.settings.classNames.tagEditing),u=h.hasAttribute("readonly"),$.mode=="select"||$.readonly||c||u||!this.settings.editTags||this.editTag(h),this.toggleFocusClass(!0),this.trigger("dblclick",{tag:h,index:this.getNodeIndex(h),data:I(h)}))},onInputDOMChange(s){s.forEach((u=>{u.addedNodes.forEach((h=>{if(h.outerHTML=="<div><br></div>")h.replaceWith(document.createElement("br"));else if(h.nodeType==1&&h.querySelector(this.settings.classNames.tagSelector)){let k=document.createTextNode("");h.childNodes[0].nodeType==3&&h.previousSibling.nodeName!="BR"&&(k=document.createTextNode(`
`)),h.replaceWith(k,...[...h.childNodes].slice(0,-1)),this.placeCaretAfterNode(k)}else if(_.call(this,h)&&(h.previousSibling?.nodeType!=3||h.previousSibling.textContent||h.previousSibling.remove(),h.previousSibling&&h.previousSibling.nodeName=="BR")){h.previousSibling.replaceWith(`
\u200B`);let k=h.nextSibling,$="";for(;k;)$+=k.textContent,k=k.nextSibling;$.trim()&&this.placeCaretAfterNode(h.previousSibling)}})),u.removedNodes.forEach((h=>{h&&h.nodeName=="BR"&&_.call(this,c)&&(this.removeTags(c),this.fixFirefoxLastTagNoCaret())}))}));var c=this.DOM.input.lastChild;c&&c.nodeValue==""&&c.remove(),c&&c.nodeName=="BR"||this.DOM.input.appendChild(document.createElement("br"))}}};function E(s,c){if(!s){let h=new Proxy(this,{get:()=>()=>h});return h}if(s.__tagify)return s.__tagify;var u;b(this,(function(h){var k=document.createTextNode("");function $(M,D,q){q&&D.split(/\s+/g).forEach((W=>k[M+"EventListener"].call(k,W,q)))}return{off(M,D){return $("remove",M,D),this},on(M,D){return D&&typeof D=="function"&&$("add",M,D),this},trigger(M,D,q){var W;if(q=q||{cloneData:!0},M)if(h.settings.isJQueryPlugin)M=="remove"&&(M="removeTag"),jQuery(h.DOM.originalInput).triggerHandler(M,[D]);else{try{var se=typeof D=="object"?D:{value:D};if((se=q.cloneData?b({},se):se).tagify=this,D.event&&(se.event=this.cloneEvent(D.event)),D instanceof Object)for(var le in D)D[le]instanceof HTMLElement&&(se[le]=D[le]);W=new CustomEvent(M,{detail:se})}catch{}k.dispatchEvent(W)}}}})(this)),this.isFirefox=/firefox|fxios/i.test(navigator.userAgent)&&!/seamonkey/i.test(navigator.userAgent),this.isIE=window.document.documentMode,c=c||{},this.getPersistedData=(u=c.id,h=>{let k,$="/"+h;if(localStorage.getItem(U+u+"/v",1)==1)try{k=JSON.parse(localStorage[U+u+$])}catch{}return k}),this.setPersistedData=(h=>h?(localStorage.setItem(U+h+"/v",1),(k,$)=>{let M="/"+$,D=JSON.stringify(k);k&&$&&(localStorage.setItem(U+h+M,D),dispatchEvent(new Event("storage")))}):()=>{})(c.id),this.clearPersistedData=(h=>k=>{let $=U+"/"+h+"/";if(k)localStorage.removeItem($+k);else for(let M in localStorage)M.includes($)&&localStorage.removeItem(M)})(c.id),this.applySettings(s,c),this.state={inputText:"",editing:!1,composing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(s),B.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),s.autofocus&&this.DOM.input.focus(),s.__tagify=this}return E.prototype={_dropdown:j,helpers:{sameStr:i,removeCollectionProp:n,omit:a,isObject:v,parseHTML:d,escapeHTML:f,extend:b,concatWithoutDups:C,getUID:x,isNodeTag:_},customEventsList:["change","add","remove","invalid","input","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim(s){return this.settings.trim&&s&&typeof s=="string"?s.trim():s},parseHTML:d,templates:O,parseTemplate(s,c){return d((s=this.settings.templates[s]||s).apply(this,c))},set whitelist(s){let c=s&&Array.isArray(s);this.settings.whitelist=c?s:[],this.setPersistedData(c?s:[],"whitelist")},get whitelist(){return this.settings.whitelist},generateClassSelectors(s){for(let c in s){let u=c;Object.defineProperty(s,u+"Selector",{get(){return"."+this[u].split(" ")[0]}})}},applySettings(s,c){H.templates=this.templates;var u=b({},H,c.mode=="mix"?{dropdown:{position:"text"}}:{}),h=this.settings=b({},u,c);if(h.disabled=s.hasAttribute("disabled"),h.readonly=h.readonly||s.hasAttribute("readonly"),h.placeholder=f(s.getAttribute("placeholder")||h.placeholder||""),h.required=s.hasAttribute("required"),this.generateClassSelectors(h.classNames),h.dropdown.includeSelectedTags===void 0&&(h.dropdown.includeSelectedTags=h.duplicates),this.isIE&&(h.autoComplete=!1),["whitelist","blacklist"].forEach(($=>{var M=s.getAttribute("data-"+$);M&&(M=M.split(h.delimiters))instanceof Array&&(h[$]=M)})),"autoComplete"in c&&!v(c.autoComplete)&&(h.autoComplete=H.autoComplete,h.autoComplete.enabled=c.autoComplete),h.mode=="mix"&&(h.pattern=h.pattern||/@/,h.autoComplete.rightKey=!0,h.delimiters=c.delimiters||null,h.tagTextProp&&!h.dropdown.searchKeys.includes(h.tagTextProp)&&h.dropdown.searchKeys.push(h.tagTextProp)),s.pattern)try{h.pattern=new RegExp(s.pattern)}catch{}if(h.delimiters){h._delimiters=h.delimiters;try{h.delimiters=new RegExp(this.settings.delimiters,"g")}catch{}}h.disabled&&(h.userInput=!1),this.TEXTS=e(e({},te),h.texts||{}),(h.mode!="select"||c.dropdown?.enabled)&&h.userInput||(h.dropdown.enabled=0),h.dropdown.appendTarget=c.dropdown?.appendTarget||document.body;let k=this.getPersistedData("whitelist");Array.isArray(k)&&(this.whitelist=Array.isArray(h.whitelist)?C(h.whitelist,k):k)},getAttributes(s){var c,u=this.getCustomAttributes(s),h="";for(c in u)h+=" "+c+(s[c]!==void 0?`="${u[c]}"`:"");return h},getCustomAttributes(s){if(!v(s))return"";var c,u={};for(c in s)c.slice(0,2)!="__"&&c!="class"&&s.hasOwnProperty(c)&&s[c]!==void 0&&(u[c]=f(s[c]));return u},setStateSelection(){var s=window.getSelection(),c={anchorOffset:s.anchorOffset,anchorNode:s.anchorNode,range:s.getRangeAt&&s.rangeCount&&s.getRangeAt(0)};return this.state.selection=c,c},getCSSVars(){var s=getComputedStyle(this.DOM.scope,null),c;this.CSSVars={tagHideTransition:(u=>{let h=u.value;return u.unit=="s"?1e3*h:h})((function(u){if(!u)return{};var h=(u=u.trim().split(" ")[0]).split(/\d+/g).filter((k=>k)).pop().trim();return{value:+u.split(h).filter((k=>k))[0].trim(),unit:h}})((c="tag-hide-transition",s.getPropertyValue("--"+c))))}},build(s){var c=this.DOM;this.settings.mixMode.integrated?(c.originalInput=null,c.scope=s,c.input=s):(c.originalInput=s,c.originalInput_tabIndex=s.tabIndex,c.scope=this.parseTemplate("wrapper",[s,this.settings]),c.input=c.scope.querySelector(this.settings.classNames.inputSelector),s.parentNode.insertBefore(c.scope,s),s.tabIndex=-1)},destroy(){this.events.unbindGlobal.call(this),this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.DOM.originalInput.tabIndex=this.DOM.originalInput_tabIndex,delete this.DOM.originalInput.__tagify,this.dropdown.hide(!0),clearTimeout(this.dropdownHide__bindEventsTimeout),clearInterval(this.listeners.main.originalInputValueObserverInterval)},loadOriginalValues(s){var c,u=this.settings;if(this.state.blockChangeEvent=!0,s===void 0){let h=this.getPersistedData("value");s=h&&!this.DOM.originalInput.value?h:u.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags(),s)if(u.mode=="mix")this.parseMixTags(s),(c=this.DOM.input.lastChild)&&c.tagName=="BR"||this.DOM.input.insertAdjacentHTML("beforeend","<br>");else{try{JSON.parse(s)instanceof Array&&(s=JSON.parse(s))}catch{}this.addTags(s,!0).forEach((h=>h&&h.classList.add(u.classNames.tagNoAnimation)))}else this.postUpdate();this.state.lastOriginalValueReported=u.mixMode.integrated?"":this.DOM.originalInput.value,this.state.blockChangeEvent=!1},cloneEvent(s){var c={};for(var u in s)u!="path"&&(c[u]=s[u]);return c},loading(s){return this.state.isLoading=s,this.DOM.scope.classList[s?"add":"remove"](this.settings.classNames.scopeLoading),this},tagLoading(s,c){return s&&s.classList[c?"add":"remove"](this.settings.classNames.tagLoading),this},toggleClass(s,c){typeof s=="string"&&this.DOM.scope.classList.toggle(s,c)},toggleScopeValidation(s){var c=s===!0||s===void 0;!this.settings.required&&s&&s===this.TEXTS.empty&&(c=!0),this.toggleClass(this.settings.classNames.tagInvalid,!c),this.DOM.scope.title=c?"":s},toggleFocusClass(s){this.toggleClass(this.settings.classNames.focus,!!s)},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var s=this.DOM.originalInput,c=this.state.lastOriginalValueReported!==s.value,u=new CustomEvent("change",{bubbles:!0});c&&(this.state.lastOriginalValueReported=s.value,u.simulated=!0,s._valueTracker&&s._valueTracker.setValue(Math.random()),s.dispatchEvent(u),this.trigger("change",this.state.lastOriginalValueReported),s.value=this.state.lastOriginalValueReported)}},events:g,fixFirefoxLastTagNoCaret(){},setRangeAtStartEnd(s,c){if(c){s=typeof s=="number"?s:!!s,c=c.lastChild||c;var u=document.getSelection();if(u.focusNode instanceof Element&&!this.DOM.input.contains(u.focusNode))return!0;try{u.rangeCount>=1&&["Start","End"].forEach((h=>u.getRangeAt(0)["set"+h](c,s||c.length)))}catch{}}},placeCaretAfterNode(s){if(s&&s.parentNode){var c=s,u=window.getSelection(),h=u.getRangeAt(0);u.rangeCount&&(h.setStartAfter(c),h.collapse(!0),u.removeAllRanges(),u.addRange(h))}},insertAfterTag(s,c){if(c=c||this.settings.mixMode.insertAfterTag,s&&s.parentNode&&c)return c=typeof c=="string"?document.createTextNode(c):c,s.parentNode.insertBefore(c,s.nextSibling),c},editTagChangeDetected(s){var c=s.__originalData;for(var u in c)if(!this.dataProps.includes(u)&&s[u]!=c[u])return!0;return!1},getTagTextNode(s){return s.querySelector(this.settings.classNames.tagTextSelector)},setTagTextNode(s,c){this.getTagTextNode(s).innerHTML=f(c)},editTag(s,c){s=s||this.getLastTag(),c=c||{},this.dropdown.hide();var u=this.settings,h=this.getTagTextNode(s),k=this.getNodeIndex(s),$=I(s),M=this.events.callbacks,D=this,q=!0;if(h&&(!($ instanceof Object&&"editable"in $)||$.editable))return $=I(s,{__originalData:b({},$),__originalHTML:s.cloneNode(!0)}),I($.__originalHTML,$.__originalData),h.setAttribute("contenteditable",!0),s.classList.add(u.classNames.tagEditing),h.addEventListener("focus",M.onEditTagFocus.bind(this,s)),h.addEventListener("blur",(function(){setTimeout((()=>M.onEditTagBlur.call(D,D.getTagTextNode(s))))})),h.addEventListener("input",M.onEditTagInput.bind(this,h)),h.addEventListener("paste",M.onEditTagPaste.bind(this,h)),h.addEventListener("keydown",(W=>M.onEditTagkeydown.call(this,W,s))),h.addEventListener("compositionstart",M.onCompositionStart.bind(this)),h.addEventListener("compositionend",M.onCompositionEnd.bind(this)),c.skipValidation||(q=this.editTagToggleValidity(s)),h.originalIsValid=q,this.trigger("edit:start",{tag:s,index:k,data:$,isValid:q}),h.focus(),this.setRangeAtStartEnd(!1,h),this},editTagToggleValidity(s,c){var u;if(c=c||I(s))return(u=!("__isValid"in c)||c.__isValid===!0)||this.removeTagsFromValue(s),this.update(),s.classList.toggle(this.settings.classNames.tagNotAllowed,!u),c.__isValid},onEditTagDone(s,c){c=c||{};var u={tag:s=s||this.state.editing.scope,index:this.getNodeIndex(s),previousData:I(s),data:c};this.trigger("edit:beforeUpdate",u,{cloneData:!1}),this.state.editing=!1,delete c.__originalData,delete c.__originalHTML,s&&c[this.settings.tagTextProp]?(s=this.replaceTag(s,c),this.editTagToggleValidity(s,c),this.settings.a11y.focusableTags?s.focus():this.placeCaretAfterNode(s)):s&&this.removeTags(s),this.trigger("edit:updated",u),this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag(s,c){c&&c.value||(c=s.__tagifyTagData),c.__isValid&&c.__isValid!=1&&b(c,this.getInvalidTagAttrs(c,c.__isValid));var u=this.createTagElem(c);return s.parentNode.replaceChild(u,s),this.updateValueByDOMTags(),u},updateValueByDOMTags(){this.value.length=0,[].forEach.call(this.getTagElms(),(s=>{s.classList.contains(this.settings.classNames.tagNotAllowed.split(" ")[0])||this.value.push(I(s))})),this.update()},injectAtCaret(s,c){return!(c=c||this.state.selection?.range)&&s?(this.appendMixTags(s),this):(L(s,c),this.setRangeAtStartEnd(!1,s),this.updateValueByDOMTags(),this.update(),this)},input:{set(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",c=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];var u=this.settings.dropdown.closeOnSelect;this.state.inputText=s,c&&(this.DOM.input.innerHTML=f(""+s)),!s&&u&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw(){return this.DOM.input.textContent},validate(){var s=!this.state.inputText||this.validateTag({value:this.state.inputText})===!0;return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!s),s},normalize(s){var c=s||this.DOM.input,u=[];c.childNodes.forEach((h=>h.nodeType==3&&u.push(h.nodeValue))),u=u.join(`
`);try{u=u.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch{}return u=u.replace(/\s/g," "),this.trim(u)},autocomplete:{suggest(s){if(this.settings.autoComplete.enabled){typeof(s=s||{value:""})=="string"&&(s={value:s});var c=this.dropdown.getMappedValue(s);if(typeof c!="number"){var u=c.substr(0,this.state.inputText.length).toLowerCase(),h=c.substring(this.state.inputText.length);c&&this.state.inputText&&u==this.state.inputText.toLowerCase()?(this.DOM.input.setAttribute("data-suggest",h),this.state.inputSuggestion=s):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}}},set(s){var c=this.DOM.input.getAttribute("data-suggest"),u=s||(c?this.state.inputText+c:null);return!!u&&(this.settings.mode=="mix"?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+u)):(this.input.set.call(this,u),this.setRangeAtStartEnd(!1,this.DOM.input)),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx(s){return this.value.findIndex((c=>c.__tagId==(s||{}).__tagId))},getNodeIndex(s){var c=0;if(s)for(;s=s.previousElementSibling;)c++;return c},getTagElms(){for(var s=arguments.length,c=new Array(s),u=0;u<s;u++)c[u]=arguments[u];var h="."+[...this.settings.classNames.tag.split(" "),...c].join(".");return[].slice.call(this.DOM.scope.querySelectorAll(h))},getLastTag(){var s=this.DOM.scope.querySelectorAll(`${this.settings.classNames.tagSelector}:not(.${this.settings.classNames.tagHide}):not([readonly])`);return s[s.length-1]},isTagDuplicate(s,c,u){var h=0;if(this.settings.mode=="select")return!1;for(let k of this.value)i(this.trim(""+s),k.value,c)&&u!=k.__tagId&&h++;return h},getTagIndexByValue(s){var c=[];return this.getTagElms().forEach(((u,h)=>{i(this.trim(u.textContent),s,this.settings.dropdown.caseSensitive)&&c.push(h)})),c},getTagElmByValue(s){var c=this.getTagIndexByValue(s)[0];return this.getTagElms()[c]},flashTag(s){s&&(s.classList.add(this.settings.classNames.tagFlash),setTimeout((()=>{s.classList.remove(this.settings.classNames.tagFlash)}),100))},isTagBlacklisted(s){return s=this.trim(s.toLowerCase()),this.settings.blacklist.filter((c=>(""+c).toLowerCase()==s)).length},isTagWhitelisted(s){return!!this.getWhitelistItem(s)},getWhitelistItem(s,c,u){c=c||"value";var h,k=this.settings;return(u=u||k.whitelist).some(($=>{var M=typeof $=="string"?$:$[c]||$.value;if(i(M,s,k.dropdown.caseSensitive,k.trim))return h=typeof $=="string"?{value:$}:$,!0})),h||c!="value"||k.tagTextProp=="value"||(h=this.getWhitelistItem(s,k.tagTextProp,u)),h},validateTag(s){var c=this.settings,u="value"in s?"value":c.tagTextProp,h=this.trim(s[u]+"");return(s[u]+"").trim()?c.pattern&&c.pattern instanceof RegExp&&!c.pattern.test(h)?this.TEXTS.pattern:!c.duplicates&&this.isTagDuplicate(h,c.dropdown.caseSensitive,s.__tagId)?this.TEXTS.duplicate:this.isTagBlacklisted(h)||c.enforceWhitelist&&!this.isTagWhitelisted(h)?this.TEXTS.notAllowed:!c.validate||c.validate(s):this.TEXTS.empty},getInvalidTagAttrs(s,c){return{"aria-invalid":!0,class:`${s.class||""} ${this.settings.classNames.tagNotAllowed}`.trim(),title:c}},hasMaxTags(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly(s,c){var u=this.settings;document.activeElement.blur(),u[c||"readonly"]=s,this.DOM.scope[(s?"set":"remove")+"Attribute"](c||"readonly",!0),this.setContentEditable(!s)},setContentEditable(s){this.settings.userInput&&(this.DOM.input.contentEditable=s,this.DOM.input.tabIndex=s?0:-1)},setDisabled(s){this.setReadonly(s,"disabled")},normalizeTags(s){var c=this.settings,u=c.whitelist,h=c.delimiters,k=c.mode,$=c.tagTextProp,M=[],D=!!u&&u[0]instanceof Object,q=Array.isArray(s),W=q&&s[0].value,se=le=>(le+"").split(h).filter((ce=>ce)).map((ce=>({[$]:this.trim(ce),value:this.trim(ce)})));if(typeof s=="number"&&(s=s.toString()),typeof s=="string"){if(!s.trim())return[];s=se(s)}else q&&(s=[].concat(...s.map((le=>le.value?le:se(le)))));return D&&!W&&(s.forEach((le=>{var ce=M.map((Ce=>Ce.value)),_e=this.dropdown.filterListItems.call(this,le[$],{exact:!0});this.settings.duplicates||(_e=_e.filter((Ce=>!ce.includes(Ce.value))));var Ee=_e.length>1?this.getWhitelistItem(le[$],$,_e):_e[0];Ee&&Ee instanceof Object?M.push(Ee):k!="mix"&&(le.value==null&&(le.value=le[$]),M.push(le))})),M.length&&(s=M)),s},parseMixTags(s){var c=this.settings,u=c.mixTagsInterpolator,h=c.duplicates,k=c.transformTag,$=c.enforceWhitelist,M=c.maxTags,D=c.tagTextProp,q=[];return s=s.split(u[0]).map(((W,se)=>{var le,ce,_e,Ee=W.split(u[1]),Ce=Ee[0],Te=q.length==M;try{if(Ce==+Ce)throw Error;ce=JSON.parse(Ce)}catch{ce=this.normalizeTags(Ce)[0]||{value:Ce}}if(k.call(this,ce),Te||!(Ee.length>1)||$&&!this.isTagWhitelisted(ce.value)||!h&&this.isTagDuplicate(ce.value)){if(W)return se?u[0]+W:W}else ce[le=ce[D]?D:"value"]=this.trim(ce[le]),_e=this.createTagElem(ce),q.push(ce),_e.classList.add(this.settings.classNames.tagNoAnimation),Ee[0]=_e.outerHTML,this.value.push(ce);return Ee.join("")})).join(""),this.DOM.input.innerHTML=s,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize(),this.getTagElms().forEach(((W,se)=>I(W,q[se]))),this.update({withoutChangeEvent:!0}),s},replaceTextWithNode(s,c){if(this.state.tag||c){c=c||this.state.tag.prefix+this.state.tag.value;var u,h,k=this.state.selection||window.getSelection(),$=k.anchorNode,M=this.state.tag.delimiters?this.state.tag.delimiters.length:0;return $.splitText(k.anchorOffset-M),(u=$.nodeValue.lastIndexOf(c))==-1||(h=$.splitText(u),s&&$.parentNode.replaceChild(s,h)),!0}},selectTag(s,c){var u=this.settings;if(!u.enforceWhitelist||this.isTagWhitelisted(c.value)){this.input.set.call(this,c[u.tagTextProp]||c.value,!0),this.state.actions.selectOption&&setTimeout((()=>this.setRangeAtStartEnd(!1,this.DOM.input)));var h=this.getLastTag();return h?this.replaceTag(h,c):this.appendTag(s),this.value[0]=c,this.update(),this.trigger("add",{tag:s,data:c}),[s]}},addEmptyTag(s){var c=b({value:""},s||{}),u=this.createTagElem(c);I(u,c),this.appendTag(u),this.editTag(u,{skipValidation:!0})},addTags(s,c,u){var h=[],k=this.settings,$=[],M=document.createDocumentFragment();if(u=u||k.skipInvalid,!s||s.length==0)return h;switch(s=this.normalizeTags(s),k.mode){case"mix":return this.addMixTags(s);case"select":c=!1,this.removeAllTags()}return this.DOM.input.removeAttribute("style"),s.forEach((D=>{var q,W={},se=Object.assign({},D,{value:D.value+""});if(D=Object.assign({},se),k.transformTag.call(this,D),D.__isValid=this.hasMaxTags()||this.validateTag(D),D.__isValid!==!0){if(u)return;if(b(W,this.getInvalidTagAttrs(D,D.__isValid),{__preInvalidData:se}),D.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(D.value)),!k.createInvalidTags)return void $.push(D.value)}if("readonly"in D&&(D.readonly?W["aria-readonly"]=!0:delete D.readonly),q=this.createTagElem(D,W),h.push(q),k.mode=="select")return this.selectTag(q,D);M.appendChild(q),D.__isValid&&D.__isValid===!0?(this.value.push(D),this.trigger("add",{tag:q,index:this.value.length-1,data:D})):(this.trigger("invalid",{data:D,index:this.value.length,tag:q,message:D.__isValid}),k.keepInvalidTags||setTimeout((()=>this.removeTags(q,!0)),1e3)),this.dropdown.position()})),this.appendTag(M),this.update(),s.length&&c&&(this.input.set.call(this,k.createInvalidTags?"":$.join(k._delimiters)),this.setRangeAtStartEnd(!1,this.DOM.input)),k.dropdown.enabled&&this.dropdown.refilter(),h},addMixTags(s){if((s=this.normalizeTags(s))[0].prefix||this.state.tag)return this.prefixedTextToTag(s[0]);typeof s=="string"&&(s=[{value:s}]);var c=document.createDocumentFragment();return s.forEach((u=>{var h=this.createTagElem(u);c.appendChild(h),this.insertAfterTag(h)})),this.appendMixTags(c),c},appendMixTags(s){var c=!!this.state.selection;c?this.injectAtCaret(s):(this.DOM.input.focus(),(c=this.setStateSelection()).range.setStart(this.DOM.input,c.range.endOffset),c.range.setEnd(this.DOM.input,c.range.endOffset),this.DOM.input.appendChild(s),this.updateValueByDOMTags(),this.update())},prefixedTextToTag(s){var c,u=this.settings,h=this.state.tag.delimiters;if(u.transformTag.call(this,s),s.prefix=s.prefix||this.state.tag?this.state.tag.prefix:(u.pattern.source||u.pattern)[0],c=this.createTagElem(s),this.replaceTextWithNode(c)||this.DOM.input.appendChild(c),setTimeout((()=>c.classList.add(this.settings.classNames.tagNoAnimation)),300),this.value.push(s),this.update(),!h){var k=this.insertAfterTag(c)||c;this.placeCaretAfterNode(k)}return this.state.tag=null,this.trigger("add",b({},{tag:c},{data:s})),c},appendTag(s){var c=this.DOM,u=c.input;c.scope.insertBefore(s,u)},createTagElem(s,c){s.__tagId=x();var u,h=b({},s,e({value:f(s.value+"")},c));return(function(k){for(var $,M=document.createNodeIterator(k,NodeFilter.SHOW_TEXT,null,!1);$=M.nextNode();)$.textContent.trim()||$.parentNode.removeChild($)})(u=this.parseTemplate("tag",[h,this])),I(u,s),u},reCheckInvalidTags(){var s=this.settings;this.getTagElms(s.classNames.tagNotAllowed).forEach(((c,u)=>{var h=I(c),k=this.hasMaxTags(),$=this.validateTag(h),M=$===!0&&!k;if(s.mode=="select"&&this.toggleScopeValidation($),M)return h=h.__preInvalidData?h.__preInvalidData:{value:h.value},this.replaceTag(c,h);c.title=k||$}))},removeTags(s,c,u){var h,k=this.settings;if(s=s&&s instanceof HTMLElement?[s]:s instanceof Array?s:s?[s]:[this.getLastTag()],h=s.reduce((($,M)=>{M&&typeof M=="string"&&(M=this.getTagElmByValue(M));var D=I(M);return M&&D&&!D.readonly&&$.push({node:M,idx:this.getTagIdx(D),data:I(M,{__removed:!0})}),$}),[]),u=typeof u=="number"?u:this.CSSVars.tagHideTransition,k.mode=="select"&&(u=0,this.input.set.call(this)),h.length==1&&k.mode!="select"&&h[0].node.classList.contains(k.classNames.tagNotAllowed)&&(c=!0),h.length)return k.hooks.beforeRemoveTag(h,{tagify:this}).then((()=>{function $(M){M.node.parentNode&&(M.node.parentNode.removeChild(M.node),c?k.keepInvalidTags&&this.trigger("remove",{tag:M.node,index:M.idx}):(this.trigger("remove",{tag:M.node,index:M.idx,data:M.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),k.keepInvalidTags&&this.reCheckInvalidTags()))}u&&u>10&&h.length==1?function(M){M.node.style.width=parseFloat(window.getComputedStyle(M.node).width)+"px",document.body.clientTop,M.node.classList.add(k.classNames.tagHide),setTimeout($.bind(this),u,M)}.call(this,h[0]):h.forEach($.bind(this)),c||(this.removeTagsFromValue(h.map((M=>M.node))),this.update(),k.mode=="select"&&this.setContentEditable(!0))})).catch(($=>{}))},removeTagsFromDOM(){[].slice.call(this.getTagElms()).forEach((s=>s.parentNode.removeChild(s)))},removeTagsFromValue(s){(s=Array.isArray(s)?s:[s]).forEach((c=>{var u=I(c),h=this.getTagIdx(u);h>-1&&this.value.splice(h,1)}))},removeAllTags(s){s=s||{},this.value=[],this.settings.mode=="mix"?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.refilter(),this.dropdown.position(),this.state.dropdown.visible&&setTimeout((()=>{this.DOM.input.focus()})),this.settings.mode=="select"&&(this.input.set.call(this),this.setContentEditable(!0)),this.update(s)},postUpdate(){var s=this.settings,c=s.classNames,u=s.mode=="mix"?s.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():this.value.length+this.input.raw.call(this).length;this.toggleClass(c.hasMaxTags,this.value.length>=s.maxTags),this.toggleClass(c.hasNoTags,!this.value.length),this.toggleClass(c.empty,!u),s.mode=="select"&&this.toggleScopeValidation(this.value?.[0]?.__isValid)},setOriginalInputValue(s){var c=this.DOM.originalInput;this.settings.mixMode.integrated||(c.value=s,c.tagifyValue=c.value,this.setPersistedData(s,"value"))},update(s){clearTimeout(this.debouncedUpdateTimeout),this.debouncedUpdateTimeout=setTimeout(function(){var c=this.getInputValue();this.setOriginalInputValue(c),this.postUpdate(),this.settings.onChangeAfterBlur&&(s||{}).withoutChangeEvent||this.state.blockChangeEvent||this.triggerChangeEvent()}.bind(this),100)},getInputValue(){var s=this.getCleanValue();return this.settings.mode=="mix"?this.getMixedTagsAsString(s):s.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(s):JSON.stringify(s):""},getCleanValue(s){return n(s||this.value,this.dataProps)},getMixedTagsAsString(){var s="",c=this,u=this.settings,h=u.originalInputValueFormat||JSON.stringify,k=u.mixTagsInterpolator;return(function $(M){M.childNodes.forEach((D=>{if(D.nodeType==1){let q=I(D);if(D.tagName=="BR"&&(s+=`\r
`),q&&_.call(c,D)){if(q.__removed)return;s+=k[0]+h(a(q,c.dataProps))+k[1]}else D.getAttribute("style")||["B","I","U"].includes(D.tagName)?s+=D.textContent:D.tagName!="DIV"&&D.tagName!="P"||(s+=`\r
`,$(D))}else s+=D.textContent}))})(this.DOM.input),s}},E.prototype.removeTag=E.prototype.removeTags,E}))});var Ty={};var yf,Zs,wf=y(()=>{yf=Mt(xf(),1);S();Ye();Zs=class extends we{tagify;createInput(){let{name:e,id:t,value:i}=this._data,n=p("textarea",["am-f-input"],{name:e,id:t},this);n.innerHTML=i,this.tagify=new yf.default(n,{whitelist:r.tags,originalInputValueFormat:a=>a.map(l=>l.value).join(", "),dropdown:{enabled:0,maxItems:8,position:"text",closeOnSelect:!0}}),this.listen(n,"change",()=>{this.closest("am-page-data-form").onChange()}),this.listen(n,"change",ke(()=>{let a=Et.getInstance(),l=n.value.split(",").map(d=>d.trim());a.set("tags",[...new Set([...a.get("tags"),...l])].sort())},500))}disconnectedCallback(){this.tagify.destroy(),super.disconnectedCallback()}};customElements.define("am-page-tags-field",Zs)});var Tf={};ae(Tf,{PageTemplateFieldComponent:()=>zr});var _y,Qs,Ey,kf,el,zr,_f=y(()=>{S();Y();_y=(o,e="")=>{let t=o.split("/").reverse()[0].replace(/\.php$/g,"");return zt([e,t].join("/"))},Qs=(o,e="")=>{let t=o.split("/").reverse()[0].replace(/\.php$/g,"");return[e,t].filter(i=>i.length).join("/")},Ey=({fields:o,template:e,themeKey:t})=>{let i=r.themes,n=i[r.mainTheme];typeof n>"u"&&(n=Object.values(i)[0]);let a=!1,l=n,d=Qs(e),m=zt(d),f="code-slash";return typeof i[o[t]]<"u"&&(l=i[o[t]],m=zt(`${l.name}/${d}`),d=Qs(e,l.path)),a=l?.templates.indexOf(e)!==-1,a||(f="question-circle"),{buttonLabel:m,buttonIcon:f,selectedTemplate:d}},kf=(o,e,t,i="*",n="")=>{o.forEach(a=>{let l=Qs(a,n),d=p("option",[],{value:l},e);d.textContent=_y(l,i),t==l&&d.setAttribute("selected","")})},el=class extends F{connectedCallback(){this.classList.add("am-f-select");let e=this.getAttribute("value"),t=r.themes[r.mainTheme]||r.themes[Object.keys(r.themes)[0]],i=r.themes,n=p("span",[],{},this),a=p("select",[],{name:"theme_template"},this),l=p("optgroup",[],{label:"*"},a);kf(t?.templates??[],l,e),Object.values(i).forEach(m=>{let f=p("optgroup",[],{label:m.name},a);kf(m.templates,f,e,m.name,m.path)});let d=()=>{n.textContent=a.options[a.selectedIndex].text};this.listen(a,"change",d.bind(this,!0)),setTimeout(d,0)}},zr=class extends F{set data({fields:e,template:t,themeKey:i,readme:n}){this.render({fields:e,template:t,themeKey:i,readme:n})}connectedCallback(){this.classList.add("am-c-field")}render({fields:e,template:t,themeKey:i,readme:n}){let{buttonLabel:a,buttonIcon:l,selectedTemplate:d}=Ey({fields:e,template:t,themeKey:i,readme:n});if(this.innerHTML=w`<label class="${"am-c-field__label"}">${r.text("pageTemplate")}</label><am-modal-toggle ${"am-modal"}="#am-page-template-modal" class="${"am-f-input"} ${"am-u-flex"} ${"am-u-flex--align-center"} ${"am-u-flex--between"} ${"am-u-cursor-pointer"}" ><am-icon-text ${"am-icon"}="${l}" ${"am-text"}="${a}" ></am-icon-text><i class="bi bi-pen"></i></am-modal-toggle>`,n){let v=p("a",[],{href:n,target:"_blank"},this);p("am-icon-text",[],{"am-icon":"file-earmark-text","am-text":r.text("themeReadme")},v)}let m=p("am-modal",[],{id:"am-page-template-modal"},this,w`<am-modal-dialog><am-modal-header>${r.text("pageTemplate")}</am-modal-header><am-modal-body></am-modal-body></am-modal-dialog>`),f=R("am-modal-body",this);Object.keys(r.themes).length>0?f.innerHTML=w`<am-page-template-select value="${d}" ></am-page-template-select>`:f.textContent=r.text("noThemesFound"),this.listen(m,"change",()=>{p("p",["am-u-text-muted"],{},f,w`<div class="${"am-u-flex"} ${"am-u-flex--align-center"}"><am-spinner class="${"am-u-text-muted"}"></am-spinner>${r.text("switchingTemplateProgress")}</div>`)})}};customElements.define("am-page-template-field",zr);customElements.define("am-page-template-select",el)});var Cy={};var tl,Ef=y(()=>{S();Dr();tl=class extends ho{get inputType(){return"password"}};customElements.define("am-password-field",tl)});var Cf={};ae(Cf,{PlatformSelectorComponent:()=>Fr});var Fr,Af=y(()=>{S();Xe();Ye();Fr=class extends we{get input(){return R("[name]:checked",this)}createInput(){let e=p("div",["am-f-platform-select"],{},this);this.addOption(e,"github","GitHub"),this.addOption(e,"gitlab","GitLab")}addOption(e,t,i){let{name:n,id:a,value:l}=this._data,d=p("span",["am-f-platform-select__option"],{},e);p("input",[],{id:`${a}-${t}`,name:n,value:t,type:"radio",...l==t?{checked:""}:{}},d);let m=p("label",[],{for:`${a}-${t}`},d);p("span",["am-f-platform-select__icon"],{},m,w`<i class="bi bi-${t}"></i>`),p("span",[],{},m,i),p("i",["am-f-platform-select__active-icon","bi","bi-check-circle"],{},m)}};customElements.define("am-platform-select-field",Fr)});var Ay={};var ol,Sf=y(()=>{S();Ye();ol=class extends we{createInput(){let{name:e,id:t,value:i,options:n,placeholder:a}=this._data,l=Object.keys(n).map(m=>({value:m,text:n[m]})),d=be([{text:fe()?`${r.text("useSharedDefault")} ${a?`(${n[String(a)]})`:""}`:"&mdash;",value:""},...l],`${i}`,this,e,t,'<i class="bi bi-ui-radios"></i>',i?[]:["am-u-text-muted"]);this.listen(d,"change",()=>{d.classList.toggle("am-u-text-muted",!this.input.value)})}};customElements.define("am-select-field",ol)});var Mf,$f=y(()=>{Mf=[{text:"Atom Dark",value:"atom-dark"},{text:"Atom One Dark",value:"atom-one-dark"},{text:"Atom One Light",value:"atom-one-light"},{text:"Atom One (Light/Dark Combo)",value:"atom-one.light-dark"},{text:"Aura Dark",value:"aura-dark"},{text:"Automad Dark",value:"automad-dark"},{text:"Automad Light",value:"automad-light"},{text:"Automad (Light/Dark Combo)",value:"automad.light-dark"},{text:"Ayu Dark",value:"ayu-dark"},{text:"Ayu Light",value:"ayu-light"},{text:"Ayu Mirage",value:"ayu-mirage"},{text:"Ayu Mirage (Light/Dark Combo)",value:"ayu-mirage.light-dark"},{text:"Ayu (Light/Dark Combo)",value:"ayu.light-dark"},{text:"Base",value:"base"},{text:"Bearded Arc Blueberry",value:"bearded-arc-blueberry"},{text:"Bearded Arc Blueberry (Light/Dark Combo)",value:"bearded-arc-blueberry.light-dark"},{text:"Bearded Vivid Light",value:"bearded-vivid-light"},{text:"Boola Dark",value:"boola-dark"},{text:"Boola Light",value:"boola-light"},{text:"Boola (Light/Dark Combo)",value:"boola.light-dark"},{text:"Catppuccin Frappe",value:"catppuccin-frappe"},{text:"Catppuccin Frappe (Light/Dark Combo)",value:"catppuccin-frappe.light-dark"},{text:"Catppuccin Latte",value:"catppuccin-latte"},{text:"Catppuccin Macchiato",value:"catppuccin-macchiato"},{text:"Catppuccin Macchiato (Light/Dark Combo)",value:"catppuccin-macchiato.light-dark"},{text:"Catppuccin Mocha",value:"catppuccin-mocha"},{text:"Catppuccin Mocha (Light/Dark Combo)",value:"catppuccin-mocha.light-dark"},{text:"Coldark Cold",value:"coldark-cold"},{text:"Coldark Dark",value:"coldark-dark"},{text:"Coldark (Light/Dark Combo)",value:"coldark.light-dark"},{text:"Dark Frost",value:"dark-frost"},{text:"Dark Space",value:"dark-space"},{text:"Dracula",value:"dracula"},{text:"Duotone Dark",value:"duotone-dark"},{text:"Duotone Earth",value:"duotone-earth"},{text:"Duotone Forest",value:"duotone-forest"},{text:"Duotone Light",value:"duotone-light"},{text:"Duotone Sea",value:"duotone-sea"},{text:"Duotone Space",value:"duotone-space"},{text:"Github Dark",value:"github-dark"},{text:"Github Light",value:"github-light"},{text:"Github (Light/Dark Combo)",value:"github.light-dark"},{text:"Gruvbox Dark",value:"gruvbox-dark"},{text:"Gruvbox Light",value:"gruvbox-light"},{text:"Gruvbox (Light/Dark Combo)",value:"gruvbox.light-dark"},{text:"Laserwave",value:"laserwave"},{text:"Night Owl Light",value:"night-owl-light"},{text:"Night Owl",value:"night-owl"},{text:"Night Owl (Light/Dark Combo)",value:"night-owl.light-dark"},{text:"Nightfall",value:"nightfall"},{text:"Nord",value:"nord"},{text:"Panda",value:"panda"},{text:"Poimandres",value:"poimandres"},{text:"Rose Pine Dawn",value:"rose-pine-dawn"},{text:"Rose Pine",value:"rose-pine"},{text:"Rose Pine (Light/Dark Combo)",value:"rose-pine.light-dark"},{text:"Sakura Sun",value:"sakura-sun"},{text:"Sea Shells Dark",value:"sea-shells-dark"},{text:"Serendipity Midnight",value:"serendipity-midnight"},{text:"Serendipity Midnight (Light/Dark Combo)",value:"serendipity-midnight.light-dark"},{text:"Serendipity Morning",value:"serendipity-morning"},{text:"Serendipity Sunset",value:"serendipity-sunset"},{text:"Serendipity Sunset (Light/Dark Combo)",value:"serendipity-sunset.light-dark"},{text:"Shades Of Purple",value:"shades-of-purple"},{text:"Solarized Dark Atom",value:"solarized-dark-atom"},{text:"Synthwave84",value:"synthwave84"},{text:"Tailwind Ice",value:"tailwind-ice"},{text:"Tailwind Moon Blue",value:"tailwind-moon-blue"},{text:"Tailwind Moon Blue (Light/Dark Combo)",value:"tailwind-moon-blue.light-dark"},{text:"Tokyo Night Light",value:"tokyo-night-light"},{text:"Tokyo Night Storm",value:"tokyo-night-storm"},{text:"Tokyo Night Storm (Light/Dark Combo)",value:"tokyo-night-storm.light-dark"},{text:"Tokyo Night",value:"tokyo-night"},{text:"Tokyo Night (Light/Dark Combo)",value:"tokyo-night.light-dark"},{text:"Verdandi Alter",value:"verdandi-alter"},{text:"Verdandi",value:"verdandi"},{text:"Verdandi (Light/Dark Combo)",value:"verdandi.light-dark"},{text:"Violet Dream",value:"violet-dream"},{text:"Vsc Dark Plus",value:"vsc-dark-plus"}]});var My={};var $y,il,Lf=y(()=>{S();Ye();$f();$y="automad.light-dark",il=class extends we{createInput(){let{name:e,id:t,value:i}=this._data,n=!!fe(),l=i||(n?"":$y),d=[{text:"&mdash;",value:"base"},...Mf.filter(m=>m.value!="base")];n&&(d=[{text:r.text("useSharedDefault"),value:""},...d]),this.classList.add("am-u-flex","am-u-flex--column","am-u-flex--gap"),be(d,l,this,e,t),p("div",[],{},this,w`<a href="https://automadcms.github.io/automad-prism-themes/" target="_blank" ><am-icon-text ${"am-icon"}="palette2" ${"am-text"}="${r.text("visitSyntaxGallery")}" ></am-icon-text></a>`)}};customElements.define("am-syntax-theme-select-field",il)});var Ly={};var nl,If=y(()=>{S();Ye();nl=class extends we{createInput(){let{name:e,id:t,value:i,placeholder:n}=this._data,a=p("textarea",["am-f-input"],{id:t,name:e,placeholder:n,wrap:"off"},this);a.textContent=i,this.initAutoResize(a),this.listeners.push($u(a))}initAutoResize(e){let t=ke(()=>{this.fitContent(e)},50);this.listen(e,"keyup focus focusout drop paste",t),this.listen(window,"resize",t),t()}fitContent(e){let t=p("div",["am-f-input"],{style:`position: absolute; height: auto; width: ${e.offsetWidth}; white-space: pre-line; opacity: 0;`},this);t.textContent=e.value+"-",e.style.height=`${t.offsetHeight+15}px`,t.remove()}};customElements.define("am-textarea-field",nl)});var Iy={};var rl,Df=y(()=>{S();Ye();rl=class extends we{createInput(){let{name:e,id:t,value:i}=this._data;p("input",["am-f-input","am-f-input--title"],{id:t,name:e,value:i,type:"text"},this)}};customElements.define("am-title-field",rl)});var zf={};ae(zf,{ToggleFieldComponent:()=>di});var di,al=y(()=>{S();Ye();di=class extends we{classes=["am-f-toggle","am-f-toggle--button"];createInput(){let{name:e,id:t,value:i,label:n}=this._data;p("div",this.classes,{},this,w`<input type="checkbox" name="${e}" id="${t}" value="1" ${i?"checked":""} /><label for="${t}"><i class="bi"></i><span>${n}</span></label>`)}query(){return this.input.checked}mutate(e){this.input.checked=e}};customElements.define("am-toggle-field",di)});var Dy={};var sl,Ff=y(()=>{S();al();sl=class extends di{classes=["am-f-toggle","am-f-toggle--large"];createLabel(){}};customElements.define("am-toggle-large-field",sl)});var zy={};var ll,Of=y(()=>{S();Ye();ll=class extends we{createInput(){let{name:e,id:t,value:i,label:n,placeholder:a}=this._data,l=p("div",["am-f-toggle","am-f-toggle--select"],{},this,w`<label for="${t}"><i class="bi"></i><span>${n}</span></label><select name="${e}" id="${t}"><option value="">${r.text("useSharedDefault")}</option><option value="0">${r.text("disable")}</option><option value="1">${r.text("enable")}</option></select>`),d=()=>{l.classList.toggle("am-f-toggle--off",m.value==="0"),l.classList.toggle("am-f-toggle--on",m.value==="1")};l.classList.toggle("am-f-toggle--default-on",a!="");let m=R("select",l);m.value=i||"",this.listen(m,"change",d.bind(this)),d()}};customElements.define("am-toggle-select-field",ll)});var Fy={};var cl,Nf=y(()=>{S();Ye();cl=class extends we{createInput(){let{name:e,id:t,value:i,placeholder:n,label:a}=this._data,l=p("div",["am-f-input-combo"],{},this),d=`urlComponent_${t}`,m=p("input",["am-f-input"],{id:t,name:e,value:i,type:"text",placeholder:n},l),f=p("span",["am-f-input-combo__button"],this.hasAttribute("disabled")?{disabled:""}:{},l,'<i class="bi bi-link"></i>');new ve(d,{input:m}),this.listen(f,"click",()=>{kr(d,a)})}};customElements.define("am-url-field",cl)});var Oy={};var dl,Bf=y(()=>{S();Y();dl=class extends F{set data(e){this.render(e)}connectedCallback(){this.classList.add("am-c-card")}render(e){let t="",i="";e.width&&e.height&&(t=w`<div class="${"am-c-icon-text"}"><i class="bi bi-aspect-ratio"></i><span>${e.width}  ${e.height}</span></div>`),e.caption&&r.fileTypesImage.includes(e.extension)&&(i=w`<am-icon-text ${"am-icon"}="chat-square-text" ${"am-text"}="$${e.caption}" ></am-icon-text>`),this.innerHTML=w`${this.renderPreview(e)} <am-file-info class="${"am-u-flex__item-grow"} ${"am-u-flex"} ${"am-u-flex--column"} ${"am-u-flex--gap"} ${"am-u-cursor-pointer"}" ><div class="${"am-c-card__title"}" ${"am-tooltip"}="$${e.basename}" > $${e.basename}</div><div class="${"am-c-card__body"}"> ${i} ${t} <am-icon-text ${"am-icon"}="calendar2-date" ${"am-text"}="${e.mtime||"-"}" ></am-icon-text><am-icon-text ${"am-icon"}="hdd" ${"am-text"}="${e.size||"-"}" ></am-icon-text></div></am-file-info><div class="${"am-c-card__footer"}"> ${this.renderDropdown(e)} <am-checkbox name="selected[$${e.basename}]"></am-checkbox></div>`,re("am-file-info",this).forEach(n=>{n.data=e})}renderPreview(e){if(e.thumbnail)return w`<am-file-robot ${"am-file"}="${r.baseURL}${e.url}?${Date.now()}" class="${"am-c-card__teaser"} ${"am-u-cursor-pointer"}" ${"am-tooltip"}="$${e.basename}" ><img src="${e.thumbnail}" /></am-file-robot>`;let t=r.fileTypesVideo.includes(e.extension)?"film":`filetype-${e.extension}`;return w`<am-file-info class="${"am-c-card__teaser"} ${"am-u-cursor-pointer"}" ${"am-tooltip"}="$${e.basename}" ><i class="bi bi-file-earmark bi-${t}"></i></am-file-info>`}renderDropdown(e){let t="";return e.thumbnail&&(t=w`<am-file-robot ${"am-file"}="${r.baseURL}${e.url}" class="${"am-c-dropdown__link"}" ><am-icon-text ${"am-icon"}="pencil" ${"am-text"}="${r.text("editImage")}" ></am-icon-text></am-file-robot>`),w`<am-dropdown><i class="bi bi-three-dots"></i><div class="${"am-c-dropdown__items"}"> ${t} <am-file-info class="${"am-c-dropdown__link"}"><am-icon-text ${"am-icon"}="card-heading" ${"am-text"}="${r.text("editFileInfo")}" ></am-icon-text></am-file-info><am-copy class="${"am-c-dropdown__link"}" value="${e.url}"><am-icon-text ${"am-icon"}="clipboard-plus" ${"am-text"}="${r.text("copyUrlClipboard")}" ></am-icon-text></am-copy><a href="${r.baseURL}${e.url}" class="${"am-c-dropdown__link"}" target="_blank" ><am-icon-text ${"am-icon"}="box-arrow-down" ${"am-text"}="${r.text("downloadFile")}" ></am-icon-text></a></div></am-dropdown>`}};customElements.define("am-file-card",dl)});var Ny={};var ml,Rf=y(()=>{Y();S();ml=class extends F{connectedCallback(){let e=p("span",[],{},this),t=()=>{let i=re("am-file-card").length;e.textContent=`${i}`};this.listen(window,"AutomadFileCollectionRender",t.bind(this)),setTimeout(t.bind(this),0)}};customElements.define("am-file-count",ml)});var Pf={};ae(Pf,{FileInfoComponent:()=>Or});var Or,Hf=y(()=>{S();Y();Or=class extends F{data;connectedCallback(){this.listen(this,"click",()=>{if(!this.data)return;let e=this.createModal(this.data);setTimeout(()=>{e.open()},0)})}createModal(e){let t=p("am-modal",[],{"am-destroy":""},document.body);return t.innerHTML=this.renderModal(e),t}renderModal(e){let t="";return r.fileTypesImage.includes(e.extension)&&(t=P("am-textarea-field",null,{key:"caption",value:e.caption,name:"caption",label:r.text("imageCaption")},[]).outerHTML),w`<am-form ${"am-api"}="${"FileController::editInfo"}" ${"am-event"}="${"AutomadFilesChangeOnServer"}" class="${"am-c-modal__dialog"}" ><am-modal-header>${r.text("editFileInfo")}</am-modal-header><input type="hidden" name="old-name" value="${e.basename}" /><am-modal-body>${P("am-input-field",null,{key:"new-name",value:e.basename,name:"new-name",label:r.text("fileName")},[]).outerHTML} ${t}</am-modal-body><am-modal-footer><a href="${r.baseURL}${e.url}" class="${"am-e-button"}" target="_blank" > ${r.text("downloadFile")}</a><am-submit class="${"am-e-button"} ${"am-e-button--primary"}"> ${r.text("save")}</am-submit></am-modal-footer></am-form>`}};customElements.define("am-file-info",Or)});var Uf,jf=y(()=>{Uf={palette:{"txt-primary":"hsl(var(--am-clr-text-paragraph))","txt-primary-invert":"hsl(var(--am-clr-background))","txt-secondary":"hsl(var(--am-clr-text-paragraph))","txt-secondary-invert":"hsl(var(--am-clr-background))","txt-placeholder":"hsl(var(--am-clr-text-muted))","accent-primary":"hsl(var(--am-clr-text-link))","accent-primary-hover":"hsl(var(--am-clr-text-link-hover))","accent-primary-active":"hsl(var(--am-clr-text-active))","accent-primary-disabled":"hsl(var(--am-clr-background-faded))","bg-primary":"hsl(var(--am-clr-background))","bg-primary-hover":"hsl(var(--am-clr-background))","bg-primary-active":"hsl(var(--am-clr-background))","bg-primary-0-5-opacity":"hsl(var(--am-clr-background))","bg-secondary":"hsl(var(--am-clr-background))","icons-primary":"hsl(var(--am-clr-text-primary))","icons-primary-opacity-0-6":"hsl(var(--am-clr-text-muted))","icons-secondary":"hsl(var(--am-clr-text-paragraph))","btn-primary-text":"hsl(var(--am-clr-text-primary))","btn-disabled-text":"hsl(var(--am-clr-text-muted))","link-primary":"hsl(var(--am-clr-text-link))","link-hover":"hsl(var(--am-clr-text-link-hover))","link-active":"hsl(var(--am-clr-text-active))","borders-primary":"hsl(var(--am-clr-border))","borders-secondary":"hsl(var(--am-clr-border))","borders-strong":"hsl(var(--am-clr-border))","borders-invert":"hsl(var(--am-clr-border))","border-active-bottom":"hsl(var(--am-clr-text))","active-secondary":"hsl(var(--am-clr-background-primary))","active-secondary-hover":"hsl(var(--am-clr-background-primary-hover))","active-secondary-active":"hsl(var(--am-clr-background-primary-hover))","light-shadow":"0 4px 20px rgba(0,0,0,0.1)",tag:"hsl(var(--am-clr-text-paragraph))",error:"hsl(var(--am-clr-text-paragraph))",success:"hsl(var(--am-clr-text-paragraph))",warning:"hsl(var(--am-clr-text-paragraph))",info:"hsl(var(--am-clr-text-paragraph))"},typography:{fontFamily:"InterVariable"}}});var Ry={};var pl,qf=y(()=>{S();Y();jf();pl=class extends F{static get observedAttributes(){return["am-file"]}connectedCallback(){this.listen(this,"click",()=>{let e=this.createModal();setTimeout(()=>{e.open()},0)})}createModal(){let e=p("am-modal",[],{"am-destroy":"","am-no-esc":""},document.body),t=p("am-form",["am-c-modal__dialog","am-c-modal__dialog--fullscreen"],{"am-api":"ImageController::save"},e);return this.initFileRobot(t,e),e}async initFileRobot(e,t){let i={source:this.elementAttributes["am-file"],savingPixelRatio:1,previewPixelRatio:window.devicePixelRatio,useBackendTranslations:!1,theme:Uf,translations:r.state.text,onSave:async(d,m)=>{e.additionalData=d,await e.submit(),X("AutomadFilesChangeOnServer"),l()},onClose:async(d,m)=>{m&&!await St(r.text("discardImageChanges"))||l()}},{FilerobotImageEditor:n}=await import("../vendor/filerobot-0763df16.js"),a=new n(e,i),l=()=>{a.terminate(),t.close()};a.render()}};customElements.define("am-file-robot",pl)});function Vf(){var o=[].slice.call(arguments),e=!1;typeof o[0]=="boolean"&&(e=o.shift());var t=o[0];if(Gf(t))throw new Error("extendee must be an object");for(var i=o.slice(1),n=i.length,a=0;a<n;a++){var l=i[a];for(var d in l)if(Object.prototype.hasOwnProperty.call(l,d)){var m=l[d];if(e&&Py(m)){var f=Array.isArray(m)?[]:{};t[d]=Vf(!0,Object.prototype.hasOwnProperty.call(t,d)&&!Gf(t[d])?t[d]:f,m)}else t[d]=m}}return t}function Py(o){return Array.isArray(o)||{}.toString.call(o)=="[object Object]"}function Gf(o){return!o||typeof o!="object"&&typeof o!="function"}var ul,Kf=y(()=>{ul=Vf});function Hy(o){return o&&o.__esModule?o.default:o}function Wy(o,e){return typeof o<"u"&&o!==null?e(o):void 0}function Xy(o,e,t){if(typeof o<"u"&&o!==null&&typeof o[e]=="function")return t(o,e)}var Nr,Wf,Uy,jy,ge,qy,Gy,Vy,Ky,Br,Xf=y(()=>{Kf();Nr=class{on(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this}emit(e,...t){this._callbacks=this._callbacks||{};let i=this._callbacks[e];if(i)for(let n of i)n.apply(this,t);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+e,{args:t})),this}makeEvent(e,t){let i={bubbles:!0,cancelable:!0,detail:t};if(typeof window.CustomEvent=="function")return new CustomEvent(e,i);var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),n}off(e,t){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let i=this._callbacks[e];if(!i)return this;if(arguments.length===1)return delete this._callbacks[e],this;for(let n=0;n<i.length;n++)if(i[n]===t){i.splice(n,1);break}return this}},Wf={};Wf=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;Uy={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(o,e,t){if(t)return{dzuuid:t.file.upload.uuid,dzchunkindex:t.index,dztotalfilesize:t.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:t.file.upload.totalChunkCount,dzchunkbyteoffset:t.index*this.options.chunkSize}},accept(o,e){return e()},chunksUploaded:function(o,e){e()},binaryBody:!1,fallback(){let o;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let t of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(t.className)){o=t,t.className="dz-message";break}o||(o=ge.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(o));let e=o.getElementsByTagName("span")[0];return e&&(e.textContent!=null?e.textContent=this.options.dictFallbackMessage:e.innerText!=null&&(e.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(o,e,t,i){let n={srcX:0,srcY:0,srcWidth:o.width,srcHeight:o.height},a=o.width/o.height;e==null&&t==null?(e=n.srcWidth,t=n.srcHeight):e==null?e=t*a:t==null&&(t=e/a),e=Math.min(e,n.srcWidth),t=Math.min(t,n.srcHeight);let l=e/t;if(n.srcWidth>e||n.srcHeight>t)if(i==="crop")a>l?(n.srcHeight=o.height,n.srcWidth=n.srcHeight*l):(n.srcWidth=o.width,n.srcHeight=n.srcWidth/l);else if(i==="contain")a>l?t=e/a:e=t*a;else throw new Error(`Unknown resizeMethod '${i}'`);return n.srcX=(o.width-n.srcWidth)/2,n.srcY=(o.height-n.srcHeight)/2,n.trgWidth=e,n.trgHeight=t,n},transformFile(o,e){return(this.options.resizeWidth||this.options.resizeHeight)&&o.type.match(/image.*/)?this.resizeImage(o,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(o)},previewTemplate:Hy(Wf),drop(o){return this.element.classList.remove("dz-drag-hover")},dragstart(o){},dragend(o){return this.element.classList.remove("dz-drag-hover")},dragenter(o){return this.element.classList.add("dz-drag-hover")},dragover(o){return this.element.classList.add("dz-drag-hover")},dragleave(o){return this.element.classList.remove("dz-drag-hover")},paste(o){},reset(){return this.element.classList.remove("dz-started")},addedfile(o){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){o.previewElement=ge.createElement(this.options.previewTemplate.trim()),o.previewTemplate=o.previewElement,this.previewsContainer.appendChild(o.previewElement);for(var e of o.previewElement.querySelectorAll("[data-dz-name]"))e.textContent=o.name;for(e of o.previewElement.querySelectorAll("[data-dz-size]"))e.innerHTML=this.filesize(o.size);this.options.addRemoveLinks&&(o._removeLink=ge.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),o.previewElement.appendChild(o._removeLink));let t=i=>(i.preventDefault(),i.stopPropagation(),o.status===ge.UPLOADING?ge.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(o)):this.options.dictRemoveFileConfirmation?ge.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(o)):this.removeFile(o));for(let i of o.previewElement.querySelectorAll("[data-dz-remove]"))i.addEventListener("click",t)}},removedfile(o){return o.previewElement!=null&&o.previewElement.parentNode!=null&&o.previewElement.parentNode.removeChild(o.previewElement),this._updateMaxFilesReachedClass()},thumbnail(o,e){if(o.previewElement){o.previewElement.classList.remove("dz-file-preview");for(let t of o.previewElement.querySelectorAll("[data-dz-thumbnail]"))t.alt=o.name,t.src=e;return setTimeout(()=>o.previewElement.classList.add("dz-image-preview"),1)}},error(o,e){if(o.previewElement){o.previewElement.classList.add("dz-error"),typeof e!="string"&&e.error&&(e=e.error);for(let t of o.previewElement.querySelectorAll("[data-dz-errormessage]"))t.textContent=e}},errormultiple(){},processing(o){if(o.previewElement&&(o.previewElement.classList.add("dz-processing"),o._removeLink))return o._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(o,e,t){if(o.previewElement)for(let i of o.previewElement.querySelectorAll("[data-dz-uploadprogress]"))i.nodeName==="PROGRESS"?i.value=e:i.style.width=`${e}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(o){if(o.previewElement)return o.previewElement.classList.add("dz-success")},successmultiple(){},canceled(o){return this.emit("error",o,this.options.dictUploadCanceled)},canceledmultiple(){},complete(o){if(o._removeLink&&(o._removeLink.innerHTML=this.options.dictRemoveFile),o.previewElement)return o.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}},jy=Uy,ge=class o extends Nr{static initClass(){this.prototype.Emitter=Nr,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(e=>e.accepted).map(e=>e)}getRejectedFiles(){return this.files.filter(e=>!e.accepted).map(e=>e)}getFilesWithStatus(e){return this.files.filter(t=>t.status===e).map(t=>t)}getQueuedFiles(){return this.getFilesWithStatus(o.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(o.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(o.ADDED)}getActiveFiles(){return this.files.filter(e=>e.status===o.UPLOADING||e.status===o.QUEUED).map(e=>e)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(o.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let i=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",o.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:n}=this.hiddenFileInput;if(n.length)for(let a of n)this.addFile(a);this.emit("addedfiles",n),i()})};i()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let i of this.events)this.on(i,this.options[i]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",i=>this.emit("complete",i)),this.on("complete",i=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});let e=function(i){if(i.dataTransfer.types){for(var n=0;n<i.dataTransfer.types.length;n++)if(i.dataTransfer.types[n]==="Files")return!0}return!1},t=function(i){if(e(i))return i.stopPropagation(),i.preventDefault?i.preventDefault():i.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:i=>this.emit("dragstart",i),dragenter:i=>(t(i),this.emit("dragenter",i)),dragover:i=>{let n;try{n=i.dataTransfer.effectAllowed}catch{}return i.dataTransfer.dropEffect=n==="move"||n==="linkMove"?"move":"copy",t(i),this.emit("dragover",i)},dragleave:i=>this.emit("dragleave",i),drop:i=>(t(i),this.drop(i)),dragend:i=>this.emit("dragend",i)}}],this.clickableElements.forEach(i=>this.listeners.push({element:i,events:{click:n=>((i!==this.element||n.target===this.element||o.elementInside(n.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,o.instances.splice(o.instances.indexOf(this),1)}updateTotalUploadProgress(){let e,t=0,i=0;if(this.getActiveFiles().length){for(let a of this.getActiveFiles())t+=a.upload.bytesSent,i+=a.upload.total;e=100*t/i}else e=100;return this.emit("totaluploadprogress",e,i,t)}_getParamName(e){return typeof this.options.paramName=="function"?this.options.paramName(e):`${this.options.paramName}${this.options.uploadMultiple?`[${e}]`:""}`}_renameFile(e){return typeof this.options.renameFile!="function"?e.name:this.options.renameFile(e)}getFallbackForm(){let e,t;if(e=this.getExistingFallback())return e;let i='<div class="dz-fallback">';this.options.dictFallbackText&&(i+=`<p>${this.options.dictFallbackText}</p>`),i+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let n=o.createElement(i);return this.element.tagName!=="FORM"?(t=o.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),t.appendChild(n)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),t??n}getExistingFallback(){let e=function(i){for(let n of i)if(/(^| )fallback($| )/.test(n.className))return n};for(let i of["div","form"]){var t;if(t=e(this.element.getElementsByTagName(i)))return t}}setupEventListeners(){return this.listeners.map(e=>(()=>{let t=[];for(let i in e.events){let n=e.events[i];t.push(e.element.addEventListener(i,n,!1))}return t})())}removeEventListeners(){return this.listeners.map(e=>(()=>{let t=[];for(let i in e.events){let n=e.events[i];t.push(e.element.removeEventListener(i,n,!1))}return t})())}disable(){return this.clickableElements.forEach(e=>e.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(e=>this.cancelUpload(e))}enable(){return delete this.disabled,this.clickableElements.forEach(e=>e.classList.add("dz-clickable")),this.setupEventListeners()}filesize(e){let t=0,i="b";if(e>0){let n=["tb","gb","mb","kb","b"];for(let a=0;a<n.length;a++){let l=n[a],d=Math.pow(this.options.filesizeBase,4-a)/10;if(e>=d){t=e/Math.pow(this.options.filesizeBase,4-a),i=l;break}}t=Math.round(10*t)/10}return`<strong>${t}</strong> ${this.options.dictFileSizeUnits[i]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(e){if(!e.dataTransfer)return;this.emit("drop",e);let t=[];for(let i=0;i<e.dataTransfer.files.length;i++)t[i]=e.dataTransfer.files[i];if(t.length){let{items:i}=e.dataTransfer;i&&i.length&&i[0].webkitGetAsEntry!=null?this._addFilesFromItems(i):this.handleFiles(t)}this.emit("addedfiles",t)}paste(e){if(Wy(e?.clipboardData,i=>i.items)==null)return;this.emit("paste",e);let{items:t}=e.clipboardData;if(t.length)return this._addFilesFromItems(t)}handleFiles(e){for(let t of e)this.addFile(t)}_addFilesFromItems(e){return(()=>{let t=[];for(let n of e){var i;n.webkitGetAsEntry!=null&&(i=n.webkitGetAsEntry())?i.isFile?t.push(this.addFile(n.getAsFile())):i.isDirectory?t.push(this._addFilesFromDirectory(i,i.name)):t.push(void 0):n.getAsFile!=null&&(n.kind==null||n.kind==="file")?t.push(this.addFile(n.getAsFile())):t.push(void 0)}return t})()}_addFilesFromDirectory(e,t){let i=e.createReader(),n=l=>Xy(console,"log",d=>d.log(l));var a=()=>i.readEntries(l=>{if(l.length>0){for(let d of l)d.isFile?d.file(m=>{if(!(this.options.ignoreHiddenFiles&&m.name.substring(0,1)==="."))return m.fullPath=`${t}/${m.name}`,this.addFile(m)}):d.isDirectory&&this._addFilesFromDirectory(d,`${t}/${d.name}`);a()}return null},n);return a()}accept(e,t){this.options.maxFilesize&&e.size>this.options.maxFilesize*1048576?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):o.isValidFile(e,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)}addFile(e){e.upload={uuid:o.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=o.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,t=>{t?(e.accepted=!1,this._errorProcessing([e],t)):(e.accepted=!0,this.options.autoQueue&&this.enqueueFile(e)),this._updateMaxFilesReachedClass()})}enqueueFiles(e){for(let t of e)this.enqueueFile(t);return null}enqueueFile(e){if(e.status===o.ADDED&&e.accepted===!0){if(e.status=o.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(e),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let e=this._thumbnailQueue.shift();return this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,t=>(this.emit("thumbnail",e,t),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(e){if(e.status===o.UPLOADING&&this.cancelUpload(e),this.files=qy(this.files,e),this.emit("removedfile",e),this.files.length===0)return this.emit("reset")}removeAllFiles(e){e==null&&(e=!1);for(let t of this.files.slice())(t.status!==o.UPLOADING||e)&&this.removeFile(t);return null}resizeImage(e,t,i,n,a){return this.createThumbnail(e,t,i,n,!0,(l,d)=>{if(d==null)return a(e);{let{resizeMimeType:m}=this.options;m==null&&(m=e.type);let f=d.toDataURL(m,this.options.resizeQuality);return(m==="image/jpeg"||m==="image/jpg")&&(f=Br.restore(e.dataURL,f)),a(o.dataURItoBlob(f))}})}createThumbnail(e,t,i,n,a,l){let d=new FileReader;d.onload=()=>{if(e.dataURL=d.result,e.type==="image/svg+xml"){l?.(d.result);return}this.createThumbnailFromUrl(e,t,i,n,a,l)},d.readAsDataURL(e)}displayExistingFile(e,t,i,n,a=!0){if(this.emit("addedfile",e),this.emit("complete",e),!a)this.emit("thumbnail",e,t),i&&i();else{let l=d=>{this.emit("thumbnail",e,d),i&&i()};e.dataURL=t,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,l,n)}}createThumbnailFromUrl(e,t,i,n,a,l,d){let m=document.createElement("img");return d&&(m.crossOrigin=d),a=getComputedStyle(document.body).imageOrientation=="from-image"?!1:a,m.onload=()=>{let f=v=>v(1);return typeof EXIF<"u"&&EXIF!==null&&a&&(f=v=>EXIF.getData(m,function(){return v(EXIF.getTag(this,"Orientation"))})),f(v=>{e.width=m.width,e.height=m.height;let b=this.options.resize.call(this,e,t,i,n),C=document.createElement("canvas"),A=C.getContext("2d");switch(C.width=b.trgWidth,C.height=b.trgHeight,v>4&&(C.width=b.trgHeight,C.height=b.trgWidth),v){case 2:A.translate(C.width,0),A.scale(-1,1);break;case 3:A.translate(C.width,C.height),A.rotate(Math.PI);break;case 4:A.translate(0,C.height),A.scale(1,-1);break;case 5:A.rotate(.5*Math.PI),A.scale(1,-1);break;case 6:A.rotate(.5*Math.PI),A.translate(0,-C.width);break;case 7:A.rotate(.5*Math.PI),A.translate(C.height,-C.width),A.scale(-1,1);break;case 8:A.rotate(-.5*Math.PI),A.translate(-C.height,0);break}Ky(A,m,b.srcX!=null?b.srcX:0,b.srcY!=null?b.srcY:0,b.srcWidth,b.srcHeight,b.trgX!=null?b.trgX:0,b.trgY!=null?b.trgY:0,b.trgWidth,b.trgHeight);let T=C.toDataURL("image/png");if(l!=null)return l(T,C)})},l!=null&&(m.onerror=l),m.src=e.dataURL}processQueue(){let{parallelUploads:e}=this.options,t=this.getUploadingFiles().length,i=t;if(t>=e)return;let n=this.getQueuedFiles();if(n.length>0){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-t));for(;i<e;){if(!n.length)return;this.processFile(n.shift()),i++}}}processFile(e){return this.processFiles([e])}processFiles(e){for(let t of e)t.processing=!0,t.status=o.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}_getFilesWithXhr(e){let t;return t=this.files.filter(i=>i.xhr===e).map(i=>i)}cancelUpload(e){if(e.status===o.UPLOADING){let t=this._getFilesWithXhr(e.xhr);for(let i of t)i.status=o.CANCELED;typeof e.xhr<"u"&&e.xhr.abort();for(let i of t)this.emit("canceled",i);this.options.uploadMultiple&&this.emit("canceledmultiple",t)}else(e.status===o.ADDED||e.status===o.QUEUED)&&(e.status=o.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(e,...t){return typeof e=="function"?e.apply(this,t):e}uploadFile(e){return this.uploadFiles([e])}uploadFiles(e){this._transformFiles(e,t=>{if(this.options.chunking){let i=t[0];e[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||i.size>this.options.chunkSize),e[0].upload.totalChunkCount=Math.ceil(i.size/this.options.chunkSize)}if(e[0].upload.chunked){let i=e[0],n=t[0],a=0;i.upload.chunks=[];let l=()=>{let d=0;for(;i.upload.chunks[d]!==void 0;)d++;if(d>=i.upload.totalChunkCount)return;a++;let m=d*this.options.chunkSize,f=Math.min(m+this.options.chunkSize,n.size),v={name:this._getParamName(0),data:n.webkitSlice?n.webkitSlice(m,f):n.slice(m,f),filename:i.upload.filename,chunkIndex:d};i.upload.chunks[d]={file:i,index:d,dataBlock:v,status:o.UPLOADING,progress:0,retries:0},this._uploadData(e,[v])};if(i.upload.finishedChunkUpload=(d,m)=>{let f=!0;d.status=o.SUCCESS,d.dataBlock=null,d.response=d.xhr.responseText,d.responseHeaders=d.xhr.getAllResponseHeaders(),d.xhr=null;for(let v=0;v<i.upload.totalChunkCount;v++){if(i.upload.chunks[v]===void 0)return l();i.upload.chunks[v].status!==o.SUCCESS&&(f=!1)}f&&this.options.chunksUploaded(i,()=>{this._finished(e,m,null)})},this.options.parallelChunkUploads)for(let d=0;d<i.upload.totalChunkCount;d++)l();else l()}else{let i=[];for(let n=0;n<e.length;n++)i[n]={name:this._getParamName(n),data:t[n],filename:e[n].upload.filename};this._uploadData(e,i)}})}_getChunk(e,t){for(let i=0;i<e.upload.totalChunkCount;i++)if(e.upload.chunks[i]!==void 0&&e.upload.chunks[i].xhr===t)return e.upload.chunks[i]}_uploadData(e,t){let i=new XMLHttpRequest;for(let f of e)f.xhr=i;e[0].upload.chunked&&(e[0].upload.chunks[t[0].chunkIndex].xhr=i);let n=this.resolveOption(this.options.method,e,t),a=this.resolveOption(this.options.url,e,t);i.open(n,a,!0),this.resolveOption(this.options.timeout,e)&&(i.timeout=this.resolveOption(this.options.timeout,e)),i.withCredentials=!!this.options.withCredentials,i.onload=f=>{this._finishedUploading(e,i,f)},i.ontimeout=()=>{this._handleUploadError(e,i,`Request timedout after ${this.options.timeout/1e3} seconds`)},i.onerror=()=>{this._handleUploadError(e,i)};let d=i.upload!=null?i.upload:i;d.onprogress=f=>this._updateFilesUploadProgress(e,i,f);let m=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(m["Content-Type"]=e[0].type),this.options.headers&&ul(m,this.options.headers);for(let f in m){let v=m[f];v&&i.setRequestHeader(f,v)}if(this.options.binaryBody){for(let f of e)this.emit("sending",f,i);this.options.uploadMultiple&&this.emit("sendingmultiple",e,i),this.submitRequest(i,null,e)}else{let f=new FormData;if(this.options.params){let v=this.options.params;typeof v=="function"&&(v=v.call(this,e,i,e[0].upload.chunked?this._getChunk(e[0],i):null));for(let b in v){let C=v[b];if(Array.isArray(C))for(let A=0;A<C.length;A++)f.append(b,C[A]);else f.append(b,C)}}for(let v of e)this.emit("sending",v,i,f);this.options.uploadMultiple&&this.emit("sendingmultiple",e,i,f),this._addFormElementData(f);for(let v=0;v<t.length;v++){let b=t[v];f.append(b.name,b.data,b.filename)}this.submitRequest(i,f,e)}}_transformFiles(e,t){let i=[],n=0;for(let a=0;a<e.length;a++)this.options.transformFile.call(this,e[a],l=>{i[a]=l,++n===e.length&&t(i)})}_addFormElementData(e){if(this.element.tagName==="FORM")for(let t of this.element.querySelectorAll("input, textarea, select, button")){let i=t.getAttribute("name"),n=t.getAttribute("type");if(n&&(n=n.toLowerCase()),!(typeof i>"u"||i===null))if(t.tagName==="SELECT"&&t.hasAttribute("multiple"))for(let a of t.options)a.selected&&e.append(i,a.value);else(!n||n!=="checkbox"&&n!=="radio"||t.checked)&&e.append(i,t.value)}}_updateFilesUploadProgress(e,t,i){if(e[0].upload.chunked){let n=e[0],a=this._getChunk(n,t);i?(a.progress=100*i.loaded/i.total,a.total=i.total,a.bytesSent=i.loaded):(a.progress=100,a.bytesSent=a.total),n.upload.progress=0,n.upload.total=0,n.upload.bytesSent=0;for(let l=0;l<n.upload.totalChunkCount;l++)n.upload.chunks[l]&&typeof n.upload.chunks[l].progress<"u"&&(n.upload.progress+=n.upload.chunks[l].progress,n.upload.total+=n.upload.chunks[l].total,n.upload.bytesSent+=n.upload.chunks[l].bytesSent);n.upload.progress=n.upload.progress/n.upload.totalChunkCount,this.emit("uploadprogress",n,n.upload.progress,n.upload.bytesSent)}else for(let n of e)n.upload.total&&n.upload.bytesSent&&n.upload.bytesSent==n.upload.total||(i?(n.upload.progress=100*i.loaded/i.total,n.upload.total=i.total,n.upload.bytesSent=i.loaded):(n.upload.progress=100,n.upload.bytesSent=n.upload.total),this.emit("uploadprogress",n,n.upload.progress,n.upload.bytesSent))}_finishedUploading(e,t,i){let n;if(e[0].status!==o.CANCELED&&t.readyState===4){if(t.responseType!=="arraybuffer"&&t.responseType!=="blob"&&(n=t.responseText,t.getResponseHeader("content-type")&&~t.getResponseHeader("content-type").indexOf("application/json")))try{n=JSON.parse(n)}catch(a){i=a,n="Invalid JSON response from server."}this._updateFilesUploadProgress(e,t),200<=t.status&&t.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],t),n):this._finished(e,n,i):this._handleUploadError(e,t,n)}}_handleUploadError(e,t,i){if(e[0].status!==o.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){let n=this._getChunk(e[0],t);if(n.retries++<this.options.retryChunksLimit){this._uploadData(e,[n.dataBlock]);return}}this._errorProcessing(e,i||this.options.dictResponseError.replace("{{statusCode}}",t.status),t)}}submitRequest(e,t,i){if(e.readyState==1)if(this.options.binaryBody)if(i[0].upload.chunked){let n=this._getChunk(i[0],e);e.send(n.dataBlock.data)}else e.send(i[0]);else e.send(t)}_finished(e,t,i){for(let n of e)n.status=o.SUCCESS,this.emit("success",n,t,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(e,t,i){for(let n of e)n.status=o.ERROR,this.emit("error",n,t,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}constructor(e,t){super();let i,n;if(this.element=e,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");o.instances.push(this),this.element.dropzone=this;let a=(n=o.optionsForElement(this.element))!=null?n:{};if(this.options=ul(!0,{},jy,a,t??{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!o.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=l=>this.options.renameFilename.call(this,l.name,l)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(i=this.getExistingFallback())&&i.parentNode&&i.parentNode.removeChild(i),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=o.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=o.getElements(this.options.clickable,"clickable")),this.init()}};ge.initClass();ge.options={};ge.optionsForElement=function(o){if(o.getAttribute("id"))return ge.options[Gy(o.getAttribute("id"))]};ge.instances=[];ge.forElement=function(o){if(typeof o=="string"&&(o=document.querySelector(o)),o?.dropzone==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return o.dropzone};ge.discover=function(){let o;if(document.querySelectorAll)o=document.querySelectorAll(".dropzone");else{o=[];let e=t=>(()=>{let i=[];for(let n of t)/(^| )dropzone($| )/.test(n.className)?i.push(o.push(n)):i.push(void 0);return i})();e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))}return(()=>{let e=[];for(let t of o)ge.optionsForElement(t)!==!1?e.push(new ge(t)):e.push(void 0);return e})()};ge.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];ge.isBrowserSupported=function(){let o=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))o=!1;else{ge.blacklistedBrowsers!==void 0&&(ge.blockedBrowsers=ge.blacklistedBrowsers);for(let e of ge.blockedBrowsers)if(e.test(navigator.userAgent)){o=!1;continue}}else o=!1;return o};ge.dataURItoBlob=function(o){let e=atob(o.split(",")[1]),t=o.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(e.length),n=new Uint8Array(i);for(let a=0,l=e.length,d=0<=l;d?a<=l:a>=l;d?a++:a--)n[a]=e.charCodeAt(a);return new Blob([i],{type:t})};qy=(o,e)=>o.filter(t=>t!==e).map(t=>t),Gy=o=>o.replace(/[\-_](\w)/g,e=>e.charAt(1).toUpperCase());ge.createElement=function(o){let e=document.createElement("div");return e.innerHTML=o,e.childNodes[0]};ge.elementInside=function(o,e){if(o===e)return!0;for(;o=o.parentNode;)if(o===e)return!0;return!1};ge.getElement=function(o,e){let t;if(typeof o=="string"?t=document.querySelector(o):o.nodeType!=null&&(t=o),t==null)throw new Error(`Invalid \`${e}\` option provided. Please provide a CSS selector or a plain HTML element.`);return t};ge.getElements=function(o,e){let t,i;if(o instanceof Array){i=[];try{for(t of o)i.push(this.getElement(t,e))}catch{i=null}}else if(typeof o=="string"){i=[];for(t of document.querySelectorAll(o))i.push(t)}else o.nodeType!=null&&(i=[o]);if(i==null||!i.length)throw new Error(`Invalid \`${e}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return i};ge.confirm=function(o,e,t){if(window.confirm(o))return e();if(t!=null)return t()};ge.isValidFile=function(o,e){if(!e)return!0;e=e.split(",");let t=o.type,i=t.replace(/\/.*$/,"");for(let n of e)if(n=n.trim(),n.charAt(0)==="."){if(o.name.toLowerCase().indexOf(n.toLowerCase(),o.name.length-n.length)!==-1)return!0}else if(/\/\*$/.test(n)){if(i===n.replace(/\/.*$/,""))return!0}else if(t===n)return!0;return!1};typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(o){return this.each(function(){return new ge(this,o)})});ge.ADDED="added";ge.QUEUED="queued";ge.ACCEPTED=ge.QUEUED;ge.UPLOADING="uploading";ge.PROCESSING=ge.UPLOADING;ge.CANCELED="canceled";ge.ERROR="error";ge.SUCCESS="success";Vy=function(o){let e=o.naturalWidth,t=o.naturalHeight,i=document.createElement("canvas");i.width=1,i.height=t;let n=i.getContext("2d");n.drawImage(o,0,0);let{data:a}=n.getImageData(1,0,1,t),l=0,d=t,m=t;for(;m>l;)a[(m-1)*4+3]===0?d=m:l=m,m=d+l>>1;let f=m/t;return f===0?1:f},Ky=function(o,e,t,i,n,a,l,d,m,f){let v=Vy(e);return o.drawImage(e,t,i,n,a,l,d,m,f/v)},Br=class{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(e){let t="",i,n,a="",l,d,m,f="",v=0;for(;i=e[v++],n=e[v++],a=e[v++],l=i>>2,d=(i&3)<<4|n>>4,m=(n&15)<<2|a>>6,f=a&63,isNaN(n)?m=f=64:isNaN(a)&&(f=64),t=t+this.KEY_STR.charAt(l)+this.KEY_STR.charAt(d)+this.KEY_STR.charAt(m)+this.KEY_STR.charAt(f),i=n=a="",l=d=m=f="",v<e.length;);return t}static restore(e,t){if(!e.match("data:image/jpeg;base64,"))return t;let i=this.decode64(e.replace("data:image/jpeg;base64,","")),n=this.slice2Segments(i),a=this.exifManipulation(t,n);return`data:image/jpeg;base64,${this.encode64(a)}`}static exifManipulation(e,t){let i=this.getExifArray(t),n=this.insertExif(e,i);return new Uint8Array(n)}static getExifArray(e){let t,i=0;for(;i<e.length;){if(t=e[i],t[0]===255&t[1]===225)return t;i++}return[]}static insertExif(e,t){let i=e.replace("data:image/jpeg;base64,",""),n=this.decode64(i),a=n.indexOf(255,3),l=n.slice(0,a),d=n.slice(a),m=l;return m=m.concat(t),m=m.concat(d),m}static slice2Segments(e){let t=0,i=[];for(;;){var n;if(e[t]===255&e[t+1]===218)break;if(e[t]===255&e[t+1]===216)t+=2;else{n=e[t+2]*256+e[t+3];let a=t+n+2,l=e.slice(t,a);i.push(l),t=a}if(t>e.length)break}return i}static decode64(e){let t="",i,n,a="",l,d,m,f="",v=0,b=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l=this.KEY_STR.indexOf(e.charAt(v++)),d=this.KEY_STR.indexOf(e.charAt(v++)),m=this.KEY_STR.indexOf(e.charAt(v++)),f=this.KEY_STR.indexOf(e.charAt(v++)),i=l<<2|d>>4,n=(d&15)<<4|m>>2,a=(m&3)<<6|f,b.push(i),m!==64&&b.push(n),f!==64&&b.push(a),i=n=a="",l=d=m=f="",v<e.length;);return b}};Br.initClass()});var Yy={};var fl,Jf=y(()=>{Xf();S();Y();fl=class extends F{dropzone=null;form=null;modal=null;queue=null;get options(){let e=r.allowedFileTypes.map(t=>`.${t}`).join(", ");return{clickable:[this.form],paramName:"file",hiddenInputContainer:this,uploadMultiple:!1,parallelUploads:2,maxFilesize:512,acceptedFiles:e,previewsContainer:this.queue,addRemoveLinks:!0,dictInvalidFileType:r.text("unsupportedFileTypeError"),dictCancelUpload:r.text("cancel"),dictUploadCanceled:r.text("uploadCancelled"),dictCancelUploadConfirmation:r.text("confirmCancelUpload"),chunking:!0,forceChunking:!0,parallelChunkUploads:!1,thumbnailWidth:150,thumbnailHeight:150}}connectedCallback(){this.classList.add("am-c-upload"),this.form=this.createForm(),this.modal=p("am-modal",[],{"am-no-click":"","am-no-esc":""},this.form),this.queue=p("am-modal-dialog",["am-c-upload__previews"],{},this.modal),this.dropzone=new ge(this.form,this.options),this.dropzone.on("success",this.onSuccess.bind(this)),this.dropzone.on("error",this.onError.bind(this)),this.dropzone.on("addedfiles",this.onAddedFiles.bind(this)),this.dropzone.on("queuecomplete",this.onQueueComplete.bind(this))}onError(e,t){this.dropzone.removeFile(e),typeof t!="string"&&t.error&&(t=t.error),ot(w`${t}`)}onSuccess(e){this.dropzone.removeFile(e),gt(w`${r.text("uploadedSuccess")}:<br />$${e.name}`),X("AutomadFilesChangeOnServer"),R("am-file-collection-list-form")?.refresh()}onAddedFiles(){this.modal.open()}onQueueComplete(){this.modal.close()}createForm(){let e=p("form",["am-c-upload__dropzone"],{action:`${r.apiURL}/${Xi("FileCollectionController::upload")}`},this);e.innerHTML=w`<span>${r.text("dropFilesOrClick")}</span>`;let t=fe();return t&&p("input",[],{type:"hidden",name:"url",value:t},e),p("input",[],{type:"hidden",name:"__csrf__",value:Ms()},e),e}disconnectedCallback(){this.dropzone.destroy(),super.disconnectedCallback()}};customElements.define("am-upload",fl)});var Zf={};ae(Zf,{SubmitComponent:()=>mi});var mi,hl=y(()=>{S();Y();mi=class extends F{static get observedAttributes(){return["am-form"]}get relatedForms(){let e=re(`[am-api="${this.elementAttributes["am-form"]}"]`);return e.length==0&&(e=Yi("[am-api]",this)),e}connectedCallback(){let e=()=>{if(this.hasAttribute("disabled"))return!1;this.relatedForms.forEach(t=>{t.submit()})};this.setAttribute("tabindex","0"),this.listen(this,"click",e.bind(this))}};customElements.define("am-submit",mi)});var pi,bl=y(()=>{S();hl();pi=class extends mi{connectedCallback(){this.setAttribute("tabindex","0"),this.toggleAttribute("disabled",!0),this.relatedForms.forEach(e=>{let t=()=>{this.toggleAttribute("disabled",re(":checked",e).length==0)};this.listen(window,"AutomadFileCollectionRender",t),this.listen(e,"change",t)}),this.listen(this,"click",this.submit.bind(this))}}});var Jy={};var gl,Qf=y(()=>{S();bl();gl=class extends pi{async submit(){this.hasAttribute("disabled")||await St(r.text("confirmDeleteSelectedFiles"))&&this.relatedForms.forEach(e=>{e.additionalData={action:"delete"},e.submit()})}};customElements.define("am-file-collection-delete",gl)});var Zy={};var vl,eh=y(()=>{S();bl();vl=class extends pi{async submit(){if(this.hasAttribute("disabled"))return;let{modal:e,body:t,button:i}=Ve(r.text("selectTargetMovePage"),r.text("ok"));t.innerHTML=w`<label class="${"am-c-nav__item"}"><input type="radio" name="targetPage" value="" tabindex="0" /><span class="${"am-c-nav__link"}"><am-icon-text ${"am-icon"}="folder2" ${"am-text"}="${r.text("sharedTitle")}" ></am-icon-text></span></label><hr /><am-page-select-tree></am-page-select-tree>`;let n=fe();this.listen(t,"change",()=>{let{targetPage:a}=xe(t);n=a}),this.listen(i,"click",()=>{this.relatedForms.forEach(a=>{a.additionalData={action:"move",target:n},a.submit()})}),e.setAttribute("am-no-focus",""),e.open(),setTimeout(()=>{R(":focus",t)?.blur()},0)}};customElements.define("am-file-collection-move",vl)});var th={};ae(th,{FormErrorComponent:()=>No});var No,xl=y(()=>{S();Y();No=class extends F{static TAG_NAME="am-form-error";set message(e){this.classList.toggle("am-c-alert",e.length>0),this.classList.toggle("am-c-alert--danger",e.length>0),this.innerHTML=w`${e}`}};customElements.define(No.TAG_NAME,No)});var oh={};ae(oh,{FormComponent:()=>He,autoSubmitTimeout:()=>yl});var yl,Qy,He,$t=y(()=>{S();Y();xl();yl=750,Qy=ke(async o=>{o()},yl),He=class extends F{additionalData={};lastSubmittedFormData="";loadingAnimationModal;get deduplicationSettings(){return{getFormData:null,enabled:!1}}get parallel(){return!0}get api(){return this.getAttribute("am-api")}get auto(){return this.hasAttribute("am-auto")}get confirm(){return this.getAttribute("am-confirm")}get loadingAnimationMessage(){return this.getAttribute("am-loading-animation")}get watch(){return this.hasAttribute("am-watch")}get initSelf(){return!1}get submitButtons(){let e=re(`am-submit[am-form="${this.api}"]`),t=re("am-submit:not([am-form])",this);return e.concat(t)}get formData(){let e=Object.assign({},this.additionalData,xe(this)),t=fe();return t&&(e.url=t),e}get parentModal(){return this.closest("am-modal")||null}connectedCallback(){this.init(),this.initSelf&&this.submit(!0),this.loadingAnimationMessage&&(this.loadingAnimationModal=uo(this.loadingAnimationMessage)),this.hasAttribute("am-focus")&&setTimeout(()=>{R("input").focus()},0),this.hasAttribute("am-enter")&&this.listen(this,"keydown",e=>{e.which==13&&(e.preventDefault(),this.submit())},".am-f-input"),this.disableSubmitButtons(),this.watchChanges()}init(){}disableSubmitButtons(){this.watch&&setTimeout(()=>{this.submitButtons.forEach(e=>{e.setAttribute("disabled",""),e.blur()})},0)}isDuplicateSubmission(){if(!this.deduplicationSettings.enabled)return!1;let e=this.deduplicationSettings.getFormData(this);return Object.keys(e).length&&JSON.stringify(e)===this.lastSubmittedFormData?(Je().log("Form data has not changed"),!0):(this.lastSubmittedFormData=JSON.stringify(e),!1)}async submit(e=!1){if(!e&&this.confirm&&!await St(this.confirm)||(this.loadingAnimationModal?.open(),this.isDuplicateSubmission()))return;let t=r.addNavigationLock();this.submitButtons.forEach(i=>{i.classList.contains("am-e-button")&&i.classList.add("am-e-button--loading")}),re('input:not([type="hidden"], textarea, [contenteditable])',this).forEach(i=>{i.classList.add("am-validate")}),this.verifyRequired()?(re(".am-validate",this).forEach(i=>{i.classList.remove("am-validate")}),await ue(this.api,this,this.parallel,async i=>{await this.baseProcessResponse(i),this.hasAttribute("am-event")&&X(this.getAttribute("am-event")),r.removeNavigationLock(t)})):r.removeNavigationLock(t),this.submitButtons.forEach(i=>{i.classList.remove("am-e-button--loading")}),this.loadingAnimationModal?.close()}async processResponse(e){}async baseProcessResponse(e){let{redirect:t,reload:i,error:n,success:a,debug:l}=e;typeof t<"u"&&r.root.setView(t),i&&r.reload(),setTimeout(()=>{let d=R(No.TAG_NAME,this);d&&(d.message=n??""),n&&(d||ot(n),Je().error(n))},0),a&&gt(a),l&&l instanceof Array&&l.forEach(d=>{Je().log(this.api,d)}),n||(this.disableSubmitButtons(),this.parentModal?.close()),await this.processResponse(e)}onChange(){if(r.isReady){if(this.auto){Qy(async()=>{let t=r.addNavigationLock();await this.submit(),r.removeNavigationLock(t)});let e=r.addNavigationLock();setTimeout(()=>{r.removeNavigationLock(e)},yl+10)}this.watch&&this.submitButtons.forEach(e=>{e.removeAttribute("disabled")})}}watchChanges(){this.listen(this,"change keydown cut paste drop input",this.onChange.bind(this),Tt.selector)}verifyRequired(){let e=re("[required]",this),t=[];return e.forEach(i=>{i.value.trim()||t.push(i)}),t.length?(t[0].focus(),!1):!0}};customElements.define("am-form",He)});var ih={};ae(ih,{FileCollectionListFormComponent:()=>Rr});var Rr,nh=y(()=>{S();$t();Rr=class extends He{get initSelf(){return!0}init(){this.classList.add("am-l-grid"),this.setAttribute("style","--min: 11.5rem; --aspect: 1.25;"),this.listen(window,"AutomadAppStateChange AutomadFilesChangeOnServer",this.refresh.bind(this))}async processResponse(e){typeof e.data>"u"||(this.innerHTML="",!(typeof e.data.files>"u")&&(e.data.files.forEach(t=>{let i=p("am-file-card",[],{},this);i.data=t}),X("AutomadFileCollectionRender")))}refresh(){re('[type="checkbox"]',this).forEach(e=>{e.checked=!1}),this.submit(!0)}};customElements.define("am-file-collection-list-form",Rr)});var sh,rh,ah,bo,Pr=y(()=>{S();sh=Mt(zs(),1);Y();rh=o=>{o.hasAttribute("disabled")&&o.removeAttribute("disabled"),o.classList.remove("am-u-text-muted")},ah=o=>{o.setAttribute("disabled",""),o.classList.add("am-u-text-muted")},bo=class extends F{static TAG_NAME="am-publish-form";tooltip;discardButton;publishButton;lastPublished;stateBinding;connectedCallback(){this.stateBinding=new ve("publicationState",{initial:this.initialState()}),this.classList.add("am-c-navbar__group");let e=p("am-form",["am-u-display-small-none"],{"am-watch":"","am-confirm":r.text("discardDraftConfirm"),"am-api":this.controllers().discard,"am-event":"AutomadContentPublished"},this);this.discardButton=p("am-submit",["am-c-navbar__item","am-c-navbar__item--glyph","am-u-text-muted"],{disabled:"","am-tooltip":r.text("discardDraftTooltip")},e,"\u21BA");let t=p("am-form",[],{"am-watch":"","am-api":this.controllers().publish,"am-event":"AutomadContentPublished"},this);this.publishButton=p("am-submit",["am-e-button"],{disabled:""},t,r.text("publish")),this.tooltip=new sh.default,this.listen(this.publishButton,"mouseover",()=>{this.tooltip&&this.lastPublished&&this.tooltip.show(this.publishButton,p("span",[],{},null,`${r.text("lastPublished")}:<br>${ro(this.lastPublished)}`),{})}),this.listen(this.publishButton,"mouseleave",()=>{this.tooltip.hide()}),this.listen(window,"AutomadContentSaved AutomadContentPublished",this.update.bind(this)),setTimeout(()=>{this.update()},0)}async update(){let{data:e}=await ue(this.controllers().state,this.additionalRequestData());if(this.lastPublished=e?.lastPublished,this.stateBinding.value=e?.isPublished?"published":"draft",e?.isPublished){ah(this.discardButton),ah(this.publishButton);return}e?.lastPublished&&rh(this.discardButton),rh(this.publishButton)}}});var tw={};var wl,lh=y(()=>{S();Xe();Pr();wl=class extends bo{additionalRequestData(){return{}}initialState(){return r.componentsPublicationState}controllers(){return{state:"ComponentController::getPublicationState",discard:"ComponentController::discardDraft",publish:"ComponentController::publish"}}};customElements.define("am-component-publish-form",wl)});var ow={};var kl,ch=y(()=>{S();Xe();Pr();kl=class extends bo{additionalRequestData(){return{url:fe()}}initialState(){return r.pages[fe()].publicationState}controllers(){return{state:"PageController::getPublicationState",discard:"PageController::discardDraft",publish:"PageController::publish"}}};customElements.define("am-page-publish-form",kl)});var nw={};var Tl,dh=y(()=>{S();Xe();Pr();Tl=class extends bo{additionalRequestData(){return{}}initialState(){return r.sharedPublicationState}controllers(){return{state:"SharedController::getPublicationState",discard:"SharedController::discardDraft",publish:"SharedController::publish"}}};customElements.define("am-shared-publish-form",Tl)});var mh={};ae(mh,{DeleteUsersFormComponent:()=>Hr});var rw,Hr,ph=y(()=>{S();$t();rw=()=>r.system.users.reduce((o,e)=>{let t=r.user.name==e.name?w`<span class="${"am-u-text-muted"}"> ${r.text("systemUsersYou")}</span>`:w`<am-checkbox name="delete[${e.name}]"></am-checkbox>`;return w`${o} <span class="${"am-c-card"}"><span class="${"am-c-card__body"} ${"am-c-card__body--large"}"><span class="${"am-u-flex"} ${"am-u-flex--gap"} ${"am-u-flex--align-center"}" ><span class="${"am-u-flex__item-grow"}"> ${e.name} (${e.email})</span>${t}</span></span></span>`},""),Hr=class extends He{init(){let e=()=>{this.innerHTML=rw()};this.classList.add("am-u-flex","am-u-flex--column","am-u-flex--gap"),this.listen(window,"AutomadAppStateChange",e.bind(this)),e()}};customElements.define("am-delete-users-form",Hr)});var uh={};ae(uh,{HistoryModalFormComponent:()=>ui});var ui,_l=y(()=>{S();Y();Lt();ui=class o extends F{static MODAL_ID="am-history-modal";connectedCallback(){let e="";fe()=="/"&&(e=`am-confirm="${r.text("pageHistoryRestoreHomeConfirm")}"`);let t=p(ze.TAG_NAME,[],{id:o.MODAL_ID},this,w`<am-form class="${"am-c-modal__dialog"}" ${"am-api"}="${"HistoryController::restore"}" ${e} ><am-modal-header>${r.text("pageHistory")}</am-modal-header><am-modal-body class="${"am-u-flex--gap-large"}"></am-modal-body><am-modal-footer><am-modal-close class="${"am-e-button"}" >${r.text("cancel")}</am-modal-close ><am-submit class="${"am-e-button"} ${"am-e-button--primary"}"> ${r.text("pageHistoryRestore")}</am-submit></am-modal-footer></am-form>`),i=R("am-modal-body",t);this.listen(t,"AutomadModalOpen",()=>{this.init(i)})}async init(e){e.innerHTML="<am-spinner></am-spinner>";let{data:t}=await ue("HistoryController::log",{url:fe()});if(!t){e.innerHTML=r.text("pageHistoryNoRevision");return}e.innerHTML=`<span>${fe()=="/"?r.text("pageHistoryRestoreHomeText"):r.text("pageHistoryRestoreText")}</span>`;let i=t.reduce((n,a)=>{let l=ro(a.time);return n.push({text:l,value:a.hash}),n},[]);be(i,i[0].value,e,"revision")}};customElements.define("am-history-modal-form",ui)});var fh={};ae(fh,{InPageFormComponent:()=>Ur});var Ur,hh=y(()=>{$t();S();Ur=class extends He{get api(){return"InPageController::edit"}get parallel(){return!1}get watch(){return!0}get initSelf(){return!0}field;page;context;bindings;init(){let e=new URLSearchParams(document.location.search);this.field=e.get("field"),this.page=e.get("page"),this.context=e.get("context"),this.additionalData={field:this.field,context:this.context,init:!0},this.setAttribute("am-api",this.api),Oo(`${r.pages[this.context]?.title??"404"} (${this.field})`),this.bindings={inPageReturnUrlBinding:new ve("inPageReturnUrl",{initial:this.page,modifier:t=>`${r.baseIndex}${t}`}),inPageTitleBinding:new ve("inPageTitle",{initial:r.pages[this.context]?.title??"404"}),inPageContextUrlBinding:new ve("inPageContextUrl",{initial:this.context,modifier:t=>`${r.baseIndex}${t}`}),inPageFieldBinding:new ve("inPageField",{initial:this.field,modifier:t=>Vt(t)})},Re.connectElements(r.root),this.listen(window,"keydown",t=>{t.keyCode===27&&(R("[am-modal-open]")||(t.preventDefault(),t.stopImmediatePropagation(),window.location.href=this.bindings.inPageReturnUrlBinding.value))}),this.listen(document,"click",t=>{t.target.contains(this)&&R("[contenteditable], input, textarea",this)?.focus()})}async processResponse(e){this.additionalData.init=!1,e.code===200&&e.data&&(e.data.saved&&(window.location.href=this.bindings.inPageReturnUrlBinding.value),typeof e.data.value<"u"&&this.render(e))}render(e){let t=Es(!0),i="am-textarea-field";for(let[n,a]of Object.entries(t))if(this.field.startsWith(n)){i=a;break}this.innerHTML="",P(i,this,{key:this.field,value:e.data.value,name:"value",isInPage:!0}),this.additionalData.dataFetchTime=e.time}};customElements.define("am-inpage-form",Ur)});var gh={};ae(gh,{MailConfigFormComponent:()=>jr,transportOptions:()=>bh});var bh,jr,vh=y(()=>{S();$t();bh=["sendmail","smtp"],jr=class extends He{get watch(){return!0}get config(){return this._config}set config(e){this._config=e,this.render()}_config=null;init(){this.config=r.system.mail,this.listen(window,"AutomadAppStateChange",()=>{this.config=r.system.mail})}render(){let e=this.config;this.innerHTML="",this.classList.add("am-u-flex","am-u-flex--column","am-u-flex--gap-large");let t=p("div",[],{},this),i=be(bh.map(v=>({value:v})),e.transport,t,"transport");P("am-email-field",t,{key:"from",name:"from",value:e.from,label:`${r.text("emailFrom")} (From)`,placeholder:e.fromDefault});let n=p("div",["am-c-card"],{},this),a=()=>{n.classList.toggle("am-u-display-none",i.value!=="smtp")},l=p("div",["am-c-card__form"],{},n),d=p("div",["am-l-grid","am-l-grid--auto"],{},l);P("am-input-field",d,{key:"smtpServer",name:"smtpServer",value:e.smtpServer,label:"SMTP Server"},[],{pattern:"^\\S*$"}),P("am-input-field",d,{key:"smtpPort",name:"smtpPort",value:e.smtpPort,label:"SMTP Port"},[],{pattern:"^\\d{0,5}$"}),P("am-input-field",l,{key:"smtpUsername",name:"smtpUsername",value:e.smtpUsername,label:`SMTP ${r.text("username")}`},[],{pattern:"^\\S*$"}),P("am-input-field",l,{key:"smtpPassword",name:"smtpPassword",value:"",label:`SMTP ${r.text("password")}`,placeholder:r.system.mail.smtpPasswordIsSet?r.text("systemMailSmtpPasswordPlaceholder"):""}),a(),this.listen(i,"change",a);let m=p("div",["am-u-flex","am-u-flex--gap"],{},this);p("am-submit",["am-e-button","am-e-button--primary"],{disabled:"true"},m,r.text("save"));let f=p("button",["am-e-button","am-e-button--danger"],{},m,r.text("reset"));this.listen(f,"click",async()=>{await St(r.text("systemMailReset"))&&ue("MailConfigController::reset",{},!0,()=>{X("AutomadAppStateRequireUpdate"),lt.new()})})}};customElements.define("am-mail-config-form",jr)});var xh={};ae(xh,{PageDataFormComponent:()=>qr});var lw,qr,yh=y(()=>{$t();S();lw=o=>{let e=new ve("pageDataFetchTime",{initial:o.time});return{slugBinding:new ve("pageSlug",{initial:o.data.fields[r.reservedFields.SLUG]}),pageDataFetchTimeBinding:e}},qr=class extends He{get deduplicationSettings(){return{getFormData:e=>{let t=xe(e);return t.dataFetchTime=null,t},enabled:!0}}sections;bindings;get parallel(){return!1}get auto(){return!0}get initSelf(){return!0}init(){this.sections=wr(this),this.listen(window,"AutomadContentPublished",()=>{this.bindings&&(this.bindings.pageDataFetchTimeBinding.value=Math.ceil(new Date().getTime()/1e3))})}mainSettings({section:e,url:t,fields:i,template:n,readme:a,shared:l}){let d=(C,A,T="",x={},_=e)=>{let L={key:A,value:i[A],name:`data[${A}]`,label:T};return P(C,_,L,[],x)},m=p("div",["am-u-flex","am-u-flex--column","am-u-flex--gap"],{},e),f=d("am-title-field",r.reservedFields.TITLE,"",{required:""},m);new ve("title",{input:f.input,modifier:C=>(Oo(C),C)}),p("a",[],{href:`${r.baseIndex}${t}`},m).innerHTML=w`<span class="${"am-c-icon-text"}"><i class="bi bi-link"></i><span>${r.baseIndex}${t}</span></span>`,d("am-toggle-large-field",r.reservedFields.PRIVATE,r.text("keepPagePrivate"));let v=p("am-page-template-field",[],{},e);v.data={fields:i,template:n,themeKey:r.reservedFields.THEME,readme:a},d("am-syntax-theme-select-field",r.reservedFields.SYNTAX_THEME,Vt(r.reservedFields.SYNTAX_THEME)),d("am-toggle-field",r.reservedFields.HIDDEN,r.text("hidePage"));let b=p("div",["am-l-grid","am-l-grid--auto"],{},e);d("am-date-field",r.reservedFields.DATE,r.text("date"),{},b),r.system.i18n?p("input",[],{type:"hidden",name:`data[${r.reservedFields.LANG_CUSTOM}]`,value:i[r.reservedFields.LANG_CUSTOM]},e):P("am-input-field",b,{key:r.reservedFields.LANG_CUSTOM,value:i[r.reservedFields.LANG_CUSTOM],name:`data[${r.reservedFields.LANG_CUSTOM}]`,label:r.text("langAttr"),placeholder:l[r.reservedFields.LANG_CUSTOM]||"en"}),t!="/"&&P("am-input-field",e,{key:r.reservedFields.SLUG,value:i[r.reservedFields.SLUG],name:`data[${r.reservedFields.SLUG}]`,label:r.text("pageSlug")},[],{"am-bind":"pageSlug","am-bind-to":"value"}),d("am-url-field",r.reservedFields.URL,r.text("redirectPage")),d("am-page-tags-field",r.reservedFields.TAGS,r.text("pageTags")),d("am-input-field",r.reservedFields.META_TITLE,r.text("metaTitle")),d("am-textarea-field",r.reservedFields.META_DESCRIPTION,r.text("metaDescription")),d("am-image-field",r.reservedFields.OPEN_GRAPH_IMAGE,r.text("openGraphImage"))}pageNotFound(){this.innerHTML=w`<am-alert ${"am-icon"}="x-circle" ${"am-text"}="${r.text("pageNotFoundError")}  ${fe()}" ></am-alert>`}async processResponse(e){if(e.code===404){this.pageNotFound(),Je().error("Page not found");return}if(e.code===200&&(X("AutomadContentSaved"),this.bindings&&(this.bindings.pageDataFetchTimeBinding.value=e.time),!!e.data)){if(this.bindings||(this.bindings=lw(e)),e.data.updateUI){this.bindings.slugBinding.value=e.data.slug??"",await r.updateState();return}this.render(e)}}render(e){let{url:t,fields:i,unused:n,shared:a,template:l,readme:d}=e.data;if(!i)return;p("input",[],{type:"hidden","am-bind":"pageDataFetchTime","am-bind-to":"value",name:"dataFetchTime"},this);let m=r.reservedFields.THEME,f=r.themes;Oo(i.title);let v=null;i[m]?v=f[i[m]]:v=f[a[m]];let b=v?.labels??{},C=v?.tooltips??{},A=v?.options??{},T=si(i),x=si(n);this.mainSettings({section:this.sections.settings,url:t,fields:i,template:l,readme:d,shared:a}),Tr(i,this.sections,a),Object.keys(this.sections).forEach(_=>{_r({section:this.sections[_],fields:T[_],unused:x[_],labels:b,tooltips:C,themeOptions:A,renderEmptyAlert:_!="customizations",shared:a})})}};customElements.define("am-page-data-form",qr)});var wh={};ae(wh,{ResetPasswordFormComponent:()=>Gr});var Gr,kh=y(()=>{S();$t();Gr=class extends He{get states(){return{success:this.renderSuccess,setPassword:this.renderSetPassword,requestToken:this.renderRequestToken}}get initSelf(){return!0}async processResponse(e){if(!e.data)return;let t=e.data;t.state&&Object.keys(this.states).includes(t.state)&&this.states[t.state].apply(this,[t])}renderRequestToken(e){this.innerHTML=w`<h2>${r.text("resetPassword")}</h2><am-form-error></am-form-error><div class="${"am-c-card"}"><div class="${"am-c-card__body"} ${"am-c-card__body--large"}"> ${r.text("passwordResetEnterNameOrEmail")}</div><div class="${"am-c-card__form"}"><input type="text" class="${"am-f-input"}" name="name-or-email" value="$${Ct("username")}" placeholder="${r.text("usernameOrEmail")}" /><div class="${"am-c-card__form-buttons"}"><am-link class="${"am-e-button"}" ${"am-target"}="${"login"}" > ${r.text("cancel")}</am-link><am-submit class="${"am-e-button"} ${"am-e-button--primary"}"> ${r.text("submit")}</am-submit></div></div></div>`}renderSetPassword(e){this.innerHTML=w`<h2>${r.text("resetPassword")}</h2><am-form-error></am-form-error><div class="${"am-c-card"}"><div class="${"am-c-card__body"} ${"am-c-card__body--large"}"> ${r.text("passwordResetEnterNewPassword")}</div><div class="${"am-c-card__form"}"><input type="text" class="${"am-f-input"}" name="token" autocomplete="reset-token" placeholder="${r.text("passwordResetToken")}" ${"am-tooltip"}="${r.text("passwordResetToken")}" ${"am-tooltip-options"}="placement: top" required /><input type="password" class="${"am-f-input"}" name="password1" autocomplete="new-password-1" placeholder="${r.text("password")}" ${"am-tooltip"}="${r.text("password")}" ${"am-tooltip-options"}="placement: top" required /><input type="password" class="${"am-f-input"}" name="password2" autocomplete="new-password-2" placeholder="${r.text("repeatPassword")}" ${"am-tooltip"}="${r.text("repeatPassword")}" ${"am-tooltip-options"}="placement: top" required /><input type="hidden" name="username" value="${e.username}" /><div class="${"am-c-card__form-buttons"}"><am-link class="${"am-e-button"}" ${"am-target"}="${"login"}" > ${r.text("cancel")}</am-link><am-submit class="${"am-e-button"} ${"am-e-button--primary"}"> ${r.text("passwordResetSave")}</am-submit></div></div></div>`}renderSuccess(e){this.innerHTML=w`<h2>${r.text("resetPassword")}</h2><div class="${"am-c-card"}"><div class="${"am-c-card__body"} ${"am-c-card__body--large"}"> ${r.text("passwordChangedSuccess")}</div><div class="${"am-c-card__form"}"><am-link class="${"am-e-button"} ${"am-e-button--primary"}" ${"am-target"}="${"login"}" > ${r.text("signIn")}</am-link></div></div>`}};customElements.define("am-reset-password-form",Gr)});var Th={};ae(Th,{SearchFormComponent:()=>Vr});var cw,dw,Vr,_h=y(()=>{S();Y();cw=o=>o.reduce((e,t)=>w`${e} <div class="${"am-c-card__list-item"} ${"am-u-flex"} ${"am-u-flex--column"} ${"am-u-flex--gap"}" ><span><span class="${"am-e-badge"}"> ${Vt(t.field)}</span></span><span>${t.context}</span></div>`,""),dw=o=>{let{path:e,fieldResultsArray:t,url:i}=o,n=t.reduce((a,l)=>a.concat([l.field]),[]);return w`<div class="${"am-c-card"}"><div class="${"am-c-card__list"}"><div class="${"am-c-card__list-item"} ${"am-c-card__list-item--faded"} ${"am-u-flex"} ${"am-u-flex--between"} ${"am-u-flex--align-center"}" ><am-link ${"am-target"}="${e?`page?url=${i}`:"shared"}" class="${"am-c-icon-text"} ${"am-u-text-link"}" ><i class="bi bi-file-earmark-text"></i><span>${i||r.text("sharedTitle")}</span></am-link><am-checkbox name="${e}" value="${n.join()}" ></am-checkbox></div>${cw(t)}</div></div>`},Vr=class o extends F{static SEARCH_PARAM="search";get api(){return"SearchController::searchReplace"}connectedCallback(){this.classList.add("am-u-flex","am-u-flex--gap-large","am-u-flex--column");let e=p("section",["am-u-flex","am-u-flex--column","am-u-flex--gap"],{},this),{searchBar:t,search:i,isRegex:n,isCaseSensitive:a,replace:l}=this.createForm(e),{replaceButton:d,checkAll:m,unCheckAll:f}=this.createButtons(e),v=p("section",["am-u-flex","am-u-flex--column","am-u-flex--gap-large"],{},this),b=async(x={})=>{let _=Object.assign({searchValue:i.value,isRegex:n.checked,isCaseSensitive:a.checked},x),L=await ue(this.api,_);this.createResults(L,v)},C=ke(async()=>{let x=new URL(window.location.href);x.searchParams.set(o.SEARCH_PARAM,i.value),window.history.replaceState(null,null,x),b()},200),A=()=>{let x=JSON.stringify(xe(v));b({replaceValue:l.value,replaceSelected:!0,files:x})};this.listen(t,"input",C,"input"),this.listen(d,"click",A);let T=x=>{re("input",v).forEach(_=>{_.checked=x,X("input",_)})};this.listen(m,"click",()=>{T(!0)}),this.listen(f,"click",()=>{T(!1)}),C()}createResults(e,t){let i=e.data;if(i.length){t.innerHTML=i.reduce((n,a)=>w`${n} ${dw(a)}`,"");return}t.innerHTML=Ct(o.SEARCH_PARAM)?w`<am-alert ${"am-icon"}="slash-circle" ${"am-text"}="searchNoResults" ></am-alert>`:""}createForm(e){let t=p("div",["am-u-flex","am-u-flex--gap"],{},e),i=p("input",["am-f-input"],{type:"text",name:"searchValue",value:Ct(o.SEARCH_PARAM),placeholder:r.text("searchPlaceholder")},t),n=p("am-custom-icon-checkbox",[],{name:"isRegex","am-icon":"regex","am-tooltip":r.text("searchIsRegex")},t),a=p("am-custom-icon-checkbox",[],{name:"isCaseSensitive","am-icon":"type","am-tooltip":r.text("searchIsCaseSensitive")},t),l=p("input",["am-f-input"],{type:"text",name:"replaceValue",placeholder:r.text("searchReplacePlaceholder")},e);return{searchBar:t,search:i,isRegex:n,isCaseSensitive:a,replace:l}}createButtons(e){let t=p("div",["am-u-flex","am-u-flex--between"],{},e),i=p("span",["am-e-button","am-e-button--primary"],{},t);i.textContent=r.text("searchReplaceSelected");let n=p("div",["am-f-group"],{},t),a=p("span",["am-e-button","am-f-group__item"],{},n);a.textContent=r.text("searchReplaceCheckAll");let l=p("span",["am-e-button","am-f-group__item"],{},n);return l.textContent=r.text("searchReplaceUncheckAll"),{replaceButton:i,checkAll:a,unCheckAll:l}}};customElements.define("am-search-form",Vr)});var Eh={};ae(Eh,{SetupFormComponent:()=>Kr});var Kr,Ch=y(()=>{S();$t();Kr=class extends He{init(){this.renderForm()}async processResponse(e){let{data:t}=e;if(t?.php&&t?.filename&&t?.configDir){this.renderSuccess(t.configDir,t.filename);let i=window.URL.createObjectURL(new Blob([t.php],{type:"application/octet-stream"}));p("a",[],{href:i,target:"_blank",download:t.filename}).click()}}renderForm(){this.innerHTML=w`<h2>Create User &mdash; Step 1/2</h2><am-form-error></am-form-error><div class="${"am-c-card"}"><div class="${"am-c-card__body"} ${"am-c-card__body--large"}"><p>Create the first user account using the form below and download the account file to your computer.</p></div><div class="${"am-c-card__form"}"><input class="${"am-f-input"}" type="text" name="username" pattern="${"^[a-z0-9]([a-z0-9_]|-)+[a-z0-9]$"}" placeholder="Username" ${"am-tooltip"}='A username must start and end with a letter or number and can only contain the characters "a-z", "0-9", "_" or "-".' ${"am-tooltip-options"}="placement:right" required /><input class="${"am-f-input"}" type="email" name="email" placeholder="Email" required /><input class="${"am-f-input"}" type="password" name="password1" placeholder="Password" required /><input class="${"am-f-input"}" type="password" name="password2" placeholder="Repeat Password" required /><div class="${"am-c-card__form-buttons"}"><am-submit class="${"am-e-button"} ${"am-e-button--primary"}"> Create Account and Download File</am-submit></div></div></div>`}renderSuccess(e,t){this.innerHTML=w`<h2>Create User &mdash; Step 2/2</h2><div class="${"am-c-card"}"><div class="${"am-c-card__body"} ${"am-c-card__body--large"}"><p>Now, upload the downloaded <code>${t}</code>to your webserver and place it inside <code>${e}</code>. After the file is uploaded, hit the button below in order to sign in.</p></div><div class="${"am-c-card__form"}"><div class="${"am-c-card__form-buttons"}"><a href="./${"login"}" class="${"am-e-button"} ${"am-e-button--primary"}" > I have uploaded the file, let me sign in!</a></div></div></div>`}};customElements.define("am-setup-form",Kr)});var Ah={};ae(Ah,{ComponentEditorComponent:()=>Ft});var Ft,Wr=y(()=>{Y();S();Xr();Ft=class extends F{static TAG_NAME="am-component-editor";_data;editor;get data(){return this._data.blocks=this.editor.value.blocks,this._data}set data(e){this._data=e,setTimeout(this.init.bind(this),0)}init(){let e=this._data.name.length>0,t=`component-name-${this._data.id}-${Array.from(this.parentNode?.childNodes??[])?.indexOf(this)??0}`;Re.delete(t);let i=new ve(t,{onChange:a=>{this._data.name=a,X("change",this.editor)},initial:this._data.name}),n=async()=>{this.classList.add("am-c-component-editor"),this.innerHTML=w`<div class="${"am-c-component-editor__header"}"><div class="${"am-c-component-editor__name"}" ${"am-bind"}="${t}" ${"am-bind-to"}="title" ><i></i><span ${"am-bind"}="${t}"> ${this._data.name}</span></div><div class="${"am-c-component-editor__tools"}"></div><div class="${"am-c-component-editor__handle"}"><i class="bi bi-grip-vertical"></i></div></div><div class="${"am-c-component-editor__main"}"></div>`,Re.connectElements(this);let a=R(".am-c-component-editor__tools",this),l=R(".am-c-component-editor__main",this),d=R(".am-c-component-editor__name",this),m=p("span",[],{},a,'<i class="bi bi-pencil"></i>'),f=p("span",[],{},a,'<i class="bi bi-copy"></i>'),v=p("span",[],{},a,'<i class="bi bi-trash3"></i>');this.toggleEditor(l,d,this._data.collapsed),this.listen(d,"click",()=>{this.toggleEditor(l,d,!this._data.collapsed)}),this.listen(f,"click",()=>{this.closest(go.TAG_NAME).add({id:Z(),name:`${this._data.name} (${r.text("componentCopy")})`,blocks:this.data.blocks,collapsed:!1},this).fireOnReady()}),this.listen(m,"click",()=>{this.setName(b=>{i.value=b})}),this.listen(v,"click",async()=>{if(await St(`${r.text("componentConfirmRemoval")} (${this._data.name})`)){let b=this.closest(go.TAG_NAME);this.remove(),b.submit()}}),this.editor=P("am-editor-field",l,{value:{blocks:this._data.blocks},name:"",key:"",label:""})};e?n():this.setName(a=>{i.value=a,n(),this.fireOnReady()})}fireOnReady(){setTimeout(async()=>{await this.editor.editorJS.editor.isReady,X("change",this.editor)},0)}toggleEditor(e,t,i){let n=R("i",t);this._data.collapsed=i,e.classList.toggle("am-u-display-none",this._data.collapsed),n.className=`bi bi-chevron-${this._data.collapsed?"right":"down"}`,X("change",this.editor)}setName(e){let{modal:t,body:i,button:n}=Ve(r.text("componentName"),r.text("ok")),a=p("input",["am-f-input"],{value:this._data.name??""},i);n.setAttribute("disabled",""),t.open(),t.listen(a,"input paste cut",ke(()=>{a.value.length>0?n.removeAttribute("disabled"):n.setAttribute("disabled","")},100)),t.listen(n,"click",()=>{let l=a.value;l.length&&(e(l),t.close())}),t.listen(t,"AutomadModalClose",()=>{a.value.length==0&&this.remove()})}};customElements.define(Ft.TAG_NAME,Ft)});var Sh={};ae(Sh,{ComponentCollectionFormComponent:()=>go,newComponentButtonClass:()=>Oi});var Oi,go,Xr=y(()=>{S();Wr();$t();Bn();Oi="am-new-component-button",go=class extends He{static TAG_NAME="am-component-collection-form";get initSelf(){return!0}get auto(){return!0}isInitialized=!1;fetchTime;sortable;get deduplicationSettings(){return{getFormData:()=>{let e=this.formData;return e.fetchTime=null,e},enabled:!0}}get formData(){return this.isInitialized?{components:re(Ft.TAG_NAME,this).map(t=>t.data),fetchTime:this.fetchTime}:{}}add(e,t=null){let i=p(Ft.TAG_NAME,[],{},this);return t!==null&&t.insertAdjacentElement("afterend",i),i.data=e,i}init(){this.classList.add("am-u-flex","am-u-flex--column","am-u-flex--gap"),re(`.${Oi}`).forEach(e=>{this.listen(e,"click",()=>{this.add({id:Z(),name:"",blocks:[],collapsed:!1})})}),this.listen(window,"AutomadContentPublished",()=>{this.fetchTime=Math.ceil(new Date().getTime()/1e3)})}async processResponse(e){e.data?.components?(this.sortable?.destroy(),this.innerHTML="",e.data.components.forEach(t=>{this.add(t)}),this.sortable=new zo(this,{handle:".am-c-component-editor__handle, .am-c-component-editor__name",animation:200,draggable:Ft.TAG_NAME,ghostClass:"am-c-component-editor--ghost",chosenClass:"am-c-component-editor--chosen",dragClass:"am-c-component-editor--drag",direction:"vertical",onStart:()=>{re("am-editor-field",this).forEach(t=>{t.style.pointerEvents="none"})},onEnd:()=>{re("am-editor-field",this).forEach(t=>{t.style.removeProperty("pointer-events")})},onChange:t=>{t.item.init(),this.submit()}})):X("AutomadContentSaved"),this.fetchTime=e.time,this.isInitialized=!0}disconnectedCallback(){this.sortable?.destroy(),super.disconnectedCallback()}};customElements.define(go.TAG_NAME,go)});var $h={};ae($h,{SharedDataFormComponent:()=>Yr});var pw,Yr,Mh=y(()=>{S();$t();pw=o=>({sharedDataFetchTimeBinding:new ve("sharedDataFetchTime",{initial:o.time})}),Yr=class extends He{get deduplicationSettings(){return{getFormData:e=>{let t=xe(e);return t.dataFetchTime=null,t},enabled:!0}}sections;bindings;get parallel(){return!1}get auto(){return!0}get initSelf(){return!0}init(){this.sections=wr(this),this.listen(window,"AutomadContentPublished",()=>{this.bindings&&(this.bindings.sharedDataFetchTimeBinding.value=Math.ceil(new Date().getTime()/1e3))})}async processResponse(e){e.code===200&&(X("AutomadContentSaved"),this.bindings&&(this.bindings.sharedDataFetchTimeBinding.value=e.time),e.data&&(this.bindings||(this.bindings=pw(e)),this.render(e)))}render(e){let{fields:t,unused:i}=e.data,n=r.reservedFields.THEME,a=t[n]||Object.keys(r.themes)[0],l=r.themes[a]?.labels??{},d=r.themes[a]?.tooltips??{},m=r.themes[a]?.options??{},f=si(t),v=si(i);p("input",[],{type:"hidden","am-bind":"sharedDataFetchTime","am-bind-to":"value",name:"dataFetchTime"},this);let b=P("am-title-field",this.sections.settings,{key:r.reservedFields.SITENAME,value:t[r.reservedFields.SITENAME],name:`data[${r.reservedFields.SITENAME}]`},[],{required:""});new ve("sitename",{input:b.input,modifier:C=>C}),P("am-main-theme-field",this.sections.settings,{key:n,value:a,name:`data[${n}]`}),P("am-syntax-theme-select-field",this.sections.settings,{key:r.reservedFields.SYNTAX_THEME,value:t[r.reservedFields.SYNTAX_THEME],name:`data[${r.reservedFields.SYNTAX_THEME}]`}),P("am-image-field",this.sections.settings,{key:r.reservedFields.OPEN_GRAPH_IMAGE,value:t[r.reservedFields.OPEN_GRAPH_IMAGE],name:`data[${r.reservedFields.OPEN_GRAPH_IMAGE}]`,label:r.text("openGraphImageShared")}),r.system.i18n?p("input",[],{type:"hidden",name:`data[${r.reservedFields.LANG_CUSTOM}]`,value:t[r.reservedFields.LANG_CUSTOM]},this.sections.settings):P("am-input-field",this.sections.settings,{key:r.reservedFields.LANG_CUSTOM,value:t[r.reservedFields.LANG_CUSTOM],name:`data[${r.reservedFields.LANG_CUSTOM}]`,label:r.text("langAttr"),placeholder:"en"}),Tr(t,this.sections),Object.keys(this.sections).forEach(C=>{_r({section:this.sections[C],fields:f[C],unused:v[C],labels:l,tooltips:d,themeOptions:m,renderEmptyAlert:C!="customizations"})})}};customElements.define("am-shared-data-form",Yr)});var Lh={};ae(Lh,{SystemUpdateFormComponent:()=>Jr});var Jr,Ih=y(()=>{S();$t();Jr=class extends He{progressModal;get states(){return{disabled:this.renderDisabled,notSupported:this.renderNotSupported,success:this.renderSuccess,connectionError:this.renderConnectionError,pending:this.renderPending,upToDate:this.renderUpToDate}}get parallel(){return!1}get initSelf(){return!0}async processResponse(e){if(this.progressModal&&this.progressModal.close(),!e.data)return;let t=e.data;t.state&&Object.keys(this.states).includes(t.state)&&this.states[t.state].apply(this,[t])}renderDisabled(e){this.innerHTML=w`<am-alert ${"am-icon"}="slash-circle" ${"am-text"}="systemUpdateDisabled" ></am-alert>`}renderNotSupported(e){this.innerHTML=w`<am-alert ${"am-icon"}="slash-circle" ${"am-text"}="systemUpdateNotSupportedError" ></am-alert>`}renderSuccess(e){this.renderUpToDate(e);let t=p("am-modal",[],{"am-no-esc":"","am-no-click":"","am-destroy":""},this);t.innerHTML=w`<am-modal-dialog><am-modal-body>${r.text("systemUpdateSuccess")} <br /><span>${r.text("systemUpdateCurrentVersion")}: <strong>${e.current}</strong></span></am-modal-body><am-modal-footer><a href="${r.dashboardURL}" class="${"am-e-button"} ${"am-e-button--primary"}" > ${r.text("systemUpdateSuccessReload")}</a></am-modal-footer></am-modal-dialog>`,t.open()}renderConnectionError(e){this.innerHTML=w`<am-alert ${"am-icon"}="hdd-network" ${"am-text"}="systemUpdateConnectionError" ></am-alert>`}renderPending(e){let t=n=>{let a="";return n.forEach(l=>{a+=w`<li>${l}</li>`}),w`<ul class="${"am-u-text-paragraph"} ${"am-u-text-mono"}"> ${a}</ul>`};this.innerHTML=w`<div class="${"am-c-alert"}"><input type="hidden" name="update" value="run" /><div class="${"am-c-alert__icon"}"><i class="bi bi-download"></i></div><div class="${"am-c-alert__text"}"><div>${r.text("systemUpdateCurrentVersion")} <strong>${e.current}</strong>. <br /> ${r.text("systemUpdateAvailable")}</div><div class="${"am-u-flex"} ${"am-u-flex--gap"}"><am-submit class="${"am-e-button"} ${"am-e-button--primary"}"> ${r.text("systemUpdateTo")} <span class="${"am-e-badge"}">${e.latest}</span></am-submit><a href="https://automad.org/release-notes" class="${"am-e-button"} ${"am-u-display-small-none"}" target="_blank" > Release Notes</a></div></div></div><div><p>${r.text("systemUpdateItems")}</p>${t(e.items)}</div>`;let i=R("am-submit",this);this.listen(i,"click",()=>{this.progressModal=p("am-modal",[],{"am-no-esc":"","am-no-click":"","am-destroy":""},xt()),this.progressModal.innerHTML=w`<am-modal-dialog><div class="${"am-c-modal__spinner"}"><span class="${"am-c-modal__spinner-icon"}"></span><span class="${"am-c-modal__spinner-text"}"> ${r.text("systemUpdateProgress")}</span></div></am-modal-dialog>`,this.progressModal.open()})}renderUpToDate(e){this.innerHTML=w`<am-alert ${"am-icon"}="check-circle" ${"am-text"}="systemUpToDate" ></am-alert>`}};customElements.define("am-system-update-form",Jr)});var Dh={};ae(Dh,{TrashFormComponent:()=>Zr});var fw,Zr,zh=y(()=>{S();Y();fw=(o,e)=>{let t=new Date(o.lastModified);p("div",["am-c-card"],{},e,w`<div class="${"am-c-card__header"}"><div><am-icon-text class="${"am-c-card__title"}" ${"am-icon"}="file-earmark-text" ${"am-text"}="${o.title}" ></am-icon-text><div class="${"am-c-card__body"}"> ${t.toLocaleString()}</div></div><div><am-dropdown class="${"am-c-card__header-dropdown"}" ${"am-right"} ><i class="bi bi-three-dots"></i><div class="${"am-c-dropdown__items"}"><am-form ${"am-api"}="${"PageTrashController::restore"}" ><input type="hidden" name="path" value="${o.path}" /><am-submit class="${"am-c-dropdown__link"}"><i class="bi bi-arrow-counterclockwise"></i><span>${r.text("trashRestore")}</span></am-submit></am-form><am-form ${"am-api"}="${"PageTrashController::permanentlyDelete"}" ${"am-confirm"}="${r.text("trashPermanentlyDeleteConfirm")}" ><input type="hidden" name="path" value="${o.path}" /><am-submit class="${"am-c-dropdown__link"}"><i class="bi bi-x-lg"></i><span>${r.text("trashPermanentlyDelete")}</span></am-submit></am-form></div></am-dropdown></div></div>`)},Zr=class extends F{connectedCallback(){this.init()}async init(){this.innerHTML="";let{data:e}=await ue("PageTrashController::list"),t=p("div",["am-u-flex","am-u-flex--column","am-u-flex--gap"],{},this);if(!e.length){p("am-alert",[],{"am-icon":"slash-circle","am-text":r.text("trashIsEmpty")},t);return}e.forEach(i=>{fw(i,t)})}};customElements.define("am-trash-form",Zr)});var hw={};var El,Fh=y(()=>{Y();S();Xe();El=class extends F{connectedCallback(){this.init()}async init(){this.innerHTML="<am-spinner></am-spinner>";let{data:e}=await ue("PageCollectionController::getRecentlyEdited");this.innerHTML="",this.classList.add("am-l-grid"),this.setAttribute("style","--min: 12rem;"),e.forEach(t=>{let i=`page?url=${t.url}`,n=Sr(t.url);p("div",["am-c-card","am-c-card--hover"],{},this,w`<am-link ${"am-target"}="${i}&section=${"files"}" class="${"am-c-card__teaser"}" > ${t.thumbnail!=""?`<img src="${Dt(t.thumbnail)}" />`:'<i class="bi bi-file-earmark-text"></i>'}</am-link><am-link ${"am-target"}="${i}" class="${"am-c-card__title"}" > ${t.title}</am-link><am-link ${"am-target"}="${i}" class="${"am-c-card__body"}" ><span>${ro(t.lastModified)}</span><span>${t.fileCount} ${r.text(t.fileCount===1?"file":"files")}</span></am-link><div class="${"am-c-card__buttons"}"><am-link ${"am-target"}="${i}"><span class="${"am-u-flex"} ${"am-u-flex--gap"} ${"am-u-flex--align-center"}" ><span>${r.text("edit")}</span></span></am-link><a href="${n}" target="_blank"><span class="${"am-u-flex"} ${"am-u-flex--gap"} ${"am-u-flex--align-center"}" ><span>${r.text("visit")}</span></span></a></div>`)})}};customElements.define("am-recently-edited-pages",El)});var bw={};var Cl,Oh=y(()=>{Y();S();Cl=class extends F{connectedCallback(){this.init()}async init(){let{data:e}=await ue("AppController::getServerInfo");this.innerHTML=w`<table><tr><td>Host Name</td><td>${e.hostName}</td></tr><tr><td>Host IP</td><td>${e.hostIp}</td></tr><tr><td>Server OS</td><td>${e.serverOs}</td></tr><tr><td>Server Software</td><td>${e.serverSoftware}</td></tr><tr><td>PHP Version</td><td>${e.phpVersion}</td></tr><tr><td>PHP Sapi</td><td>${e.phpSapiName}</td></tr><tr><td>Memory Limit</td><td>${e.memoryLimit}</td></tr><tr><td>Disk Usage</td><td>${e.diskUsage}M / ${e.diskQuota}M</td></tr></table>`}};customElements.define("am-server-info",Cl)});var gw={};var Al,Nh=y(()=>{S();Y();Al=class extends F{connectedCallback(){this.classList.add("am-c-privacy-indicator"),this.listen(window,"AutomadAppStateChange",this.render.bind(this)),this.render()}render(){let e=fe();this.innerHTML="",r.pages[e]?.private?p("i",["bi","bi-eye-slash-fill"],{},this):p("i",["bi","bi-eye"],{},this)}};customElements.define("am-private-indicator",Al)});var Kt,Ni=y(()=>{Y();S();Kt=class extends F{connectedCallback(){this.render(),this.listen(window,"AutomadAppStateChange",this.render.bind(this))}}});var vw={};var Sl,Bh=y(()=>{S();Xe();Ni();Sl=class extends Kt{render(){this.classList.toggle("am-u-display-none",!r.system.debug),r.system.debug?this.innerHTML=w`<am-link class="${"am-c-navbar__item"}" ${"am-target"}="${"system"}?section=${"debug"}" ${"am-tooltip"}="${r.text("debugEnabled")}" ><i class="bi bi-bug"></i></am-link>`:this.innerHTML=""}};customElements.define("am-navbar-debug-indicator",Sl)});var fi,$l=y(()=>{S();Y();fi=class extends F{connectedCallback(){this.render(),this.listen(window,"AutomadPackagesUpdateCheck",this.render.bind(this))}}});var xw={};var Ml,Rh=y(()=>{S();$l();Ml=class extends fi{render(){let e=r.state.outdatedPackages;this.classList.toggle("am-u-display-none",!e),e>0?this.innerHTML=w`<am-link class="${"am-c-navbar__item"}" ${"am-target"}="${"packages"}?section=${"packages"}" ${"am-tooltip"}="${r.text("packagesUpdatesAvailable")}" ><i class="bi bi-box-seam"></i></am-link>`:this.innerHTML=""}};customElements.define("am-navbar-outdated-packages-indicator",Ml)});var hi,Ll=y(()=>{S();Y();hi=class extends F{connectedCallback(){this.render(),this.listen(window,"AutomadSystemUpdateCheck",this.render.bind(this))}}});var yw={};var Il,Ph=y(()=>{S();Xe();Ll();Il=class extends hi{render(){this.classList.toggle("am-u-display-none",!r.state.systemUpdate?.pending),r.state.systemUpdate?.pending?this.innerHTML=w`<am-link class="${"am-c-navbar__item"}" ${"am-target"}="${"system"}?section=${"update"}" ${"am-tooltip"}="${r.text("systemUpdateTooltip")}" ><i class="bi bi-download"></i></am-link>`:this.innerHTML=""}};customElements.define("am-navbar-update-indicator",Il)});var ww={};var Dl,Hh=y(()=>{S();$l();Dl=class extends fi{render(){let e=r.state.outdatedPackages;this.classList.toggle("am-e-badge",e>0),e?this.innerHTML=w` ${e}`:this.innerHTML=""}};customElements.define("am-sidebar-outdated-packages-indicator",Dl)});var Wt,Bi=y(()=>{S();Ni();Wt=class extends Kt{render(){this.state?this.innerHTML=w`<am-icon-text class="${"am-u-text-active"}" ${"am-icon"}="check-circle" ${"am-text"}="${this.textOn}" ></am-icon-text>`:this.innerHTML=w`<am-icon-text class="${"am-u-text-muted"}" ${"am-icon"}="slash-circle" ${"am-text"}="${this.textOff}" ></am-icon-text>`}}});var kw={};var zl,Uh=y(()=>{S();Bi();zl=class extends Wt{get textOn(){return r.text("cacheEnabled")}get textOff(){return r.text("cacheDisabled")}get state(){return r.system.cache.enabled}};customElements.define("am-system-cache-indicator",zl)});var Tw={};var Fl,jh=y(()=>{S();Bi();Fl=class extends Wt{get textOn(){return r.text("debugEnabled")}get textOff(){return r.text("debugDisabled")}get state(){return r.system.debug}};customElements.define("am-system-debug-indicator",Fl)});var _w={};var Ol,qh=y(()=>{S();Bi();Ol=class extends Wt{get textOn(){return r.text("feedEnabled")}get textOff(){return r.text("feedDisabled")}get state(){return r.system.feed.enabled}};customElements.define("am-system-feed-indicator",Ol)});var Ew={};var Nl,Gh=y(()=>{S();Bi();Nl=class extends Wt{get textOn(){return r.text("i18nEnabled")}get textOff(){return r.text("i18nDisabled")}get state(){return r.system.i18n}};customElements.define("am-system-i18n-indicator",Nl)});var Cw={};var Bl,Vh=y(()=>{S();Ni();Bl=class extends Kt{render(){this.innerHTML=`<am-icon-text class="${r.system.mail.transport==="smtp"?"am-u-text-active":"am-u-text-muted"}" am-icon="send" am-text="${r.system.mail.transport}" ></am-icon-text>`}};customElements.define("am-system-mail-indicator",Bl)});var Aw={};var Rl,Kh=y(()=>{S();Ll();Rl=class extends hi{render(){if(r.state.systemUpdate?.pending){this.innerHTML=w`<span class="${"am-u-text-active"} ${"am-c-icon-text"}"><i class="bi bi-download"></i><span>${r.text("systemUpdateTo")} ${r.state.systemUpdate?.latest}</span></span>`;return}this.innerHTML=w`<am-icon-text class="${"am-u-text-muted"}" ${"am-icon"}="check-circle" ${"am-text"}="${r.text("systemUpToDate")}" ></am-icon-text>`}};customElements.define("am-system-update-indicator",Rl)});var Sw={};var Pl,Wh=y(()=>{S();Ni();Pl=class extends Kt{render(){this.textContent=`${r.system.users.length}`}};customElements.define("am-user-count-indicator",Pl)});var $w={};var Hl,Xh=y(()=>{S();Y();Hl=class extends F{connectedCallback(){this.classList.add("am-c-modal__body")}};customElements.define("am-modal-body",Hl)});var Mw={};var Ul,Yh=y(()=>{Y();Lt();Ul=class extends F{connectedCallback(){let e=()=>{let t=this.closest(ze.TAG_NAME);this.hasAttribute("disabled")||t instanceof ze&&t.close()};this.listen(this,"click",e.bind(this))}};customElements.define("am-modal-close",Ul)});var Lw={};var jl,Jh=y(()=>{S();Y();jl=class extends F{connectedCallback(){this.classList.add("am-c-modal__dialog")}};customElements.define("am-modal-dialog",jl)});var Iw={};var ql,Zh=y(()=>{S();Y();ql=class extends F{connectedCallback(){this.classList.add("am-c-modal__footer")}};customElements.define("am-modal-footer",ql)});var Dw={};var Gl,Qh=y(()=>{S();Y();Gl=class extends F{connectedCallback(){this.classList.add("am-c-modal__header"),p("am-modal-close",["am-c-modal__close"],{},this)}};customElements.define("am-modal-header",Gl)});var eb={};ae(eb,{ModalFieldComponent:()=>Ri});var Ri,tb=y(()=>{S();Lt();Ri=class o extends ze{static TAG_NAME="am-modal-field";classes=["am-c-modal-field"];connectedCallback(){super.connectedCallback(),this.render(),this.listen(this,"click",()=>{re(o.TAG_NAME).forEach(t=>{t.removeAttribute("style")}),this.style.zIndex="40"})}render(){let e=this.getAttribute("am-page")||r.text("sharedTitle");p("div",["am-c-modal-field__header"],{},this,w`<am-icon-text ${"am-icon"}="file-earmark-text" ${"am-text"}="${e}" ></am-icon-text><span class="${"am-c-modal-field__toggle"}"></span>`),p("div",["am-c-modal-field__toggle","am-u-display-small-none"],{},this).innerHTML="\u2197",this.listen(this,"click",()=>{this.toggle()},".am-c-modal-field__toggle")}};customElements.define(Ri.TAG_NAME,Ri)});var zw={};var Vl,ob=y(()=>{S();Lt();Vl=class extends ze{connectedCallback(){super.connectedCallback(),p("am-modal-jumpbar-dialog",[],{placeholder:"jumpbarButtonText"},this),this.addListener(Fo("j",()=>{r.navigationIsLocked||this.open()})),this.listen(this,"focusout",()=>{this.close()},"input")}lockNavigation(){}unlockNavigation(){}saveInitialFormData(){}restoreInitialFormData(){}};customElements.define("am-modal-jumpbar",Vl)});var ib={};ae(ib,{AutocompleteComponent:()=>vo});var vo,Qr=y(()=>{Y();S();vo=class extends F{static get observedAttributes(){return["placeholder","name","value"]}get data(){let e=[];return(this.getAttribute("am-data")??"").split(",").forEach(i=>{let n=i.trim();e.push({value:n,title:n})}),e}items=[];itemsFiltered;selectedIndex=null;initialIndex=null;get minInputLength(){return parseInt(this.getAttribute("am-min")??"1")}maxItems=8;input;dropdown;elementClasses=["am-c-dropdown"];inputClasses=["am-f-input"];itemsClasses=["am-c-dropdown__items","am-c-dropdown__items--autocomplete"];linkClass="am-c-dropdown__link";linkActiveClass="am-active";connectedCallback(){this.classList.add(...this.elementClasses),this.listen(window,"AutomadAppStateChange",this.init.bind(this)),this.init()}init(){typeof this.data<"u"&&(this.innerHTML="",this.items=[],this.input=this.createInput(),this.hasAttribute("disabled")||(this.dropdown=p("div",this.itemsClasses,{},this),this.data.forEach(e=>{this.items.push({element:this.createItemElement(e),value:this.createItemValue(e),item:e})}),this.itemsFiltered=this.items,this.registerDropdownEvents(),this.registerInputEvents(),this.update()))}createInput(){let t={type:"text",...this.hasAttribute("disabled")?{disabled:""}:{}},i=r.text(this.elementAttributes.placeholder);return i&&(t.placeholder=i),this.elementAttributes.name&&(t.name=this.elementAttributes.name),this.elementAttributes.value&&(t.value=this.elementAttributes.value),p("input",this.inputClasses,t,this)}createItemElement(e){return p("a",[this.linkClass],{},null,w`$${e.title}`)}createItemValue(e){return e.value.toLowerCase()}renderDropdown(){this.dropdown.innerHTML="",this.itemsFiltered.forEach(e=>{this.dropdown.appendChild(e.element)})}update(){let e=this.input.value.toLowerCase().split(" "),t=0;this.itemsFiltered=[],this.items.forEach(i=>{var n=!0;if(t<this.maxItems){for(var a=0;a<e.length;a++)if(i.value.indexOf(e[a])==-1){n=!1;break}n&&(this.itemsFiltered.push(i),t++)}}),this.selectedIndex=this.initialIndex,this.renderDropdown(),this.toggleActiveItemStyle()}onKeyDownEvent(e){switch(e.keyCode){case 38:this.prev(e);break;case 40:this.next(e);break;case 13:this.select(e);break;case 9:case 27:this.input.blur(),this.close();break}}onKeyUpEvent(e){[38,40,13,9,27].includes(e.keyCode)||(this.update(),this.open())}onMouseOverEvent(e){let t=e.target;t.matches(`.${this.linkClass}`)||(t=t.closest(`.${this.linkClass}`)),this.selectedIndex=Array.from(this.dropdown.children).indexOf(t),this.toggleActiveItemStyle()}registerInputEvents(){this.listen(this.input,"keydown",this.onKeyDownEvent.bind(this)),this.listen(this.input,"keyup",ke(this.onKeyUpEvent.bind(this))),this.listen(this.input,"focus",this.open.bind(this)),this.listen(document,"click",e=>{this.contains(e.target)||this.close()})}registerDropdownEvents(){this.listen(this.dropdown,"mouseover",e=>{this.onMouseOverEvent(e)},`.${this.linkClass}`),this.listen(this.dropdown,"click",e=>{this.select(e)},`.${this.linkClass}`)}toggleActiveItemStyle(){this.itemsFiltered.forEach((e,t)=>{e.element.classList.toggle(this.linkActiveClass,t==this.selectedIndex)})}close(){this.selectedIndex=this.initialIndex,this.toggleActiveItemStyle(),this.classList.remove("am-c-dropdown--open")}open(){this.input.value.length>=this.minInputLength&&(this.update(),this.classList.add("am-c-dropdown--open"))}prev(e){e.stopImmediatePropagation(),e.preventDefault(),this.selectedIndex--,this.selectedIndex<0&&(this.selectedIndex=this.itemsFiltered.length-1),this.toggleActiveItemStyle()}next(e){e.stopImmediatePropagation(),e.preventDefault(),this.selectedIndex===null?this.selectedIndex=0:(this.selectedIndex++,this.selectedIndex>this.itemsFiltered.length-1&&(this.selectedIndex=0)),this.toggleActiveItemStyle()}select(e){e.stopImmediatePropagation(),e.preventDefault(),this.selectedIndex!==null&&(this.input.value=this.itemsFiltered[this.selectedIndex].value),this.close(),X("AutomadAutocompleteSelect",this)}};customElements.define("am-autocomplete",vo)});var qw={};var Fw,Ow,Nw,Bw,Rw,Pw,Hw,Uw,jw,Kl,nb=y(()=>{S();Xe();Qr();Fw=()=>[{target:"search",value:r.text("searchTitle"),title:r.text("searchTitle"),icon:"search",cls:["am-c-modal__jumpbar-divider"]}],Ow=()=>[{external:r.baseIndex||"/",value:r.text("inPageEdit"),title:r.text("inPageEdit"),icon:"window-desktop",cls:["am-c-modal__jumpbar-divider"]}],Nw=()=>{let o=(n,a,l)=>({target:`system?section=${n}`,value:`${r.text("systemTitle")} ${r.text(a)}`,title:r.text(a),subtitle:r.text("systemTitle"),icon:l,cls:["am-c-modal__jumpbar-divider-system"]}),e=r.isCloud?[]:[o("mail","systemMail","envelope")],t=r.isCloud?[]:[o("debug","systemDebug","bug")];return[o("cache","systemCache","device-ssd"),o("users","systemUsers","person-badge"),o("feed","systemRssFeed","rss"),...e,o("i18n","systemI18n","globe"),o("language","systemLanguage","translate"),...t,o("update","systemUpdate","arrow-repeat")]},Bw=()=>[{target:"shared",value:r.text("sharedTitle"),title:r.text("sharedTitle"),icon:"file-earmark-medical",cls:["am-c-modal__jumpbar-divider"]}],Rw=()=>[{target:"components",value:r.text("componentsTitle"),title:r.text("componentsTitle"),icon:"boxes",cls:["am-c-modal__jumpbar-divider"]}],Pw=()=>[{target:"packages?section=packages",value:r.text("packagesSwitcherTitle"),title:r.text("packagesSwitcherTitle"),icon:"box-seam",cls:["am-c-modal__jumpbar-divider-packages"]},{target:"packages?section=repositories",value:`${r.text("repositoriesSwitcherTitle")} (packages)`,title:r.text("repositoriesSwitcherTitle"),icon:"git",cls:["am-c-modal__jumpbar-divider-packages"]}],Hw=()=>[{target:"trash",value:r.text("trashTitle"),title:r.text("trashTitle"),icon:"trash3",cls:["am-c-modal__jumpbar-divider"]}],Uw=()=>{let o=[],e=Object.values(r.pages);return e.sort((t,i)=>t.lastModified<i.lastModified?1:i.lastModified<t.lastModified?-1:0),e.forEach(t=>{let i=t.private?"eye-slash-fill":"file-earmark-text";o.push({target:`page?url=${t.url}`,value:`${t.title} ${t.url}`,title:t.title,subtitle:t.url,icon:i})}),o},jw=()=>[].concat(Fw(),Ow(),Nw(),Bw(),Rw(),Pw(),Hw(),Uw()),Kl=class extends vo{get data(){return jw()}initialIndex=0;get minInputLength(){return 0}elementClasses=["am-c-modal__dialog"];inputClasses=["am-c-modal__jumpbar-input"];itemsClasses=["am-c-modal__jumpbar-items"];linkClass="am-c-modal__jumpbar-link";linkActiveClass="am-active";createItemElement(e){let t={};e.external&&(t["am-external"]=e.external),e.target&&(t["am-target"]=e.target);let i=e.cls||[],n=p("am-link",i.concat("am-c-modal__jumpbar-link"),t);return n.innerHTML=this.itemHtml(e.icon,e.title,e.subtitle),n}createItemValue(e){return e.value.toLowerCase()}itemHtml(e,t,i){return w`<span class="${"am-c-icon-text"}"><i class="bi bi-${e}"></i><span>$${t}</span><span class="${"am-u-text-muted"}">$${i||""}</span></span>`}update(){let e=this.itemsFiltered[0];e.element.setAttribute("am-target",`search?search=${encodeURIComponent(this.input.value).replace(/%20/g,"+")}`),e.value=`${e.value} ${this.input.value.toLowerCase()}`,e.element.innerHTML=this.itemHtml(e.item.icon,e.item.title,this.input.value),this.maxItems=Math.floor((window.innerHeight-150)/46),super.update()}close(){this.selectedIndex=this.initialIndex,this.toggleActiveItemStyle()}open(){this.update()}select(e){e.preventDefault(),this.selectedIndex!==null&&this.itemsFiltered[this.selectedIndex].element.click(),this.close()}disconnectedCallback(){super.disconnectedCallback(),this.itemsFiltered=null,this.items.forEach(({element:e})=>{e.remove()}),this.items=null}};customElements.define("am-modal-jumpbar-dialog",Kl)});var Gw={};var Wl,rb=y(()=>{S();Y();Wl=class extends F{static get observedAttributes(){return["am-modal"]}connectedCallback(){let e=()=>{R(this.elementAttributes["am-modal"]).toggle()};this.listen(this,"click",e.bind(this))}};customElements.define("am-modal-toggle",Wl)});var ab={};ae(ab,{AddRepositoryComponent:()=>Bo});var Bo,Xl=y(()=>{Y();S();Xe();Bo=class extends F{static TAG_NAME="am-add-repository";connectedCallback(){let e=p("button",["am-e-button","am-e-button--primary"],{},this,r.text("repositoryAdd"));this.listen(e,"click",async()=>{let{modal:t,form:i}=ai("PackageManagerController::addRepository","AutomadRepositoriesChange",r.text("repositoryAddTitle"),r.text("repositoryAddButton"));p("p",[],{},i,r.text("repositoryAddInfo")),P("am-platform-select-field",i,{key:"platform",value:"github",name:"platform",label:"Platform Type"}),P("am-input-field",i,{key:"name",value:"",name:"name",placeholder:"vendor/package"},[],{required:""}),P("am-input-field",i,{key:"repositoryUrl",value:"",name:"repositoryUrl",label:"Repository URL",placeholder:"https://github.com/user/repository"},[],{required:""}),P("am-input-field",i,{key:"branch",value:"",name:"branch",placeholder:"main"},[],{required:""}),setTimeout(()=>{t.open()},0)})}};customElements.define(Bo.TAG_NAME,Bo)});var lb={};ae(lb,{ComposerAuthComponent:()=>Ro});var sb,Vw,Ro,Yl=y(()=>{Y();S();Xe();sb=()=>{let{modal:o,form:e}=ai("PackageManagerController::saveAuth","",r.text("composerAuth"),r.text("save"));setTimeout(async()=>{e.innerHTML="<am-spinner></am-spinner>",e.classList.add("am-u-flex","am-u-flex--column","am-u-flex--gap-large"),o.open(),p("div",[],{},e,r.text("composerAuthInfo"));let i={...{githubToken:"",githubTokenIsSet:!1,gitlabUrl:"",gitlabToken:"",gitlabTokenIsSet:!1},...(await ue("PackageManagerController::getSafeAuth")).data},n=p("div",["am-c-card"],{},e,w`<div class="${"am-c-card__icon"}"><i class="bi bi-github"></i></div><div class="${"am-c-card__title"}">GitHub</div>`),a=p("div",["am-c-card__form"],{},n);P("am-input-field",a,{key:"githubToken",value:"",name:"githubToken",placeholder:i.githubTokenIsSet?"**********":"",label:'Fine-grained access token "Contents: Read"'},[]);let l=p("div",["am-c-card"],{},e,w`<div class="${"am-c-card__icon"}"><i class="bi bi-gitlab"></i></div><div class="${"am-c-card__title"}">GitLab</div>`),d=p("div",["am-c-card__form"],{},l);P("am-input-field",d,{key:"gitlabToken",value:"",name:"gitlabToken",placeholder:i.gitlabTokenIsSet?"**********":"",label:'Personal access token "read_api"'},[]),P("am-input-field",d,{key:"gitlabUrl",value:i.gitlabUrl||"gitlab.com",name:"gitlabUrl",placeholder:"gitlab.com",label:"GitLab URL"},[])},0)},Vw=async()=>{if(!await St(r.text("composerAuthResetConfirm")))return;let{success:o}=await ue("PackageManagerController::resetAuth",{},!0);o&&gt(o)},Ro=class extends F{static TAG_NAME="am-composer-auth";connectedCallback(){this.classList.add("am-f-group");let e=p("button",["am-e-button","am-f-group__item"],{},this,r.text("composerAuth")),t=p("am-dropdown",["am-e-button","am-e-button--icon","am-f-group__item"],{"am-right":""},this,'<i class="bi bi-three-dots-vertical"></i>'),i=p("div",["am-c-dropdown__items"],{},t),n=p("button",["am-c-dropdown__link"],{},i,w`<am-icon-text ${"am-icon"}="key" ${"am-text"}="${r.text("composerAuthConfig")}" ></am-icon-text>`),a=p("button",["am-c-dropdown__link"],{},i,w`<am-icon-text ${"am-icon"}="x-lg" ${"am-text"}="${r.text("composerAuthReset")}" ></am-icon-text>`);this.listen(e,"click",sb.bind(this)),this.listen(n,"click",sb.bind(this)),this.listen(a,"click",Vw.bind(this))}};customElements.define(Ro.TAG_NAME,Ro)});var cb={};ae(cb,{PackageCardComponent:()=>Po});var Jl,Po,Zl=y(()=>{S();Y();Jl=async(o,e,t)=>{let i=uo(t);i.open();let{error:n,success:a}=await ue(e,{package:o.name});n&&ot(n),a&&gt(a),i.close(),X("AutomadPackagesChange"),r.checkForOutdatedPackages()},Po=class extends F{static TAG_NAME="am-package-card";set data(e){this.render(e)}createHeader(e,t){p("div",["am-c-card__header"],{},t,w`<div class="${"am-c-card__title"}">$${e.title}</div><am-dropdown class="${"am-c-card__header-dropdown"}" ${"am-right"}><i class="bi bi-three-dots"></i><div class="${"am-c-dropdown__items"}"><a href="${e.documentation}" class="${"am-c-dropdown__link"}" target="_blank" ><am-icon-text ${"am-icon"}="file-richtext" ${"am-text"}="${r.text("packageDocumentation")}" ></am-icon-text></a><a href="${e.repository}" class="${"am-c-dropdown__link"}" target="_blank" ><am-icon-text ${"am-icon"}="git" ${"am-text"}="Repository" ></am-icon-text></a><a href="${e.issues}" class="${"am-c-dropdown__link"}" target="_blank" ><am-icon-text ${"am-icon"}="bug" ${"am-text"}="Issues" ></am-icon-text></a></div></am-dropdown>`)}createDescription(e,t){p("span",["am-u-text-limit-rows"],{},p("div",["am-c-card__body"],{},t)).textContent=e.description}createFooter(e,t){let i=p("div",["am-c-card__buttons"],{},t);e.installed?(this.createRemoveButton(e,i),e.outdated&&this.createUpdateButton(e,i)):this.createInstallButton(e,i)}createUpdateButton(e,t){let i=p("span",[],{},t);p("span",[],{},i).textContent=r.text("packageUpdate"),this.listen(i,"click",()=>{Jl(e,"PackageManagerController::update",r.text("packageUpdating"))})}createInstallButton(e,t){let i=p("span",[],{},t);p("span",[],{},i).textContent=r.text("packageInstall"),this.listen(i,"click",()=>{Jl(e,"PackageManagerController::install",r.text("packageInstalling"))})}createRemoveButton(e,t){let i=p("span",[],{},t);if(p("span",[],{},i).textContent=r.text("packageRemove"),e.isDependency){i.setAttribute("disabled",""),i.setAttribute("title",r.text("packageIsDependency"));return}this.listen(i,"click",()=>{Jl(e,"PackageManagerController::remove",r.text("packageRemoving"))})}createPreview(e,t){let i=a=>{p("i",["bi","bi-box-seam"],{},a)},n=p("a",["am-c-card__teaser"],{href:e.documentation,target:"_blank"},t);if(e.version){let a=["am-e-badge"],l=[e.version];e.outdated&&(l.push("\uE1D7"),l.push(e.latest)),p("span",a,{},n,l.join(" "))}if(e.thumbnail){let a=p("img",[],{src:e.thumbnail},n);this.listen(a,"error",()=>{a.remove(),i(n)});return}i(n)}async render(e){this.classList.add("am-c-card"),this.classList.toggle("am-c-card--active",e.installed),this.createHeader(e,this),this.createPreview(e,this),this.createDescription(e,this),this.createFooter(e,this)}};customElements.define(Po.TAG_NAME,Po)});var Ww={};var Kw,Ql,db=y(()=>{S();Y();Zl();Kw=async()=>{let{data:o,error:e}=await ue("PackageManagerController::getPackageCollection");if(!o||e)return ot(e),[];let t=o.packages;return t.sort((i,n)=>i.installed<n.installed?1:n.installed<i.installed?-1:0),t},Ql=class extends F{listContainer;connectedCallback(){this.innerHTML=w`<div class="${"am-u-flex"} ${"am-u-flex--gap"}"><am-update-all-packages></am-update-all-packages><am-filter placeholder="packagesFilter" ${"am-target"}="${Po.TAG_NAME}" ></am-filter></div>`,this.listContainer=p("div",["am-l-grid"],{},this,"<am-spinner></am-spinner>"),this.init(),this.listen(window,"AutomadPackagesChange",this.init.bind(this))}async init(){let e=await Kw();this.listContainer.innerHTML="",e.forEach(t=>{let i=p("am-package-card",[],{},this.listContainer);i.data=t}),X("AutomadPackagesRender")}};customElements.define("am-package-list",Ql)});var mb={};ae(mb,{RepositoryCardComponent:()=>Ho});var Ho,ec=y(()=>{S();Xe();Y();Ho=class extends F{static TAG_NAME="am-repository-card";set data(e){this.render(e)}render(e){this.classList.add("am-c-card"),p("div",["am-u-flex__item-grow"],{},this,w`<span class="${"am-c-card__icon"}"><i class="bi bi-${e.platform}"></i></span><div class=${"am-c-card__title"}>${e.name}</div><a href="${e.repositoryUrl}" class="${"am-c-card__body"}" target="_blank" ><am-icon-text ${"am-icon"}="chat-left" ${"am-text"}="${e.description}" title="${e.description}" ></am-icon-text><am-icon-text ${"am-icon"}="box-seam" ${"am-text"}="${e.repositoryUrl}" title="${e.repositoryUrl}" ></am-icon-text><am-icon-text ${"am-icon"}="tag" ${"am-text"}="${e.branch}" ></am-icon-text></a>`);let t=p("div",["am-c-card__buttons"],{},this),i=p("button",[],{},t,w`<span>${r.text("repositoryRemove")}</span>`);this.listen(i,"click",async()=>{let{modal:a,form:l}=ai("PackageManagerController::removeRepository","AutomadRepositoriesChange","",r.text("repositoryRemove"));l.textContent=r.text("repositoryRemoveConfirm"),l.additionalData={name:e.name},setTimeout(()=>{a.open()},0)});let n=p("button",[],{},t,w`<span>${r.text("repositoryUpdate")}</span>`);this.listen(n,"click",async()=>{let a=uo(r.text("repositoryUpdating"));a.open();let{error:l,success:d}=await ue("PackageManagerController::updateRepository",{name:e.name});a.close(),X("AutomadRepositoriesChange"),l&&ot(l),d&&gt(d)})}};customElements.define(Ho.TAG_NAME,Ho)});var Xw={};var tc,pb=y(()=>{Y();S();Xe();Yl();Xl();ec();tc=class extends F{listContainer;connectedCallback(){this.init()}async init(){let e=p("div",["am-u-flex","am-u-flex--gap"],{},this);p(Bo.TAG_NAME,[],{},e),p(Ro.TAG_NAME,[],{},e),p("p",[],{},this,r.text("repositoriesInfo")),this.listContainer=p("div",["am-l-grid"],{style:"--min: 24rem;"},this,"<am-spinner></am-spinner>"),this.renderList(),this.listen(window,"AutomadRepositoriesChange",this.renderList.bind(this))}async renderList(){let e=(await ue("PackageManagerController::getRepositoryCollection"))?.data??[];this.listContainer.innerHTML="",e.forEach(t=>{let i=p(Ho.TAG_NAME,[],{},this.listContainer);i.data=t})}};customElements.define("am-repository-list",tc)});var Yw={};var oc,ub=y(()=>{S();Y();oc=class extends F{connectedCallback(){this.classList.add("am-u-display-none","am-e-button"),this.textContent=r.text("packagesUpdateAll"),this.init(),this.listen(window,"AutomadPackagesUpdateCheck",this.init.bind(this)),this.listen(this,"click",async()=>{let e=uo(r.text("packagesUpdatingAll"));e.open();let{error:t,success:i}=await ue("PackageManagerController::updateAll");t&&ot(t),i&&gt(i),e.close(),X("AutomadPackagesChange"),r.checkForOutdatedPackages()})}async init(){let e=r.state.outdatedPackages>0;this.classList.toggle("am-u-display-none",!e)}};customElements.define("am-update-all-packages",oc)});var xo,ea=y(()=>{S();Y();xo=class extends F{partials={};init(){return Oo(this.pageTitle),this.innerHTML=this.template(this.partials),this}}});var hb,bb=y(()=>{S();Xe();hb=({main:o,publishForm:e})=>w`<div class="${"am-l-dashboard"}"><div class="${"am-l-dashboard__navbar"} ${"am-l-dashboard__navbar--left"}" ><div class="${"am-c-navbar"}"><am-link ${"am-target"}="${"home"}" class="${"am-c-navbar__item"}" ><am-logo></am-logo></am-link><am-modal-toggle ${"am-modal"}="#am-add-page-modal" class="${"am-c-navbar__item"}" ${"am-tooltip"}="${r.text("addPage")}" ><span>${r.text("new")}</span><i class="bi bi-plus-lg"></i></am-modal-toggle></div></div><div class="${"am-l-dashboard__navbar"} ${"am-l-dashboard__navbar--right"}" ><div class="${"am-c-navbar"}"><am-link ${"am-target"}="${"home"}" class="${"am-u-display-medium"} ${"am-c-navbar__item"}" ><am-logo></am-logo></am-link><am-modal-toggle class="${"am-c-navbar__item"} ${"am-u-display-medium-none"}" ${"am-modal"}="#am-jumpbar-modal" ><span>${r.text("jumpbarButtonText")}</span><am-key-combo-badge ${"am-key"}="J" ></am-key-combo-badge></am-modal-toggle><span class="${"am-c-navbar__group"}"><am-navbar-update-indicator class="${"am-u-display-small-none"}" ></am-navbar-update-indicator><am-navbar-outdated-packages-indicator class="${"am-u-display-small-none"}" ></am-navbar-outdated-packages-indicator><am-navbar-debug-indicator class="${"am-u-display-small-none"}" ></am-navbar-debug-indicator><am-undo-buttons class="${"am-u-display-small-none"}" ></am-undo-buttons>${e} <am-modal-toggle class="${"am-c-navbar__item"} ${"am-u-display-medium"}" ${"am-modal"}="#am-jumpbar-modal" ><i class="bi bi-menu-button-wide"></i></am-modal-toggle><am-sidebar-toggle class="${"am-c-navbar__item"} ${"am-u-display-medium"}" ><i class="bi bi-list"></i></am-sidebar-toggle><am-dropdown class="${"am-u-display-medium-none"}" ${"am-right"} ><span class="${"am-c-navbar__item"}"><i class="bi bi-three-dots"></i></span><div class="${"am-c-dropdown__items"}"><span class="${"am-c-dropdown__content"} ${"am-c-dropdown__divider"}" ><am-dashboard-theme-toggle></am-dashboard-theme-toggle></span><am-modal-toggle class="${"am-c-dropdown__link"}" ${"am-modal"}="#am-about-modal" ><i class="bi bi-info-circle"></i><span>${r.text("aboutAutomad")}</span></am-modal-toggle><a href="https://automad.org" target="_blank" class="${"am-c-dropdown__link"} ${"am-c-dropdown__divider"}" ><i class="bi bi-book"></i><span>${r.text("documentation")}</span></a><am-link class="${"am-c-dropdown__link"} ${"am-c-dropdown__divider"}" ${"am-target"}="${"system"}?section=${"users"}" ><i class="bi bi-people"></i><span>${r.text("systemUsers")}</span></am-link><span class="${"am-c-dropdown__label"}"> ${r.text("signedInAs")} ${r.user.name}</span><am-submit class="${"am-c-dropdown__link"}" ${"am-form"}="${"SessionController::logout"}" ><i class="bi bi-box-arrow-right"></i><span>${r.text("signOut")}</span></am-submit></div></am-dropdown></span></div></div><am-sidebar-toggle class="${"am-l-dashboard__sidebar-backdrop"}" ></am-sidebar-toggle><am-sidebar class="${"am-l-dashboard__sidebar"}"><div class="${"am-l-dashboard__sidebar-navbar"}"><div class="${"am-c-navbar"}"><am-modal-toggle ${"am-modal"}="#am-add-page-modal" class="${"am-c-navbar__item"}" ${"am-tooltip"}="${r.text("addPage")}" ><span>${r.text("new")}</span><i class="bi bi-plus-lg"></i></am-modal-toggle></div></div><nav class="${"am-c-nav"}"><span class="${"am-c-nav__item"}"><a href="${r.baseIndex||"/"}" class="${"am-c-nav__link"}" ><span class="${"am-c-icon-text"}"><i class="bi bi-window-desktop"></i><span ${"am-bind"}="sitename" ${"am-bind-to"}="textContent" > $${r.sitename}</span></span></a></span><am-nav-item ${"am-page"}="${"search"}" ${"am-icon"}="search" ${"am-text"}="searchTitle" ></am-nav-item><am-nav-item ${"am-page"}="${"system"}" ${"am-icon"}="sliders" ${"am-text"}="systemTitle" ></am-nav-item><am-nav-item ${"am-page"}="${"shared"}" ${"am-icon"}="asterisk" ${"am-text"}="sharedTitle" ${"am-publication-state"}="${r.sharedPublicationState}" ${ri()=="shared"?' am-bind="publicationState" am-bind-to="am-publication-state" ':""} ></am-nav-item><am-nav-item ${"am-page"}="${"components"}" ${"am-icon"}="boxes" ${"am-text"}="componentsTitle" ${"am-publication-state"}="${r.componentsPublicationState}" ${ri()=="components"?' am-bind="publicationState" am-bind-to="am-publication-state" ':""} ></am-nav-item><am-nav-item ${"am-page"}="${"packages"}" ${"am-icon"}="box-seam" ${"am-text"}="packagesTitle" ${"am-badge"}="am-sidebar-outdated-packages-indicator" ></am-nav-item><am-nav-item ${"am-page"}="${"trash"}" ${"am-icon"}="trash3" ${"am-text"}="trashTitle" ></am-nav-item></nav><am-nav-tree></am-nav-tree><div class="${"am-c-nav"} ${"am-u-display-medium"}"><span class="${"am-c-nav__item"}"><am-modal-toggle class="${"am-c-nav__link"}" ${"am-modal"}="#am-about-modal" ><i class="bi bi-info-circle"></i><span>${r.text("aboutAutomad")}</span></am-modal-toggle></span><span class="${"am-c-nav__item"}"><am-submit class="${"am-c-nav__link"}" ${"am-form"}="${"SessionController::logout"}" ><i class="bi bi-box-arrow-right"></i><span>${r.text("signOut")} ${r.user.name}</span></am-submit></span><am-dashboard-theme-toggle ${"am-no-tooltip"} ></am-dashboard-theme-toggle></div></am-sidebar><div class="${"am-l-dashboard__main"}">${o}</div><footer class="${"am-l-dashboard__footer"}"><am-modal-toggle class="${"am-u-cursor-pointer"} ${"am-u-flex"} ${"am-u-flex--gap"}" ${"am-modal"}="#am-about-modal" ><span class="${"am-e-badge"} ${"am-e-badge--muted"}"> ${r.version}</span></am-modal-toggle></footer></div><!-- Sign out form --><am-form ${"am-api"}="${"SessionController::logout"}"></am-form><!-- Jumpbar Modal --><am-modal-jumpbar id="am-jumpbar-modal"></am-modal-jumpbar><!-- New Page Modal --><am-modal id="am-add-page-modal"><am-modal-dialog><am-form ${"am-api"}="${"PageController::add"}"><am-modal-header>${r.text("addPage")}</am-modal-header><am-modal-body>${P("am-input-field",null,{key:`new-${r.reservedFields.TITLE}`,name:r.reservedFields.TITLE,label:zt(r.reservedFields.TITLE),value:r.text("newPageTitle")},[],{required:""}).outerHTML} <div class="${"am-c-field"}"><label class="${"am-c-field__label"}" >${r.text("pageTemplate")}</label ><am-page-template-select value="" ></am-page-template-select></div>${P("am-toggle-large-field",null,{key:`new-${r.reservedFields.PRIVATE}`,name:r.reservedFields.PRIVATE,label:r.text("keepPagePrivate"),value:!0}).outerHTML} <div class="${"am-c-field"}"><label class="${"am-c-field__label"}" >${r.text("selectTargetNewPage")}</label ><am-page-select-tree></am-page-select-tree></div></am-modal-body><am-modal-footer><am-modal-close class="${"am-e-button"}"> ${r.text("cancel")}</am-modal-close><am-submit class="${"am-e-button"} ${"am-e-button--primary"}"> ${r.text("addPage")}</am-submit></am-modal-footer></am-form></am-modal-dialog></am-modal><!-- About Automad Modal --><am-modal id="am-about-modal"><am-modal-dialog class="${"am-c-modal__dialog--small"}"><am-modal-body><am-logo></am-logo><hr /> Automad is a modern flat-file content management system and templating engine <hr /><span class="${"am-u-flex"} ${"am-u-flex--between"}"><a href="https://automad.org" target="_blank" class="${"am-u-text-link"}" >Open Website</a ><a href="https://automad.org/release-notes" class="${"am-e-badge"}" target="_blank" > ${r.version}</a></span></am-modal-body></am-modal-dialog></am-modal>`});var ct,oo=y(()=>{ea();bb();ct=class extends xo{template=hb;partials={main:this.renderMainPartial(),publishForm:this.renderPublishForm()};renderPublishForm(){return""}}});var Jw={};var ic,gb=y(()=>{S();Xr();oo();Wr();ic=class extends ct{get pageTitle(){return r.text("componentsTitle")}renderMainPartial(){return w`<am-breadcrumbs-route ${"am-target"}="${"components"}" ${"am-text"}="${this.pageTitle}" ></am-breadcrumbs-route><section class="${"am-c-components__sticky-section"} ${"am-l-dashboard__section"} ${"am-l-dashboard__section--sticky"}" ><div class="${"am-l-dashboard__content"} ${"am-l-dashboard__content--row"} ${"am-u-flex--gap"}" ><am-filter placeholder="componentFilter" ${"am-target"}="${Ft.TAG_NAME}" ></am-filter><button class="${Oi} ${"am-e-button"} ${"am-e-button--primary"}" > ${r.text("add")}</button></div></section><section class="${"am-l-dashboard__section"}"><div class="${"am-l-dashboard__content"}"><div class="${"am-c-components__hint"}"><p>${r.text("componentsHint")}</p><button class="${Oi} ${"am-e-button"} ${"am-e-button--primary"}" > ${r.text("newComponent")}</button></div><am-component-collection-form ${"am-api"}="${"ComponentController::data"}" ></am-component-collection-form></div></section>`}renderPublishForm(){return w`<am-component-publish-form></am-component-publish-form>`}};customElements.define(Be("components"),ic)});var vb={};ae(vb,{HomeComponent:()=>ta});var Zw,ta,xb=y(()=>{S();Xe();oo();Zw=()=>w`<div class="${"am-u-flex"} ${"am-u-flex--column"} ${"am-u-flex--gap-large"}"><div class="${"am-u-flex"} ${"am-u-flex--column"}"><am-icon-text ${"am-icon"}="hdd-network" ${"am-text"}="${location.hostname}" class="${"am-u-text-muted"}" ></am-icon-text><am-icon-text ${"am-icon"}="clock-history" ${"am-text"}="${r.text("latestActivity")} ${ro(r.siteMTime)}" class="${"am-u-text-muted"}" ></am-icon-text><am-link ${"am-target"}="${"system"}?section=${"cache"}" ><am-system-cache-indicator></am-system-cache-indicator></am-link></div><div class="${"am-u-display-small"}"><a href="${r.baseIndex||"/"}" class="${"am-e-button"}"> ${r.text("inPageEdit")}</a></div><div class="${"am-f-group"} ${"am-u-display-small-none"}"><a href="${r.baseIndex||"/"}" class="${"am-e-button"} ${"am-f-group__item"}" > ${r.text("inPageEdit")}</a><am-modal-toggle ${"am-modal"}="#am-server-info-modal" class="${"am-e-button"} ${"am-f-group__item"}" > ${r.text("serverInfo")}</am-modal-toggle></div></div><am-modal id="am-server-info-modal"><am-modal-dialog><am-modal-header>${r.text("serverInfo")}</am-modal-header><am-modal-body><am-server-info></am-server-info></am-modal-body></am-modal-dialog></am-modal>`,ta=class extends ct{get pageTitle(){return r.text("dashboardTitle")}renderMainPartial(){return w`<am-missing-email-alert></am-missing-email-alert><section class="${"am-l-dashboard__section"}"><div class="${"am-l-dashboard__content"}"><div class="${"am-u-flex"} ${"am-u-flex--column"} ${"am-u-flex--gap-large"}" ><div class="${"am-u-flex"} ${"am-u-flex--gap"} ${"am-u-flex--align-baseline"}" ><h1 class="${"am-e-base-home-h1"}">${r.sitename}</h1><am-link class="${"am-u-text-muted"}" ${"am-target"}="${"shared"}" ><i class="bi bi-pencil"></i></am-link></div>${Zw()} <div><h2>${r.text("recentlyEditedPages")}</h2><div><am-recently-edited-pages></am-recently-edited-pages></div></div></div></div></section>`}};customElements.define(Be("home"),ta)});var yb,wb=y(()=>{S();yb=({main:o})=>w`<div class="${"am-l-inpage"}"><div class="${"am-l-inpage__navbar"}"><nav class="${"am-c-navbar"}"><span class="${"am-c-navbar__group"} ${"am-u-flex--gap"}"><a class="${"am-c-navbar__item"}" ${"am-bind"}="inPageContextUrl" ${"am-bind-to"}="href" ><span ${"am-bind"}="inPageTitle"></span></a><span class="${"am-e-badge"}" ${"am-bind"}="inPageField" ></span></span><span class="${"am-u-flex"} ${"am-u-flex--gap"} ${"am-u-flex--align-center"}" ><span class="${"am-c-navbar__group"}"><am-undo-buttons class="${"am-u-display-small-none"}" ></am-undo-buttons><am-submit class="${"am-e-button"}" ${"am-form"}="${"InPageController::edit"}" disabled > ${r.text("save")}</am-submit><am-link href="${r.baseIndex||"/"}" class="${"am-c-navbar__item"}" ${"am-bind"}="inPageReturnUrl" ${"am-bind-to"}="${"am-external"}" ><i class="bi bi-x"></i></am-link></span></span></nav></div><div class="${"am-l-inpage__main"}"><div class="${"am-l-inpage__content"}">${o}</div></div></div>`});var Qw={};var nc,kb=y(()=>{S();ea();wb();nc=class extends xo{template=yb;get pageTitle(){return"InPage"}partials={main:this.renderMainPartial()};renderMainPartial(){return"<am-inpage-form></am-inpage-form>"}};customElements.define(Be("inpage"),nc)});var Tb,_b=y(()=>{S();Tb=({main:o})=>w`<div class="${"am-l-centered"}"><div class="${"am-l-centered__navbar"}"><nav class="${"am-c-navbar"}"><a href="${r.baseIndex||"/"}" class="${"am-c-navbar__item"}"><am-logo></am-logo></a><a href="${r.baseIndex||"/"}" class="${"am-c-navbar__item"}" ${"am-tooltip"}="${r.text("close")}" ><i class="bi bi-x"></i></a></nav></div><div class="${"am-l-centered__main"}"><div class="${"am-l-centered__content"}">${o}</div></div></div>`});var yo,oa=y(()=>{ea();_b();yo=class extends xo{template=Tb;partials={main:this.renderMainPartial()}}});var Eb={};ae(Eb,{LoginComponent:()=>ia});var ia,Cb=y(()=>{S();oa();ia=class extends yo{get pageTitle(){return r.text("signIn")}renderMainPartial(){return w`<h2>$${r.sitename} &mdash; ${r.text("signIn")}</h2><am-form ${"am-api"}="${"SessionController::login"}" ${"am-focus"} ${"am-enter"} ><am-form-error></am-form-error><div class="${"am-c-card"}"><div class="${"am-c-card__form"}"><input class="${"am-f-input"}" type="text" name="name-or-email" placeholder="${r.text("usernameOrEmail")}" required /><input class="${"am-f-input"}" type="password" name="password" placeholder="${r.text("password")}" required /><div class="${"am-c-card__form-buttons"}"><am-link ${"am-target"}="${"resetpassword"}" class="${"am-e-button"}" > ${r.text("forgotPassword")}</am-link><am-submit class="${"am-e-button"} ${"am-e-button--primary"}" > ${r.text("signIn")}</am-submit></div></div></div></am-form>`}};customElements.define(Be("login"),ia)});var Ab={};ae(Ab,{PackagesComponent:()=>na});var na,Sb=y(()=>{S();oo();na=class extends ct{get pageTitle(){return r.text("packagesTitle")}renderMainPartial(){let e=p("am-switcher-dropdown");return e.data={overview:{icon:"grid",section:"overview"},items:[{title:r.text("packagesSwitcherTitle"),section:"packages"},{title:r.text("repositoriesSwitcherTitle"),section:"repositories"}]},w`<am-breadcrumbs-route ${"am-target"}="${"packages"}" ${"am-text"}="${this.pageTitle}" ></am-breadcrumbs-route>${e.outerHTML} <section class="${"am-l-dashboard__section"}"><div class="${"am-l-dashboard__content"}"><am-switcher-section name="${"overview"}"><p>${r.text("packagesOverview")}</p><div class="${"am-l-grid"} ${"am-l-grid--auto"}" style="--min: 24rem;" ><am-switcher-link class="${"am-c-card"} ${"am-c-card--hover"}" ${"am-section"}="${"packages"}" ><span class="${"am-c-card__icon"}"><i class="bi bi-box-seam"></i></span><span class="${"am-c-card__title"}"> ${r.text("packagesSwitcherTitle")}</span><span class="${"am-c-card__body"}"><span class="${"am-u-text-limit-rows"}"> ${r.text("packagesInfo")}</span></span></am-switcher-link><am-switcher-link class="${"am-c-card"} ${"am-c-card--hover"}" ${"am-section"}="${"repositories"}" ><span class="${"am-c-card__icon"}"><i class="bi bi-git"></i></span><span class="${"am-c-card__title"}"> ${r.text("repositoriesSwitcherTitle")}</span><span class="${"am-c-card__body"}"><span class="${"am-u-text-limit-rows"}"> ${r.text("repositoriesInfo")}</span></span></am-switcher-link></div></am-switcher-section><am-switcher-section name="${"packages"}"><p>${r.text("packagesInfo")}</p><am-package-list></am-package-list></am-switcher-section><am-switcher-section name="${"repositories"}"><am-repository-list></am-repository-list></am-switcher-section></div></section>`}};customElements.define(Be("packages"),na)});var ra,rc=y(()=>{S();ra=()=>w`<am-modal id="am-file-import-modal"><am-modal-dialog><am-form ${"am-api"}="${"FileController::import"}" ${"am-event"}="${"AutomadFilesChangeOnServer"}" ><am-modal-body><div class="${"am-c-field"}"><input class="${"am-f-input"}" name="importUrl" type="text" placeholder="URL" /></div></am-modal-body><am-modal-footer><am-modal-close class="${"am-e-button"}"> ${r.text("cancel")}</am-modal-close><am-submit class="${"am-e-button"} ${"am-e-button--primary"}"> ${r.text("importFromUrl")}</am-submit></am-modal-footer></am-form></am-modal-dialog></am-modal>`});var Mb={};ae(Mb,{PageComponent:()=>aa});var $b,ek,tk,ok,ik,aa,Lb=y(()=>{S();_l();Xe();oo();rc();$b=()=>w`<am-breadcrumbs-page></am-breadcrumbs-page>`,ek=()=>w`<am-history-modal-form></am-history-modal-form>`,tk=()=>fe()==="/"?"":w`<am-modal id="am-move-page-modal"><am-modal-dialog><am-form ${"am-api"}="${"PageController::move"}"><am-modal-header>${r.text("movePage")}</am-modal-header><am-modal-body><div class="${"am-c-field"}"><label class="${"am-c-field__label"}"> ${r.text("selectTargetMovePage")}</label><am-page-select-tree ${"am-hide-current"} ></am-page-select-tree></div></am-modal-body><am-modal-footer><am-modal-close class="${"am-e-button"}"> ${r.text("cancel")}</am-modal-close><am-submit class="${"am-e-button"} ${"am-e-button--primary"}"> ${r.text("movePage")}</am-submit></am-modal-footer></am-form></am-modal-dialog></am-modal>`,ok=()=>{let o="";return fe()!="/"&&(o=w`<am-form ${"am-api"}="${"PageController::duplicate"}" ${"am-loading-animation"}="${r.text("duplicatingPageProgress")}" ><am-submit class="${"am-c-dropdown__link"}"><am-icon-text ${"am-icon"}="files" ${"am-text"}="${r.text("duplicatePage")}" ></am-icon-text></am-submit></am-form><am-modal-toggle class="${"am-c-dropdown__link"}" ${"am-modal"}="#am-move-page-modal" ><am-icon-text ${"am-icon"}="arrows-move" ${"am-text"}="${r.text("movePage")}" ></am-icon-text></am-modal-toggle><am-copy class="${"am-c-dropdown__link"} ${"am-c-dropdown__divider"}" value="${fe()}" ><am-icon-text ${"am-icon"}="clipboard-plus" ${"am-text"}="${r.text("copyUrlClipboard")}" ></am-icon-text></am-copy><am-form ${"am-api"}="${"PageController::delete"}" ${"am-confirm"}="${r.text("confirmDeletePage")}" ><am-submit class="${"am-c-dropdown__link"}"><am-icon-text ${"am-icon"}="trash3" ${"am-text"}="${r.text("deletePage")}" ></am-icon-text></am-submit></am-form>`),w`<am-dropdown ${"am-right"}><span class="${"am-c-menu__item"}"><span class="${"am-u-display-small-none"}">${r.text("more")}</span><span class="${"am-u-display-small-none"} ${"am-e-dropdown-arrow"}" ></span><span class="${"am-u-display-small"} ${"am-e-button"} ${"am-e-button--icon"}" ><i class="bi bi-three-dots-vertical"></i></span></span><div class="${"am-c-dropdown__items"}"><am-modal-toggle class="${"am-c-dropdown__link"}" ${"am-modal"}="#${ui.MODAL_ID}" ><am-icon-text ${"am-icon"}="clock-history" ${"am-text"}="${r.text("pageHistory")}" ></am-icon-text></am-modal-toggle><span class="${"am-c-dropdown__divider"}"></span><a href="${r.baseIndex}${fe()}" class="${"am-c-dropdown__link"}" ><am-icon-text ${"am-icon"}="pencil" ${"am-text"}="${r.text("inPageEdit")}" ></am-icon-text></a>${o}</div></am-dropdown>`},ik=()=>w`<section class="${"am-l-dashboard__section"} ${"am-l-dashboard__section--sticky"}" ><div class="${"am-l-dashboard__content"} ${"am-l-dashboard__content--row"}" ><am-switcher><div class="${"am-c-menu"} ${"am-u-display-small-none"}"><am-switcher-link class="${"am-c-menu__item"}" ${"am-section"}="${"settings"}" > ${r.text("fieldsSettings")}</am-switcher-link><am-switcher-link class="${"am-c-menu__item"}" ${"am-section"}="${"text"}" > ${r.text("fieldsContent")}</am-switcher-link><am-switcher-link class="${"am-c-menu__item"}" ${"am-section"}="${"customizations"}" > ${r.text("fieldsCustomizations")}</am-switcher-link><am-switcher-link class="${"am-c-menu__item"}" ${"am-section"}="${"files"}" > ${r.text("uploadedFiles")} <span class="${"am-e-badge"}"><am-file-count></am-file-count></span></am-switcher-link></div><am-dropdown class="${"am-u-display-small"} ${"am-e-button"}"><span class="${"am-c-icon-text"}"><am-switcher-label></am-switcher-label><span class="${"am-e-dropdown-arrow"}"></span></span><div class="${"am-c-dropdown__items"}"><am-switcher-link class="${"am-c-dropdown__link"}" ${"am-section"}="${"settings"}" > ${r.text("fieldsSettings")}</am-switcher-link><am-switcher-link class="${"am-c-dropdown__link"}" ${"am-section"}="${"text"}" > ${r.text("fieldsContent")}</am-switcher-link><am-switcher-link class="${"am-c-dropdown__link"}" ${"am-section"}="${"customizations"}" > ${r.text("fieldsCustomizations")}</am-switcher-link><am-switcher-link class="${"am-c-dropdown__link"}" ${"am-section"}="${"files"}" > ${r.text("uploadedFiles")}</am-switcher-link></div></am-dropdown></am-switcher><am-filter placeholder="filterContent"></am-filter><am-private-indicator class="${"am-u-display-small-none"}" ></am-private-indicator>${ok()}</div></section>`,aa=class extends ct{get pageTitle(){return fe()}renderMainPartial(){return r.system.i18n&&fe()==="/"?w`${$b()} <section class="${"am-l-dashboard__section"}"><div class="${"am-l-dashboard__content"}"><am-alert ${"am-icon"}="globe" ${"am-text"}="i18nEnabled" ></am-alert><am-link ${"am-target"}="${"system"}?section=${"i18n"}" class="${"am-e-button"}" > ${r.text("systemI18n")}</am-link></div></section>`:w`${$b()}${ik()} <section class="${"am-l-dashboard__section"}"><div class="${"am-l-dashboard__content"}"><am-page-data-form ${"am-api"}="${"PageController::data"}" ></am-page-data-form><am-switcher-section name="${"files"}"><am-upload></am-upload><div class="${"am-u-flex"} ${"am-u-flex--gap"}"><am-modal-toggle class="${"am-e-button"} ${"am-e-button--primary"}" ${"am-modal"}="#am-file-import-modal" > ${r.text("importFromUrl")}</am-modal-toggle><am-dropdown class="${"am-u-display-small"}"><span class="${"am-e-button"} ${"am-e-button--icon"}"><i class="bi bi-three-dots"></i></span><div class="${"am-c-dropdown__items"}"><am-file-collection-move class="${"am-c-dropdown__link"}" ${"am-form"}="${"FileCollectionController::list"}" ><am-icon-text ${"am-icon"}="folder-symlink" ${"am-text"}="${r.text("moveSelection")}" ></am-icon-text></am-file-collection-move><am-file-collection-delete class="${"am-c-dropdown__link"}" ${"am-form"}="${"FileCollectionController::list"}" ><am-icon-text ${"am-icon"}="trash3" ${"am-text"}="${r.text("deleteSelection")}" ></am-icon-text></am-file-collection-delete></div></am-dropdown><am-file-collection-move class="${"am-e-button"} ${"am-u-display-small-none"}" ${"am-form"}="${"FileCollectionController::list"}" > ${r.text("moveSelection")}</am-file-collection-move><am-file-collection-delete class="${"am-e-button"} ${"am-e-button--danger"} ${"am-u-display-small-none"}" ${"am-form"}="${"FileCollectionController::list"}" > ${r.text("deleteSelection")}</am-file-collection-delete></div><am-file-collection-list-form ${"am-api"}="${"FileCollectionController::list"}" ></am-file-collection-list-form></am-switcher-section></div></section>${tk()}${ra()} ${ek()}`}renderPublishForm(){return w`<am-page-publish-form></am-page-publish-form>`}};customElements.define(Be("page"),aa)});var Ib={};ae(Ib,{ResetPasswordComponent:()=>sa});var sa,Db=y(()=>{S();oa();sa=class extends yo{get pageTitle(){return r.text("resetPassword")}renderMainPartial(){return w`<am-reset-password-form ${"am-api"}="${"UserController::resetPassword"}" ></am-reset-password-form>`}};customElements.define(Be("resetpassword"),sa)});var zb={};ae(zb,{SearchComponent:()=>la});var la,Fb=y(()=>{S();oo();la=class extends ct{get pageTitle(){return r.text("searchTitle")}renderMainPartial(){return w`<am-breadcrumbs-route ${"am-target"}="${"search"}" ${"am-text"}="${this.pageTitle}" ${"am-narrow"} ></am-breadcrumbs-route><section class="${"am-l-dashboard__section"}"><div class="${"am-l-dashboard__content"} ${"am-l-dashboard__content--narrow"}" ><am-search-form></am-search-form></div></section>`}};customElements.define(Be("search"),la)});var Ob={};ae(Ob,{SetupComponent:()=>ca});var ca,Nb=y(()=>{S();oa();ca=class extends yo{get pageTitle(){return"Create User"}renderMainPartial(){return w`<am-setup-form ${"am-api"}="${"UserCollectionController::createFirstUser"}" ${"am-focus"} ${"am-enter"} ></am-setup-form>`}};customElements.define(Be("setup"),ca)});var Bb={};ae(Bb,{SharedComponent:()=>da});var ak,da,Rb=y(()=>{S();Xe();oo();rc();ak=()=>w`<section class="${"am-l-dashboard__section"} ${"am-l-dashboard__section--sticky"}" ><div class="${"am-l-dashboard__content"} ${"am-l-dashboard__content--row"}" ><am-switcher><div class="${"am-c-menu"} ${"am-u-display-small-none"}"><am-switcher-link class="${"am-c-menu__item"}" ${"am-section"}="${"settings"}" > ${r.text("fieldsSettings")}</am-switcher-link><am-switcher-link class="${"am-c-menu__item"}" ${"am-section"}="${"text"}" > ${r.text("fieldsContent")}</am-switcher-link><am-switcher-link class="${"am-c-menu__item"}" ${"am-section"}="${"customizations"}" > ${r.text("fieldsCustomizations")}</am-switcher-link><am-switcher-link class="${"am-c-menu__item"}" ${"am-section"}="${"files"}" > ${r.text("uploadedFiles")} <span class="${"am-e-badge"}"><am-file-count></am-file-count></span></am-switcher-link></div><am-dropdown class="${"am-u-display-small"} ${"am-e-button"}"><span class="${"am-c-icon-text"}"><am-switcher-label></am-switcher-label><span class="${"am-e-dropdown-arrow"}"></span></span><div class="${"am-c-dropdown__items"}"><am-switcher-link class="${"am-c-dropdown__link"}" ${"am-section"}="${"settings"}" > ${r.text("fieldsSettings")}</am-switcher-link><am-switcher-link class="${"am-c-dropdown__link"}" ${"am-section"}="${"text"}" > ${r.text("fieldsContent")}</am-switcher-link><am-switcher-link class="${"am-c-dropdown__link"}" ${"am-section"}="${"customizations"}" > ${r.text("fieldsCustomizations")}</am-switcher-link><am-switcher-link class="${"am-c-dropdown__link"}" ${"am-section"}="${"files"}" > ${r.text("uploadedFiles")}</am-switcher-link></div></am-dropdown></am-switcher><am-filter placeholder="filterContent"></am-filter></div></section>`,da=class extends ct{get pageTitle(){return r.text("sharedTitle")}renderMainPartial(){return w`<am-breadcrumbs-route ${"am-target"}="${"shared"}" ${"am-text"}="${this.pageTitle}" ></am-breadcrumbs-route>${ak()} <section class="${"am-l-dashboard__section"}"><div class="${"am-l-dashboard__content"}"><am-shared-data-form ${"am-api"}="${"SharedController::data"}" ></am-shared-data-form><am-switcher-section name="${"files"}"><am-upload></am-upload><div class="${"am-u-flex"} ${"am-u-flex--gap"}"><am-modal-toggle class="${"am-e-button"} ${"am-e-button--primary"}" ${"am-modal"}="#am-file-import-modal" > ${r.text("importFromUrl")}</am-modal-toggle><am-dropdown class="${"am-u-display-small"}"><span class="${"am-e-button"} ${"am-e-button--icon"}"><i class="bi bi-three-dots"></i></span><div class="${"am-c-dropdown__items"}"><am-file-collection-move class="${"am-c-dropdown__link"}" ${"am-form"}="${"FileCollectionController::list"}" ><am-icon-text ${"am-icon"}="folder-symlink" ${"am-text"}="${r.text("moveSelection")}" ></am-icon-text></am-file-collection-move><am-file-collection-delete class="${"am-c-dropdown__link"}" ${"am-form"}="${"FileCollectionController::list"}" ><am-icon-text ${"am-icon"}="trash3" ${"am-text"}="${r.text("deleteSelection")}" ></am-icon-text></am-file-collection-delete></div></am-dropdown><am-file-collection-move class="${"am-e-button"} ${"am-u-display-small-none"}" ${"am-form"}="${"FileCollectionController::list"}" > ${r.text("moveSelection")}</am-file-collection-move><am-file-collection-delete class="${"am-e-button"} ${"am-e-button--danger"} ${"am-u-display-small-none"}" ${"am-form"}="${"FileCollectionController::list"}" > ${r.text("deleteSelection")}</am-file-collection-delete></div><am-file-collection-list-form ${"am-api"}="${"FileCollectionController::list"}" ></am-file-collection-list-form></am-switcher-section></div></section>${ra()}`}renderPublishForm(){return w`<am-shared-publish-form></am-shared-publish-form>`}};customElements.define(Be("shared"),da)});var Pb,Hb=y(()=>{S();Pb=()=>w`<div class="${"am-u-flex"} ${"am-u-flex--column"} ${"am-u-flex--gap-large"}"> ${r.isCloud?"":w` <am-form class="${"am-u-flex"} ${"am-u-flex--column"} ${"am-u-flex--gap-large"}" ${"am-api"}="${"ConfigController::update"}" ${"am-event"}="${"AutomadAppStateRequireUpdate"}" ${"am-auto"} ><input type="hidden" name="type" value="cache" /><div><p>${r.text("systemCacheInfo")}</p><am-cache-enable></am-cache-enable></div><div class="am-cache-settings"><p>${r.text("systemCacheMonitorInfo")}</p><am-cache-monitor></am-cache-monitor><p>${r.text("systemCacheLifetimeInfo")}</p><am-cache-lifetime></am-cache-lifetime></div></am-form>`} <am-form class="am-cache-settings" ${"am-api"}="${"CacheController::clear"}" ><p>${r.text("systemCacheClearInfo")}</p><am-submit class="${"am-e-button"} ${"am-e-button--primary"}"> ${r.text("systemCacheClear")}</am-submit></am-form><am-form class="am-cache-settings" ${"am-api"}="${"CacheController::purge"}" ><p>${r.text("systemCachePurgeInfo")}</p><am-submit class="${"am-e-button"}"> ${r.text("systemCachePurge")}</am-submit></am-form></div>`});var Ub,jb=y(()=>{S();Ub=()=>w`<am-form ${"am-api"}="${"ConfigController::update"}" ${"am-event"}="${"AutomadAppStateRequireUpdate"}" ${"am-auto"} ><input type="hidden" name="type" value="debug" /><div><p>${r.text("systemDebugInfo")}</p><am-debug-enable></am-debug-enable></div></am-form>`});var qb,Gb=y(()=>{S();qb=()=>w`<am-form class="${"am-u-flex"} ${"am-u-flex--column"} ${"am-u-flex--gap-large"}" ${"am-api"}="${"ConfigController::update"}" ${"am-event"}="${"AutomadAppStateRequireUpdate"}" ${"am-auto"} ><input type="hidden" name="type" value="feed" /><div><p>${r.text("systemRssFeedInfo")}</p><am-feed-enable></am-feed-enable></div><div id="am-feed-settings"><p>${r.text("systemRssFeedUrl")}</p><div class="${"am-f-group"}"><input class="${"am-f-input"} ${"am-u-flex__item-grow"} ${"am-f-group__item"}" value="${r.feedURL}" disabled /><am-copy class="${"am-e-button"} ${"am-e-button--icon"} ${"am-f-group__item"}" value="${r.feedURL}" ${"am-tooltip"}="${r.text("copyUrlClipboard")}" ><i class="bi bi-clipboard"></i></am-copy></div><p>${r.text("systemRssFeedFields")}</p><am-feed-fields></am-feed-fields></div></am-form>`});var Vb,Kb=y(()=>{S();Vb=()=>w`<am-form ${"am-api"}="${"ConfigController::update"}" ${"am-event"}="${"AutomadAppStateRequireUpdate"}" ${"am-auto"} ><input type="hidden" name="type" value="i18n" /><div><p>${r.text("systemI18nInfo")}</p><am-i18n-enable></am-i18n-enable></div></am-form>`});var Wb,Xb=y(()=>{S();Wb=()=>w`<am-form ${"am-api"}="${"ConfigController::update"}" ${"am-event"}="${"AutomadAppStateRequireUpdate"}" ${"am-auto"} ><input type="hidden" name="type" value="translation" /><div><p>${r.text("systemLanguageInfo")}</p><am-language-select></am-language-select></div></am-form>`});var Yb,Jb=y(()=>{S();Yb=()=>w`<am-system-update-form ${"am-api"}="${"SystemController::update"}" ></am-system-update-form>`});var Zb,Qb=y(()=>{S();Zb=()=>w`<div class="${"am-u-flex"} ${"am-u-flex--column"} ${"am-u-flex--gap-large"}"><am-form ${"am-api"}="${"UserController::edit"}" ${"am-event"}="${"AutomadAppStateRequireUpdate"}" ${"am-watch"} ><am-form-error></am-form-error><span class="${"am-c-card"}"><span class="${"am-c-card__body"} ${"am-c-card__body--large"}"> ${r.text("systemUsersInfo")}</span><span class="${"am-c-card__form"} ${"am-u-flex"} ${"am-u-flex--column"} ${"am-u-flex--gap-large"}" ><span class="${"am-u-flex"} ${"am-u-flex--column"}"><am-user-name value="${r.user.name}" ></am-user-name><am-user-email value="${r.user.email}" ></am-user-email></span><span class="${"am-c-card__form-buttons"}"><am-submit class="${"am-e-button"}"><span>${r.text("save")}</span></am-submit><am-modal-toggle class="${"am-e-button"} ${"am-e-button--primary"}" ${"am-modal"}="#am-change-password-modal" ><span>${r.text("systemUsersChangePassword")}</span></am-modal-toggle></span></span></span></am-form><span class="${"am-c-card"}"><span class="${"am-c-card__body"} ${"am-c-card__body--large"}"> ${r.text("systemUsersRegisteredInfo")}</span><span class="${"am-c-card__form"}"><span class="${"am-c-card__form-buttons"}"><am-modal-toggle class="${"am-e-button"}" ${"am-modal"}="#am-registered-users-modal" ><span class="${"am-c-icon-text"}"><span class="${"am-u-flex"} ${"am-u-flex--align-center"} ${"am-u-flex--gap"}" ><span>${r.text("systemUsersRegistered")}</span><span class="${"am-e-badge"}"><am-user-count-indicator></am-user-count-indicator></span></span></span></am-modal-toggle></span><span class="${"am-c-card__form-buttons"}"><am-modal-toggle class="${"am-e-button"}" ${"am-modal"}="#am-add-user-modal" ><span>${r.text("systemUsersAdd")}</span></am-modal-toggle><am-modal-toggle class="${"am-e-button"}" ${"am-modal"}="#am-invite-user-modal" ><span>${r.text("systemUsersInvite")}</span></am-modal-toggle></span></span></span></div><!-- Modals --><am-modal id="am-change-password-modal"><am-form class="${"am-c-modal__dialog"}" ${"am-api"}="${"UserController::changePassword"}" ><am-modal-header>${r.text("systemUsersChangePassword")}</am-modal-header><am-modal-body><am-form-error></am-form-error><div>${P("am-password-field",null,{key:"currentPassword",value:"",name:"currentPassword",label:r.text("currentPassword")},[],{}).outerHTML} ${P("am-password-field",null,{key:"newPassword1",value:"",name:"newPassword1",label:r.text("newPassword")},[],{}).outerHTML} ${P("am-password-field",null,{key:"newPassword2",value:"",name:"newPassword2",label:r.text("repeatPassword")},[],{}).outerHTML}</div></am-modal-body><am-modal-footer><am-modal-close class="${"am-e-button"}"> ${r.text("close")}</am-modal-close><am-submit class="${"am-e-button"} ${"am-e-button--primary"}"> ${r.text("save")}</am-submit></am-modal-footer></am-form></am-modal><am-modal id="am-registered-users-modal" nofocus><am-modal-dialog><am-modal-header>${r.text("systemUsersRegistered")}</am-modal-header><am-modal-body><am-delete-users-form ${"am-api"}="${"UserCollectionController::edit"}" ${"am-event"}="${"AutomadAppStateRequireUpdate"}" ${"am-watch"} ></am-delete-users-form></am-modal-body><am-modal-footer><am-modal-close class="${"am-e-button"}"> ${r.text("close")}</am-modal-close><am-submit class="${"am-e-button"} ${"am-e-button--danger"}" ${"am-form"}="${"UserCollectionController::edit"}" disabled > ${r.text("deleteSelection")}</am-submit></am-modal-footer></am-modal-dialog></am-modal><am-modal id="am-add-user-modal"><am-form class="${"am-c-modal__dialog"}" ${"am-api"}="${"UserCollectionController::createUser"}" ${"am-event"}="${"AutomadAppStateRequireUpdate"}" ><am-modal-header>${r.text("systemUsersAdd")}</am-modal-header><am-modal-body><am-form-error></am-form-error><div><am-user-name></am-user-name><am-user-email></am-user-email>${P("am-password-field",null,{key:"password1",id:"am-field__create-password1",value:"",name:"password1",label:r.text("password")},[],{required:""}).outerHTML} ${P("am-password-field",null,{key:"password2",id:"am-field__create-password2",value:"",name:"password2",label:r.text("repeatPassword")},[],{required:""}).outerHTML}</div></am-modal-body><am-modal-footer><am-modal-close class="${"am-e-button"}"> ${r.text("close")}</am-modal-close><am-submit class="${"am-e-button"} ${"am-e-button--primary"}"> ${r.text("systemUsersAdd")}</am-submit></am-modal-footer></am-form></am-modal><am-modal id="am-invite-user-modal"><am-form class="${"am-c-modal__dialog"}" ${"am-api"}="${"UserCollectionController::inviteUser"}" ${"am-event"}="${"AutomadAppStateRequireUpdate"}" ><am-modal-header>${r.text("systemUsersInvite")}</am-modal-header><am-modal-body><am-form-error></am-form-error><div><am-user-name></am-user-name><am-user-email></am-user-email></div></am-modal-body><am-modal-footer><am-modal-close class="${"am-e-button"}"> ${r.text("close")}</am-modal-close><am-submit class="${"am-e-button"} ${"am-e-button--primary"}"> ${r.text("systemUsersSendInvitation")}</am-submit></am-modal-footer></am-form></am-modal>`});var eg,tg=y(()=>{S();eg=()=>`<p>${r.text("systemMailInfo")}</p><div class="am-u-flex am-u-flex--column am-u-flex--gap-large"><am-mail-config-form am-api="MailConfigController::save" am-event="AutomadAppStateRequireUpdate" ></am-mail-config-form><am-form am-api=MailConfigController::test><am-submit class="am-e-button"> ${r.text("systemMailSendTest")}</am-submit></am-form></div>`});var og={};ae(og,{SystemComponent:()=>pa});var sk,pa,ig=y(()=>{S();Xe();Hb();jb();Gb();Kb();Xb();Jb();Qb();tg();oo();sk=()=>{let o=r.isCloud?[]:[{section:"mail",icon:"envelope-at",title:r.text("systemMail"),info:r.text("systemMailCardInfo"),state:"<am-system-mail-indicator></am-system-mail-indicator>",render:eg,narrowIcon:!1}],e=r.isCloud?[]:[{section:"debug",icon:"bug",title:r.text("systemDebug"),info:r.text("systemDebugCardInfo"),state:"<am-system-debug-indicator></am-system-debug-indicator>",render:Ub}];return[{section:"cache",icon:"device-ssd",title:r.text("systemCache"),info:r.text("systemCacheCardInfo"),state:"<am-system-cache-indicator></am-system-cache-indicator>",render:Pb,narrowIcon:!0},{section:"users",icon:"person-badge",title:r.text("systemUsers"),info:r.text("systemUsersCardInfo"),state:w`<span class="${"am-u-text-muted"}"> ${r.text("systemUsersRegistered")}: <am-user-count-indicator></am-user-count-indicator></span>`,render:Zb,narrowIcon:!0},{section:"feed",icon:"rss",title:r.text("systemRssFeed"),info:r.text("systemRssFeedCardInfo"),state:"<am-system-feed-indicator></am-system-feed-indicator>",render:qb},...o,{section:"i18n",icon:"globe",title:r.text("systemI18n"),info:r.text("systemI18nCardInfo"),state:"<am-system-i18n-indicator></am-system-i18n-indicator>",render:Vb},{section:"language",icon:"translate",title:r.text("systemLanguage"),info:r.text("systemLanguageCardInfo"),state:w`<span class="${"am-u-text-muted"}"> ${Object.keys(r.languages).find(t=>r.languages[t]==r.system.translation)}</span>`,render:Wb},...e,{section:"update",icon:"arrow-repeat",title:r.text("systemUpdate"),info:r.text("systemUpdateCardInfo"),state:"<am-system-update-indicator></am-system-update-indicator>",render:Yb}]},pa=class extends ct{sectionData=null;get pageTitle(){return r.text("systemTitle")}get menuData(){let e=[];return this.sectionData.forEach(t=>{e.push({title:t.title,section:t.section})}),{overview:{icon:"grid",section:"overview"},items:e}}renderMainPartial(){let e=p("am-switcher-dropdown",[],{"am-narrow":""});return this.sectionData=sk(),e.data=this.menuData,w`<am-breadcrumbs-route ${"am-target"}="${"system"}" ${"am-text"}="${this.pageTitle}" ${"am-narrow"} ></am-breadcrumbs-route>${e.outerHTML} <section class="${"am-l-dashboard__section"}"><div class="${"am-l-dashboard__content"} ${"am-l-dashboard__content--narrow"}" > ${this.renderSections()}${this.renderOverviewSection()}</div></section>`}renderSections(){let e="";return this.sectionData.forEach(t=>{e+=w`<am-switcher-section name="${t.section}"> ${t.render()}</am-switcher-section>`}),e}renderOverviewSection(){return w`<am-switcher-section name="${"overview"}"><div class="${"am-l-grid"}" style="--min: 17rem;"> ${this.renderOverviewCards(this.sectionData.slice(0,2))}</div><div class="${"am-l-grid"}" style="--min: ${r.isCloud?"17":"13"}rem;" > ${this.renderOverviewCards(this.sectionData.slice(2,8))}</div></am-switcher-section>`}renderOverviewCards(e){let t="";return e.forEach(i=>{t+=w`<am-switcher-link class="${"am-c-card"} ${"am-c-card--hover"}" ${"am-section"}="${i.section}" ><div class="${"am-u-flex__item-grow"}"><span class="${"am-c-card__icon"} ${"am-u-display-small-none"} ${i.narrowIcon?"am-c-card__icon--narrow":""}" ><i class="bi bi-${i.icon}"></i></span><div class="${"am-c-card__title"}">${i.title}</div><div class="${"am-c-card__body"}">${i.info}</div></div>${i.state?`<div class="am-c-card__state">${i.state}</div>`:""}</am-switcher-link>`}),t}};customElements.define(Be("system"),pa)});var ng={};ae(ng,{TrashComponent:()=>ua});var ua,rg=y(()=>{S();oo();ua=class extends ct{get pageTitle(){return r.text("trashTitle")}renderMainPartial(){return w`<am-breadcrumbs-route ${"am-target"}="${"trash"}" ${"am-text"}="${this.pageTitle}" ${"am-narrow"} ></am-breadcrumbs-route><section class="${"am-l-dashboard__section"} ${"am-l-dashboard__section--sticky"}" ><div class="${"am-l-dashboard__content"} ${"am-l-dashboard__content--narrow"} ${"am-l-dashboard__content--row"} ${"am-u-flex--gap"}" ><am-filter placeholder="trashFilter"></am-filter><am-form ${"am-api"}="${"PageTrashController::clear"}" ${"am-confirm"}="${r.text("trashClearConfirm")}" ><am-submit class="${"am-e-button"} ${"am-e-button--danger"}"> ${r.text("trashClear")}</am-submit></am-form></div></section><section class="${"am-l-dashboard__section"}"><div class="${"am-l-dashboard__content"} ${"am-l-dashboard__content--narrow"}" ><am-trash-form></am-trash-form></div></section>`}};customElements.define(Be("trash"),ua)});var ag={};ae(ag,{SidebarComponent:()=>wo});var wo,fa=y(()=>{S();Y();wo=class o extends F{static open=!1;static toggle(e){let t=e??!o.open;document.body.classList.toggle("am-body-sidebar-open",t),document.body.classList.toggle("am-u-overflow-hidden",t),o.open=t}connectedCallback(){this.setHeight(),setTimeout(this.setHeight.bind(this),0),this.listen(window,"resize",ke(this.setHeight.bind(this),200))}setHeight(){this.style.setProperty("height",`${window.innerHeight}px`)}};customElements.define("am-sidebar",wo)});var lk={};var ac,sg=y(()=>{Y();fa();ac=class extends F{connectedCallback(){this.listen(this,"click",()=>{wo.toggle()})}};customElements.define("am-sidebar-toggle",ac)});var lg={};ae(lg,{SwitcherLinkComponent:()=>io});var io,ha=y(()=>{Y();S();bi();io=class extends F{static TAG_NAME="am-switcher-link";static get observedAttributes(){return["am-section"]}connectedCallback(){this.listen(window,"AutomadSwitcherChange",this.toggle.bind(this)),this.listen(this,"click",this.select.bind(this))}toggle(){this.classList.toggle("am-active",this.elementAttributes["am-section"]==Xt())}select(){r.navigationIsLocked||ba(this.elementAttributes["am-section"])}};customElements.define(io.TAG_NAME,io)});var cg={};ae(cg,{SwitcherComponent:()=>ga,getActiveSection:()=>Xt,setActiveSection:()=>ba});var Xt,ba,ga,bi=y(()=>{Y();S();ha();Xt=()=>Ct("section"),ba=o=>{wi("section",o),X("AutomadSwitcherChange")},ga=class extends F{connectedCallback(){setTimeout(()=>{this.onChange(),window.dispatchEvent(new Event("AutomadSwitcherChange"))},0),this.listen(window,"AutomadSwitcherChange",this.onChange.bind(this))}onChange(){let e=Xt(),t=[];re(io.TAG_NAME,this).forEach(i=>{t.push(i.getAttribute("am-section"))}),t.indexOf(e)==-1&&ba(t[0]),R("html").scrollTop=0,lt.new()}};customElements.define("am-switcher",ga)});var ck={};var sc,dg=y(()=>{S();Y();bi();Xe();sc=class extends F{set data(e){this.init(e)}connectedCallback(){this.classList.add("am-l-dashboard__section","am-l-dashboard__section--sticky");let e=()=>{this.classList.toggle("am-u-display-none",Xt()=="overview")};this.listen(window,"AutomadSwitcherChange",e.bind(this)),e()}init(e){let t=p("div",["am-l-dashboard__content","am-l-dashboard__content--row",...this.hasAttribute("am-narrow")?["am-l-dashboard__content--narrow"]:[]],{},this),i=p("am-switcher",["am-f-group","am-u-flex__item-grow"],{},t),n=p("am-switcher-link",["am-f-group__item","am-e-button","am-e-button--icon"],{"am-section":e.overview.section},i);n.innerHTML=`<i class="bi bi-${e.overview.icon}"></i>`;let a=p("am-dropdown",["am-u-flex__item-grow","am-u-flex"],{},i);p("am-switcher-label",["am-f-group__item","am-u-flex__item-grow","am-f-group__item","am-f-select"],{},a);let l=p("div",["am-c-dropdown__items"],{},a);e.items.forEach(d=>{l.innerHTML+=w`<am-switcher-link class="${"am-c-dropdown__link"}" ${"am-section"}="${d.section}" > ${d.title}</am-switcher-link>`})}};customElements.define("am-switcher-dropdown",sc)});var mg={};ae(mg,{SwitcherLabelComponent:()=>va});var va,pg=y(()=>{Y();S();bi();ha();va=class extends F{connectedCallback(){let e=".am-c-dropdown__items",t=".am-c-menu",i=()=>`${io.TAG_NAME}[am-section="${Xt()}"]`;this.listen(window,"AutomadSwitcherChange",()=>{this.innerHTML=(R(`${e} ${i()}`)||R(`${t} ${i()}`)||R(i())).innerHTML})}};customElements.define("am-switcher-label",va)});var ug={};ae(ug,{SwitcherSectionComponent:()=>xa});var xa,fg=y(()=>{Y();S();bi();xa=class extends F{static get observedAttributes(){return["name"]}connectedCallback(){this.classList.add("am-c-switcher-section"),this.toggle(),this.listen(window,"AutomadSwitcherChange",this.toggle.bind(this))}toggle(){this.classList.toggle("am-c-switcher-section--active",this.elementAttributes.name==Xt()),R("html").scrollTop=0}};customElements.define("am-switcher-section",xa)});var dk={};var lc,hg=y(()=>{S();Y();lc=class extends F{connectedCallback(){let e=new ve("cacheEnabled",{initial:r.system.cache.enabled});this.listen(window,"AutomadAppStateChange",()=>{e.value=r.system.cache.enabled}),P("am-toggle-large-field",this,{key:"cacheEnabled",value:r.system.cache.enabled,name:"cacheEnabled",label:r.text("systemCacheEnable")},[],{"am-toggle":".am-cache-settings","am-bind":"cacheEnabled","am-bind-to":"checked"})}};customElements.define("am-cache-enable",lc)});var mk={};var cc,bg=y(()=>{S();Y();cc=class extends F{connectedCallback(){let e=new ve("cacheLifetime",{initial:r.system.cache.lifetime});this.listen(window,"AutomadAppStateChange",()=>{e.value=r.system.cache.lifetime}),be([{value:3600,text:"1 h"},{value:21600,text:"6 h"},{value:43200,text:"12 h"},{value:86400,text:"24 h"}],`${r.system.cache.lifetime}`,this,"cacheLifetime","",r.text("systemCacheLifetime"),["am-f-select--inline"],{"am-bind":"cacheLifetime","am-bind-to":"value"})}};customElements.define("am-cache-lifetime",cc)});var pk={};var dc,gg=y(()=>{S();Y();dc=class extends F{connectedCallback(){let e=new ve("cacheMonitorDelay",{initial:r.system.cache.monitorDelay});this.listen(window,"AutomadAppStateChange",()=>{e.value=r.system.cache.monitorDelay}),be([{value:60,text:"1 min"},{value:120,text:"2 min"},{value:300,text:"5 min"},{value:600,text:"10 min"}],`${r.system.cache.monitorDelay}`,this,"cacheMonitorDelay","",r.text("systemCacheMonitor"),["am-f-select--inline"],{"am-bind":"cacheMonitorDelay","am-bind-to":"value"})}};customElements.define("am-cache-monitor",dc)});var uk={};var mc,vg=y(()=>{S();Y();mc=class extends F{connectedCallback(){let e=new ve("debugEnabled",{initial:r.system.debug});this.listen(window,"AutomadAppStateChange",()=>{e.value=r.system.debug}),P("am-toggle-large-field",this,{key:"debugEnabled",value:r.system.debug,name:"debugEnabled",label:r.text("systemDebugEnable")},[],{"am-bind":"debugEnabled","am-bind-to":"checked"})}};customElements.define("am-debug-enable",mc)});var fk={};var pc,xg=y(()=>{S();Y();pc=class extends F{connectedCallback(){let e=new ve("feedEnabled",{initial:r.system.feed.enabled});this.listen(window,"AutomadAppStateChange",()=>{e.value=r.system.feed.enabled}),P("am-toggle-large-field",this,{key:"feedEnabled",value:r.system.feed.enabled,name:"feedEnabled",label:r.text("systemRssFeedEnable")},[],{"am-bind":"feedEnabled","am-bind-to":"checked","am-toggle":"#am-feed-settings"})}};customElements.define("am-feed-enable",pc)});var hk={};var uc,yg=y(()=>{S();Y();uc=class extends F{connectedCallback(){let e=new ve("feedFields",{initial:JSON.stringify(r.system.feed.fields)});this.listen(window,"AutomadAppStateChange",()=>{e.value=JSON.stringify(r.system.feed.fields)}),P("am-feed-field-select-field",this,{key:"feedFields",value:JSON.stringify(r.system.feed.fields),name:"feedFields"},[],{"am-bind":"feedFields","am-bind-to":"value"})}};customElements.define("am-feed-fields",uc)});var bk={};var fc,wg=y(()=>{S();Y();fc=class extends F{connectedCallback(){let e=new ve("i18nEnabled",{initial:r.system.i18n});this.listen(window,"AutomadAppStateChange",()=>{e.value=r.system.i18n}),P("am-toggle-large-field",this,{key:"i18nEnabled",value:r.system.i18n,name:"i18nEnabled",label:r.text("systemI18nEnable")},[],{"am-bind":"i18nEnabled","am-bind-to":"checked"})}};customElements.define("am-i18n-enable",fc)});var gk={};var hc,kg=y(()=>{S();Y();hc=class extends F{connectedCallback(){let e=[];for(let[t,i]of Object.entries(r.languages))e.push({text:t,value:i});be(e,r.system.translation,this,"translation","","",["am-f-select--inline"])}};customElements.define("am-language-select",hc)});var vk={};var bc,Tg=y(()=>{S();Y();bc=class extends F{connectedCallback(){this.classList.add("am-c-field"),P("am-email-field",this,{id:Z(),key:"email",value:this.getAttribute("value")??"",name:"email",label:r.text("email")},[],{"am-error":r.text("emailRequiredError"),required:""})}};customElements.define("am-user-email",bc)});var xk={};var gc,_g=y(()=>{S();Y();gc=class extends F{connectedCallback(){this.classList.add("am-c-field"),P("am-input-field",this,{id:Z(),key:"username",value:this.getAttribute("value")??"",name:"username",label:r.text("username")},[],{pattern:"^[a-z0-9]([a-z0-9_]|-)+[a-z0-9]$",required:"","am-error":r.text("invalidUsernameError")})}};customElements.define("am-user-name",gc)});var yk={};var vc,Eg=y(()=>{S();Y();vc=class extends F{static get observedAttributes(){return["am-icon","am-text"]}connectedCallback(){let e=this.elementAttributes["am-icon"],t=this.elementAttributes["am-text"];this.classList.add("am-c-alert"),this.innerHTML=w`<div class="${"am-c-alert__icon"}"><i class="bi bi-${e||"fire"}"></i></div><div class="${"am-c-alert__text"}">${r.text(t)||t}</div>`}};customElements.define("am-alert",vc)});var Cg={};ae(Cg,{AutocompleteUrlComponent:()=>ya});var wk,ya,Ag=y(()=>{S();Qr();wk=()=>{let o=[],e=Object.values(r.pages);return e.sort((t,i)=>t.lastModified<i.lastModified?1:i.lastModified<t.lastModified?-1:0),e.forEach(t=>{o.push({value:t.url,title:t.title})}),o},ya=class extends vo{get data(){return wk()}createItemElement(e){return p("a",[this.linkClass],{},null,w`<am-icon-text ${"am-icon"}="link" ${"am-text"}="$${e.title}" ></am-icon-text>`)}};customElements.define("am-autocomplete-url",ya)});var kk={};var xc,Sg=y(()=>{S();Y();xc=class extends F{connectedCallback(){this.render(),this.removeAttribute("name"),this.removeAttribute("checkbox");let e=()=>{this.closest(".am-c-card").classList.toggle("am-c-card--active",R("input",this).checked)};this.listen(this,"input",e,"input"),e()}render(){this.classList.add("am-f-checkbox"),p("label",[],{},this,w`<input type="checkbox" name="${this.getAttribute("name")}" ${this.hasAttribute("checked")?"checked":""} ${this.hasAttribute("value")?`value="${this.getAttribute("value")}"`:""} /><i class="bi"></i>`),this.removeAttribute("checked"),this.removeAttribute("name"),this.removeAttribute("value")}};customElements.define("am-checkbox",xc)});var Tk={};var yc,$g=y(()=>{S();Y();yc=class extends F{static get observedAttributes(){return["value"]}connectedCallback(){this.listen(this,"click",async()=>{await navigator.clipboard.writeText(this.elementAttributes.value),gt(this.elementAttributes.value)})}};customElements.define("am-copy",yc)});var Mg={};ae(Mg,{CustomIconCheckboxComponent:()=>wa});var wa,Lg=y(()=>{S();Y();wa=class extends F{get checked(){return R("input",this).checked}connectedCallback(){this.classList.add("am-f-custom-icon-checkbox"),p("label",[],{},this,w`<input type="checkbox" name="${this.getAttribute("name")}" value="1" ${this.hasAttribute("checked")?"checked":""} /><span><i class="bi bi-${this.getAttribute("am-icon")}"></i></span>`),this.removeAttribute("am-icon"),this.removeAttribute("name"),this.removeAttribute("checked")}};customElements.define("am-custom-icon-checkbox",wa)});var _k={};var wc,Ig=y(()=>{S();Is();Y();wc=class extends F{connectedCallback(){this.classList.add("am-c-dashboard-theme-toggle"),this.render(),this.listen(window,"AutomadDashboardThemeChange",this.render.bind(this))}render(){document.documentElement.classList.add("am-u-no-transition"),this.innerHTML="",this.renderThemeToggle("light","sun-fill"),this.renderThemeToggle("dark","moon-stars"),this.renderThemeToggle("low-contrast","shadows"),setTimeout(()=>{document.documentElement.classList.remove("am-u-no-transition")},800)}renderThemeToggle=(e,t)=>{let i=["am-c-dashboard-theme-toggle__button"];e==li()&&i.push("am-c-dashboard-theme-toggle__button--active");let n=`${zt(e.replace("-"," "))} Theme`,a=p("span",i,{...this.hasAttribute("am-no-tooltip")?{}:{"am-tooltip":n}},this);a.innerHTML=w`<i class="bi bi-${t}"></i>`,this.listen(a,"click",()=>{setTimeout(()=>{Gu(e),this.render()},400)})}};customElements.define("am-dashboard-theme-toggle",wc)});var Ek={};var ka,Dg=y(()=>{S();Y();ka=class o extends F{static TAG_NAME="am-dropdown";connectedCallback(){this.classList.add("am-c-dropdown"),this.classList.toggle("am-c-dropdown--right",this.hasAttribute("am-right")),this.listen(window,"click",e=>{e.target===this||Yi(o.TAG_NAME,e.target).includes(this)?this.classList.toggle("am-c-dropdown--open"):this.classList.remove("am-c-dropdown--open")})}};customElements.define(ka.TAG_NAME,ka)});var Ak={};var Ck,kc,zg=y(()=>{Y();S();Ck={twitter:{cls:["twitter-tweet","tw-align-center"],script:"https://platform.twitter.com/widgets.js",getId:o=>`https://platform.twitter.com/embed/Tweet.html?id=${o.split(/\//).pop()}`},imgur:{cls:["imgur-embed-pub"],script:"https://s.imgur.com/min/embed.js",getId:o=>o.replace(/^.+\/imgur.com\//,"")}},kc=class extends F{get type(){return this.getAttribute("type")}get src(){return this.getAttribute("src")}connectedCallback(){let e=Ck[this.type];e&&(this.classList.add("am-u-flex","am-u-flex--center"),this.innerHTML="",p("blockquote",e.cls,{"data-id":e.getId(this.src)},this,w`<a href="${this.src}"></a>`),setTimeout(()=>{p("script",[],{src:e.script,async:"",charset:"utf-8"},this)},500))}};customElements.define("am-embed-service",kc)});var Sk={};var Tc,Fg=y(()=>{S();Y();Tc=class extends F{static get observedAttributes(){return["placeholder"]}get targetSelector(){return this.getAttribute("am-target")||"section [am-api] .am-c-field:not(am-title-field):not(.am-c-card .am-c-field, .am-c-modal-field .am-c-field), .am-c-modal-field, .am-c-card, .am-c-alert, .am-l-grid, hr, p"}connectedCallback(){let e=this.render();this.classList.add("am-c-filter"),this.listen(e,"input",ke(()=>{this.filter(e)},200)),this.listen(window,"AutomadSwitcherChange",()=>{e.value="",this.filter(e)}),this.listen(window,"AutomadFileCollectionRender AutomadFilesChangeOnServer AutomadPackagesRender",()=>{this.filter(e)}),this.addListener(Fo("k",()=>{e.focus()})),this.listen(e,"keydown",t=>{t.keyCode==27&&e.blur()})}filter(e){let t=e.value.toLowerCase().split(" ");re(this.targetSelector).forEach(n=>{for(var a=!1,l=0;l<t.length;l++)if(n.textContent.toLowerCase().indexOf(t[l])==-1){a=!0;break}n.classList.toggle("am-u-display-none",a)})}render(){let e=r.text(this.elementAttributes.placeholder),t=p("input",["am-c-filter__input","am-f-input"],{placeholder:e},this),i=p("span",["am-c-filter__key-combo"],{},this);return p("am-key-combo-badge",[],{"am-key":"K"},i),t}};customElements.define("am-filter",Tc)});var $k={};var _c,Og=y(()=>{S();Y();_c=class extends F{connectedCallback(){let e=this.getAttribute("am-icon"),t=this.getAttribute("am-text");this.removeAttribute("am-icon"),this.removeAttribute("am-text"),e&&t&&(this.classList.add("am-c-icon-text"),p("i",["bi",`bi-${e}`],{},this),p("span",[],{},this).textContent=t)}};customElements.define("am-icon-text",_c)});var Mk={};var Ec,Ng=y(()=>{S();Y();Ec=class extends F{binding=null;wrapper;static get observedAttributes(){return["am-page","am-label","am-binding-name"]}connectedCallback(){this.binding=Re.get(this.elementAttributes["am-binding-name"]),this.init(),this.listen(window,"AutomadFilesChangeOnServer",this.init.bind(this))}async init(){this.classList.add("am-c-field"),this.elementAttributes["am-label"]&&(p("label",["am-c-field__label"],{},this).textContent=this.elementAttributes["am-label"],this.removeAttribute("am-label")),this.wrapper=this.wrapper??p("div",[],{},this,"<am-spinner></am-spinner>");let{data:e}=await ue("ImageCollectionController::list",{url:this.elementAttributes["am-page"]||""});this.wrapper.innerHTML="";let{images:t}=e;if(!t.length){this.wrapper.innerHTML=w`<am-icon-text ${"am-icon"}="folder-x" ${"am-text"}="${r.text("noImagesFound")}" ></am-icon-text>`;return}this.renderGrid(t,this.wrapper)}renderGrid(e,t){let i=p("div",["am-c-image-picker"],{},t),n=this.elementAttributes["am-page"]?"":"/shared/",a=this.closest("am-modal")||null;e.forEach(l=>{let d=p("img",["am-c-image-picker__image"],{src:l.thumbnail,value:`${n}${l.name}`,"am-tooltip":l.name},i);this.listen(d,"click",()=>{this.binding.value=d.getAttribute("value"),a&&a.close()})})}};customElements.define("am-image-picker",Ec)});var Lk={};var Cc,Bg=y(()=>{S();Y();Cc=class extends F{static get observedAttributes(){return["am-key"]}connectedCallback(){this.classList.add("am-e-key-combo");let e=$r();this.textContent=`${e} + ${this.elementAttributes["am-key"]}`,this.removeAttribute("am-key")}};customElements.define("am-key-combo-badge",Cc)});var Ik={};var Ac,Rg=y(()=>{S();Y();Ac=class extends F{static get observedAttributes(){return["am-target","am-external"]}connectedCallback(){this.listen(this,"click",e=>{if(this.elementAttributes["am-external"]){window.location.href=this.elementAttributes["am-external"];return}if(r.navigationIsLocked)return;let t=`${window.location.origin}${r.dashboardURL}/`,i=new URL(this.elementAttributes["am-target"],t);e.stopImmediatePropagation(),r.root.setView(i)})}};customElements.define("am-link",Ac)});var Hg,Pg=y(()=>{Hg=`<svg
version="1.1"
xmlns="http://www.w3.org/2000/svg"
xmlns:xlink="http://www.w3.org/1999/xlink"
x="0px"
y="0px"
width="994px"
height="1170px"
viewBox="0 0 994 1170"
style="enable-background:new 0 0 994 1170;"
preserveAspectRatio="xMinYMin meet"
xml:space="preserve"
fill="currentColor"
>
	<path d="M626.1,345.8L60.7,567.5l-57.4-143L269.6,4.7H724l266.7,419.8l-78.5,195.4L626.1,345.8z M876.2,452.9l7.4-18.5
		l-96.4-151.8l-62.9,24.7L876.2,452.9z M114.1,443.7l620.8-243.4l-63.4-99.9H322.2L110.4,434.4L114.1,443.7z"/>
	<path d="M300.7,1165.3l-48.3-120.2l-224.6,62.6l-25.7-92.2l307.2-85.6l56.1,139.7h262.8l56.2-139.7l307.4,85.6
		l-25.7,92.2l-224.9-62.6l-48.3,120.2H300.7z"/>
</svg>
`});var zk={};var Sc,Ug=y(()=>{Y();Pg();Sc=class extends F{connectedCallback(){this.innerHTML=Hg}};customElements.define("am-logo",Sc)});var Fk={};var $c,jg=y(()=>{S();Y();$c=class extends F{connectedCallback(){zi(li());let e=this.getAttribute("base-index");this.setAttribute("hidden",""),setTimeout(()=>{let t=this.innerHTML;this.innerHTML=w`<div class="${"am-l-centered"}"><div class="${"am-l-centered__navbar"}"><nav class="${"am-c-navbar"}"><a href="${e||"/"}" class="${"am-c-navbar__item"}" ><am-logo></am-logo></a><a href="${e||"/"}" class="${"am-c-navbar__item"}" ><i class="bi bi-x"></i></a></nav></div><div class="${"am-l-centered__main"}"><div class="${"am-l-centered__content"}"><div class="${"am-c-card"}"><div class="${"am-c-card__icon"}"><i class="bi bi-cup-hot-fill"></i></div><div class="${"am-c-card__body"} ${"am-c-card__body--large"}" > ${t}</div></div></div></div></div>`,this.removeAttribute("hidden")},0),setInterval(()=>{window.location.reload()},1e4)}};customElements.define("am-maintenance",$c)});var Ok={};var Mc,qg=y(()=>{Y();S();Lt();Mc=class extends F{connectedCallback(){if(r.user.email)return;let t=`missing-email-notified-${r.user.name.replace(/[^\w\-\_]+/g,"-").toLowerCase()}`;if(localStorage.getItem(t))return;let i=p(ze.TAG_NAME,[],{"am-no-esc":"","am-no-click":"","am-destroy":""},xt(),w`<am-modal-dialog><am-modal-header>${r.text("missingEmailAlertTitle")}</am-modal-header><am-modal-body>${r.text("missingEmailAlertBody")}</am-modal-body><am-modal-footer><am-modal-close class="${"am-e-button"}"> ${r.text("missingEmailAlertIgnore")}</am-modal-close><a class="${"am-e-button"} ${"am-e-button--primary"}" href="${r.dashboardURL}/${"system"}?section=${"users"}" > ${r.text("missingEmailAlertOpenSettings")}</a></am-modal-footer></am-modal-dialog>`);this.listen(R("am-modal-footer am-modal-close",i),"click",()=>{localStorage.setItem(t,"ignore")}),i.open()}};customElements.define("am-missing-email-alert",Mc)});var Nk={};var Lc,Gg=y(()=>{S();Y();Lc=class o extends F{static get observedAttributes(){return["am-page","am-icon","am-text","am-badge"]}connectedCallback(){this.classList.add("am-c-nav__item"),this.classList.toggle("am-c-nav__item--active",Qu(this.elementAttributes["am-page"])),this.innerHTML=this.render(),o.observedAttributes.forEach(e=>{this.removeAttribute(e)})}render(){let e=this.elementAttributes["am-badge"],t=this.elementAttributes["am-icon"],i=this.elementAttributes["am-page"],n=this.elementAttributes["am-text"];return w`<am-link ${"am-target"}="${i}" class="${"am-c-nav__link"}"><span class="${"am-c-icon-text"}"><i class="bi bi-${t}"></i><span>${r.text(n)}</span>${e?`<${e}></${e}>`:""}</span></am-link>`}};customElements.define("am-nav-item",Lc)});var Dc=no((Ta,Ic)=>{/*! Sortable Tree 0.7.4, (c) 2025 Marc Anton Dahmen, MIT license */(function(o,e){typeof Ta=="object"&&typeof Ic=="object"?Ic.exports=e():typeof define=="function"&&define.amd?define([],e):typeof Ta=="object"?Ta.SortableTree=e():o.SortableTree=e()})(self,(()=>(()=>{"use strict";var o={d:(g,E)=>{for(var s in E)o.o(E,s)&&!o.o(g,s)&&Object.defineProperty(g,s,{enumerable:!0,get:E[s]})},o:(g,E)=>Object.prototype.hasOwnProperty.call(g,E)},e={};o.d(e,{default:()=>O});var t=function(g,E,s,c){return new(s||(s=Promise))((function(u,h){function k(D){try{M(c.next(D))}catch(q){h(q)}}function $(D){try{M(c.throw(D))}catch(q){h(q)}}function M(D){var q;D.done?u(D.value):(q=D.value,q instanceof s?q:new s((function(W){W(q)}))).then(k,$)}M((c=c.apply(g,E||[])).next())}))};let i=g=>`<span>${g.title}</span>`,n={collapsed:`
		<svg
		xmlns="http://www.w3.org/2000/svg" 
		width="1em" 
		height="1em" 
		fill="currentColor" 
		class="bi bi-caret-right-fill" 
		viewBox="0 0 16 16">
			<path d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"/>
		</svg>`,open:`
		<svg 
		xmlns="http://www.w3.org/2000/svg" 
		width="1em" 
		height="1em" 
		fill="currentColor" 
		class="bi bi-caret-down-fill" 
		viewBox="0 0 16 16">
			<path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
		</svg>
	`},a={tree:"tree",node:"tree__node",nodeHover:"tree__node--hover",nodeDragging:"tree__node--dragging",nodeDropBefore:"tree__node--drop-before",nodeDropInside:"tree__node--drop-inside",nodeDropAfter:"tree__node--drop-after",label:"tree__label",subnodes:"tree__subnodes",collapse:"tree__collapse"},l=({nodes:g,movedNode:E,srcParentNode:s,targetParentNode:c})=>t(void 0,void 0,void 0,(function*(){})),d=(g,E)=>t(void 0,void 0,void 0,(function*(){})),m=(g,E)=>t(void 0,void 0,void 0,(function*(){return!0})),f=(g,E=[],s=null)=>{let c=document.createElement(g);return E.forEach((u=>{c.classList.add(u)})),s&&s.appendChild(c),c},v=()=>((g=21)=>crypto.getRandomValues(new Uint8Array(g)).reduce(((E,s)=>E+((s&=63)<36?s.toString(36):s<62?(s-26).toString(36).toUpperCase():s>62?"-":"_")),""))();class b extends HTMLElement{static create({data:E,renderLabel:s,icons:c,styles:u,parent:h,onClick:k,draggable:$,eventBus:M}){let D=f(b.TAG_NAME,[u.node],h),q=f("div",[u.label],D),W=f("div",[u.subnodes],D),se=f("span",[u.collapse],D);return q.innerHTML=s(E),se.innerHTML=c.collapsed,M.listen(se,"click",D.toggle.bind(D)),M.listen(q,"click",(le=>{k(le,D)})),$&&D.setAttribute("draggable","true"),D._data=E,D._icons=c,D._label=q,D._nodes=W,D._collapseButton=se,D}get data(){return this._data}get label(){return this._label}get subnodes(){return this._nodes}get subnodesData(){let E=[];return Array.from(this._nodes.children).forEach((s=>{E.push(s.data)})),E}get id(){return this._id}constructor(){super(),this._id=v()}collapse(E){E?(this.removeAttribute("open"),this._collapseButton.innerHTML=this._icons.collapsed):(this.setAttribute("open","true"),this._collapseButton.innerHTML=this._icons.open)}toggle(){this.collapse(this.hasAttribute("open"))}reveal(){((E,s)=>{let c=[],u=s.closest(E);for(;u!==null;)c.push(u),u=u.parentNode.closest(E);return c})(b.TAG_NAME,this).forEach((E=>{E.collapse(!1)}))}}b.TAG_NAME="sortable-tree-node";var C=function(g,E,s,c){return new(s||(s=Promise))((function(u,h){function k(D){try{M(c.next(D))}catch(q){h(q)}}function $(D){try{M(c.throw(D))}catch(q){h(q)}}function M(D){var q;D.done?u(D.value):(q=D.value,q instanceof s?q:new s((function(W){W(q)}))).then(k,$)}M((c=c.apply(g,E||[])).next())}))},A;(function(g){g.BEFORE="BEFORE",g.INSIDE="INSIDE",g.AFTER="AFTER"})(A||(A={}));let T=g=>{let E=g.clientY,s=x(g).label.getBoundingClientRect(),c=Math.round(s.height/4);return s.top+c>E?A.BEFORE:s.bottom-c<E?A.AFTER:A.INSIDE},x=g=>g.target.closest(b.TAG_NAME),_=g=>{let E=g?.parentElement.parentElement;return E?.tagName.toLowerCase()!==b.TAG_NAME?null:E},L=(g,E)=>{x(g).classList.remove(E.styles.nodeDropAfter,E.styles.nodeDropBefore,E.styles.nodeDropInside)},I=(g,E)=>{g.stopPropagation();let s=g.target;s.tagName.toLowerCase()===b.TAG_NAME&&(g.dataTransfer.setData("text",s.id),g.dataTransfer.effectAllowed="move",s.classList.add(E.styles.nodeDragging))},H=(g,E)=>C(void 0,void 0,void 0,(function*(){g.stopPropagation(),g.preventDefault(),L(g,E);let s=x(g);if(!s)return!1;let c=_(s),u=g.dataTransfer.getData("text"),h=T(g),k=E.getNode(u);if(!k||k?.contains(s))return!1;let $=_(k);if(E.lockRootLevel&&!s?.parentElement.closest(b.TAG_NAME)&&(h===A.BEFORE||h===A.AFTER))return!1;if(h===A.BEFORE)return!!(yield E.confirm(k,c))&&(s.parentNode.insertBefore(k,s),E.onDrop(k,$,c),!1);if(h===A.AFTER){if(!(yield E.confirm(k,c)))return!1;let M=s.nextElementSibling;return M?(s.parentNode.insertBefore(k,M),E.onDrop(k,$,c)):(s.parentNode.appendChild(k),E.onDrop(k,$,c)),!1}return!!(yield E.confirm(k,s))&&(s.subnodes.appendChild(k),E.onDrop(k,$,s),!1)})),B=(g,E)=>{g.preventDefault(),g.dataTransfer.dropEffect="move",((s,c)=>{let u=x(s),h=T(s);u.classList.toggle(c.styles.nodeDropBefore,h===A.BEFORE),u.classList.toggle(c.styles.nodeDropInside,h===A.INSIDE),u.classList.toggle(c.styles.nodeDropAfter,h===A.AFTER)})(g,E)},j=(g,E)=>{L(g,E)},U=(g,E)=>{g.target.classList.remove(E.styles.nodeDragging),L(g,E)};class V{constructor(){this.listeners=[]}listen(E,s,c){E.addEventListener(s,c,!1),this.listeners.push({element:E,eventName:s,handler:c})}clear(){this.listeners.forEach((({element:E,eventName:s,handler:c})=>{E.removeEventListener(s,c)})),this.listeners=[]}}let te=g=>`sortableTreeState-${g.replace(/[^\w]+/,"-")}`,O=class{constructor({nodes:g,element:E,renderLabel:s,icons:c,styles:u,lockRootLevel:h,onChange:k,onClick:$,initCollapseLevel:M,confirm:D,disableSorting:q,stateId:W}){this.nodeCollection={},g&&(E&&(this.defineElements(),this.eventBus=new V,this.root=E,this.icons=Object.assign(Object.assign({},n),c),this.styles=Object.assign(Object.assign({},a),u),this.renderLabel=s||i,this.lockRootLevel=h===void 0||h,this.onChange=k||l,this.onClick=$||d,this.confirm=D||m,this.initCollapseLevel=M===void 0?2:M,this.disableSorting=q||!1,E.classList.add(this.styles.tree),this.render({nodes:g,element:E}),W&&(((se,le)=>{let ce=sessionStorage.getItem(te(se));if(!ce)return;let _e=JSON.parse(ce),Ee=(Ce,Te)=>{let[qe,Me]=Te;Ce.element.collapse(qe===0),Me&&Ce.subnodes.forEach(((vt,et)=>{Me[et]!==void 0&&Ee(vt,Me[et])}))};le.forEach(((Ce,Te)=>{Ee(Ce,_e[Te])}))})(W,this.parseTree(this.root)),this.initStateObserver(W))))}getNode(g){return this.nodeCollection[g]}findNode(g,E){let s=Object.values(this.nodeCollection);for(let c=0;c<s.length;c++){let u=s[c],h=u.data;if(g in h&&h[g]==E)return u}return null}onDrop(g,E,s){let c={nodes:this.parseTree(this.root),movedNode:g,srcParentNode:E,targetParentNode:s};s?.collapse(!1),this.onChange(c)}destroy(){var g;this.eventBus.clear(),(g=this.observer)===null||g===void 0||g.disconnect(),this.observer=null}initStateObserver(g){this.observer=new MutationObserver((()=>{((E,s)=>{let c=[],u=h=>{let k=[],$=[h.element.getAttribute("open")?1:0,k];return h.subnodes.forEach((M=>{k.push(u(M))})),$};s.forEach((h=>{c.push(u(h))})),sessionStorage.setItem(te(E),JSON.stringify(c))})(g,this.parseTree(this.root))})),this.observer.observe(this.root,{childList:!0,attributes:!0,subtree:!0})}defineElements(){try{customElements.define(b.TAG_NAME,b)}catch{}}render({nodes:g,element:E},s=0){s++,g.forEach((c=>{let u=b.create({icons:this.icons,styles:this.styles,parent:E,renderLabel:this.renderLabel,data:c.data,onClick:this.onClick,draggable:!this.disableSorting,eventBus:this.eventBus});this.disableSorting||((h,k)=>{let $={dragstart:I,drop:H,dragover:B,dragend:U,dragleave:j};for(let[M,D]of Object.entries($))k.eventBus.listen(h,M,(q=>{D(q,k)}))})(u,this),u.collapse(s>this.initCollapseLevel),this.nodeCollection[u.id]=u,c.nodes&&this.render({nodes:c.nodes,element:u.subnodes},s)}))}parseTree(g){let E=Array.from(g.querySelectorAll(`:scope > ${b.TAG_NAME}`)),s=[];return E.forEach((c=>{s.push({element:c,id:c.id,subnodes:this.parseTree(c.subnodes)})})),s}};return e=e.default})()))});var _a,Bk,Ea,zc=y(()=>{S();_a=o=>{let e=Bk(o),t=(i,n)=>{let a=e[i.url]||[],l=[],d=i;return a.sort((m,f)=>m.index>f.index?1:f.index>m.index?-1:0),a.forEach(m=>{t(m,l)}),n.push({data:d,nodes:l}),n};return t(r.pages["/"],[])},Bk=o=>{let e={};return o.forEach(t=>{let i=t.parentUrl;i&&(typeof e[i]>"u"&&(e[i]=[]),e[i].push(t))}),e},Ea={tree:"am-c-tree",node:"am-c-tree__node",nodeHover:"am-c-tree__node--hover",nodeDragging:"am-c-tree__node--dragging",nodeDropBefore:"am-c-tree__node--drop-before",nodeDropInside:"am-c-tree__node--drop-inside",nodeDropAfter:"am-c-tree__node--drop-after",label:"am-c-tree__label",subnodes:"am-c-tree__subnodes",collapse:"am-c-tree__collapse"}});var Wg={};ae(Wg,{NavTreeComponent:()=>gi});var Kg,Vg,Rk,Pk,Hk,Uk,gi,Xg=y(()=>{Kg=Mt(Dc(),1);S();zc();Y();Vg=o=>{o.error&&ot(o.error),o.reload&&r.reload(),o.redirect&&r.root.setView(o.redirect)},Rk=o=>{let e=o.url==fe()?"am-c-nav__item--active":"",t=r.system.i18n&&o.url==="/"?"globe":r.system.i18n&&o.parentUrl==="/"?"translate":o.private?"eye-slash-fill":"file-earmark-text",i=e?'am-bind="title" am-bind-to="textContent"':"",n=e?'am-bind="publicationState" am-bind-to="am-publication-state"':"";return w`<span class="${"am-c-nav__item"} ${e}" title="${o.url}" ${"am-publication-state"}="${o.publicationState}" ${n} ><am-link class="${"am-c-nav__link"}" ${"am-target"}="${"page"}?url=${encodeURIComponent(o.url)}" ><i class="bi bi-${t}"></i><span>${r.system.i18n&&o.parentUrl==="/"?`${o.url.replace("/","")} &mdash; `:""}<span ${i}>$${o.title}</span></span></am-link></span>`},Pk=async o=>{let{movedNode:e,targetParentNode:t,srcParentNode:i}=o,n=t.data,a=i.data,l=e.data.url,d=[],m=re("sortable-tree-node",R(gi.TAG_NAME)),f=A=>{m.forEach(T=>{T.setAttribute("draggable",A)})};if(f("false"),t.subnodesData.forEach(A=>{d.push(A.path)}),n.path!=a.path){let A=r.addNavigationLock(),T=n.url,x=await ue("PageController::move",{url:l,targetPage:T,layout:JSON.stringify(d)});f("true"),r.removeNavigationLock(A),Vg(x);return}let v=r.addNavigationLock(),b=n.path,C=await ue("PageController::updateIndex",{url:l,parentPath:b,layout:JSON.stringify(d)});f("true"),r.removeNavigationLock(v),Vg(C)},Hk=async()=>!r.navigationIsLocked,Uk=ke(o=>{o.target.closest("sortable-tree-node").collapse(!1)},1200),gi=class extends F{static TAG_NAME="am-nav-tree";tree;connectedCallback(){this.listen(window,"AutomadAppStateChange",this.init.bind(this)),this.init(),this.listen(this,"dragenter",Uk,"sortable-tree-node")}init(){this.classList.add("am-c-nav"),this.tree?.destroy(),this.innerHTML="";let e=Object.values(r.pages);p("span",["am-c-nav__label"],{},this,w`<span class="${"am-u-flex"} ${"am-u-flex--gap"} ${"am-u-flex--align-center"}"> ${r.text("sidebarPages")} &mdash; ${e.length}</span>`);let t=fe(),i=_a(e);if(this.tree=new Kg.default({nodes:i,element:this,initCollapseLevel:1,styles:Ea,stateId:"nav",renderLabel:Rk,onChange:Pk,confirm:Hk}),t){let n=this.tree.findNode("url",t);n?.reveal(),n?.scrollIntoView(!0)}Re.connectElements(this)}disconnectedCallback(){this.tree?.destroy(),super.disconnectedCallback()}};customElements.define(gi.TAG_NAME,gi)});var jk={};var Pi,Yg=y(()=>{S();Y();Pi=class extends F{static TAG_NAME="am-number-unit-input";value;connectedCallback(){this.value=this.getAttribute("value"),this.removeAttribute("value"),this.render(this.value)}render(e){this.classList.add("am-f-group","am-f-number-unit");let t=e?.replace(/([^\d\.]+)/g,"")??"",i=e?.replace(/.+?(px|em|rem|%|vh|vw)/g,"$1")||"px",n=p("input",["am-f-input","am-f-group__item"],{type:"number",step:"0.001",value:t},this),a=be([{value:"px"},{value:"%"},{value:"rem"},{value:"em"},{value:"vh"},{value:"vw"}],i,this,null,null,"",["am-f-group__item"]),l=d=>{d.stopPropagation(),this.value=n.value.length>0?n.value+a.value:"",X("change",this)};this.listen(this,"change input",ke(l,100),"input, select")}};Tt.add(Pi.TAG_NAME);customElements.define(Pi.TAG_NAME,Pi)});var Gk={};var Jg,qk,Fc,Zg=y(()=>{Jg=Mt(Dc(),1);S();zc();Y();Lt();qk=o=>{let e=o.private?"eye-slash-fill":"folder2";return w`<label class="${"am-c-nav__item"}"><input type="radio" name="targetPage" value="${o.url}" tabindex="0" /><span class="${"am-c-nav__link"}"><am-icon-text ${"am-icon"}="${e}" ${"am-text"}="$${o.title}" ></am-icon-text></span></label>`},Fc=class extends F{tree;get hideCurrent(){return this.hasAttribute("am-hide-current")}connectedCallback(){this.listen(window,"AutomadAppStateChange",this.init.bind(this)),this.init()}init(){this.tree?.destroy(),this.innerHTML="";let e=this.filterPages(Object.values(r.pages)),t=_a(e);this.tree=new Jg.default({nodes:t,element:this,initCollapseLevel:1,disableSorting:!0,styles:Ea,renderLabel:qk});let i=this.tree.findNode("url",fe())||this.tree.findNode("url","/");i.reveal();let n=this.closest(ze.TAG_NAME);n&&this.listen(n,"AutomadModalOpen",()=>{R("input",i.label).checked=!0})}filterPages(e){if(this.hideCurrent){let t=fe(),i=new RegExp(`^${t}(/|$)`);return e.filter(n=>n.url.match(i)==null)}return e}disconnectedCallback(){this.tree?.destroy(),super.disconnectedCallback()}};customElements.define("am-page-select-tree",Fc)});var Qg={};ae(Qg,{RootComponent:()=>Ca});var Ca,ev=y(()=>{S();Y();fa();Ca=class extends F{static get observedAttributes(){return["base-index","base-url"]}connectedCallback(){this.init()}setView(e){wo.toggle(!1),e&&window.history.pushState(null,null,e),this.update()}async init(){this.classList.add("am-c-root"),wd(),zi(li()),this.progressBar(10),await r.bootstrap(this),await this.update(),Ne(window,"popstate",()=>{r.root.update()}),xd(),yd(),this.validateSession(),lt.addListeners()}async update(){X("AutomadBeforeUpdateView",window);let e=re("[am-modal-open]");e&&(e.forEach(n=>{n.close()}),await new Promise(n=>setTimeout(n,250))),this.progressBar(20),this.removeListeners(),r.isReady=!1,Xu(),Re.reset(),lt.new(),await r.updateState(),this.progressBar(40);let t=Hu();if(!t)return;let i=p(Be(t),[],{}).init();this.progressBar(60),await Cr(),this.progressBar(80),this.innerHTML="",this.appendChild(i),await Cr(),Re.connectElements(this),Vu(this),r.checkForSystemUpdate(),r.checkForOutdatedPackages(),r.restoreFilterAndScroll(),this.progressBar(100),r.isReady=!0}async validateSession(){let e=async()=>{if(document.visibilityState==="visible"){let t=await ue("SessionController::validate",{csrfTokenValidation:1});(t.code||403)===403&&r.reload(),t.redirect&&this.setView(t.redirect)}};Ne(document,"visibilitychange",e.bind(this)),Ne(window,"focus",e.bind(this))}progressBar(e){if(this.classList.toggle("am-c-root--loading",e>0&&e<100),e>0){this.style.setProperty("--progress",`${e}%`);return}setTimeout(()=>{this.style.setProperty("--progress",`${e}%`)},0)}};customElements.define("am-root",Ca)});var Vk={};var Oc,tv=y(()=>{S();Y();Oc=class extends F{connectedCallback(){this.classList.add("am-c-spinner")}};customElements.define("am-spinner",Oc)});var Kk={};var Nc,ov=y(()=>{S();Y();Nc=class extends F{connectedCallback(){this.classList.add("am-u-flex"),this.render(),this.listen(window,"AutomadUndoStackUpdate",this.render.bind(this))}render(){this.innerHTML="";let e=$r(),t=p("span",["am-c-navbar__item","am-c-navbar__item--glyph"],{"am-tooltip":`${r.text("undoTitle")}<br>${e} + Z`},this,"\u21A9"),i=p("span",["am-c-navbar__item","am-c-navbar__item--glyph"],{"am-tooltip":`${r.text("redoTitle")}<br>${e} + Y`},this,"\u21AA"),{undo:n,redo:a}=lt.size;n==0&&(t.classList.add("am-u-text-muted"),t.setAttribute("disabled","")),a==0&&(i.classList.add("am-u-text-muted"),i.setAttribute("disabled","")),this.listen(t,"click",lt.undoHandler),this.listen(i,"click",lt.redoHandler)}};customElements.define("am-undo-buttons",Nc)});Promise.resolve().then(()=>tf());Promise.resolve().then(()=>of());Promise.resolve().then(()=>nf());Promise.resolve().then(()=>af());Promise.resolve().then(()=>sf());Promise.resolve().then(()=>cf());Promise.resolve().then(()=>mf());Promise.resolve().then(()=>pf());Promise.resolve().then(()=>uf());Promise.resolve().then(()=>Dr());Promise.resolve().then(()=>ff());Promise.resolve().then(()=>bf());Promise.resolve().then(()=>gf());Promise.resolve().then(()=>vf());Promise.resolve().then(()=>wf());Promise.resolve().then(()=>_f());Promise.resolve().then(()=>Ef());Promise.resolve().then(()=>Af());Promise.resolve().then(()=>Sf());Promise.resolve().then(()=>Lf());Promise.resolve().then(()=>If());Promise.resolve().then(()=>Df());Promise.resolve().then(()=>al());Promise.resolve().then(()=>Ff());Promise.resolve().then(()=>Of());Promise.resolve().then(()=>Nf());Promise.resolve().then(()=>Bf());Promise.resolve().then(()=>Rf());Promise.resolve().then(()=>Hf());Promise.resolve().then(()=>qf());Promise.resolve().then(()=>Jf());Promise.resolve().then(()=>Qf());Promise.resolve().then(()=>eh());Promise.resolve().then(()=>nh());Promise.resolve().then(()=>lh());Promise.resolve().then(()=>ch());Promise.resolve().then(()=>dh());Promise.resolve().then(()=>ph());Promise.resolve().then(()=>$t());Promise.resolve().then(()=>xl());Promise.resolve().then(()=>_l());Promise.resolve().then(()=>hh());Promise.resolve().then(()=>vh());Promise.resolve().then(()=>yh());Promise.resolve().then(()=>kh());Promise.resolve().then(()=>_h());Promise.resolve().then(()=>Ch());Promise.resolve().then(()=>Xr());Promise.resolve().then(()=>Mh());Promise.resolve().then(()=>hl());Promise.resolve().then(()=>Ih());Promise.resolve().then(()=>zh());Promise.resolve().then(()=>Fh());Promise.resolve().then(()=>Oh());Promise.resolve().then(()=>Nh());Promise.resolve().then(()=>Bh());Promise.resolve().then(()=>Rh());Promise.resolve().then(()=>Ph());Promise.resolve().then(()=>Hh());Promise.resolve().then(()=>Uh());Promise.resolve().then(()=>jh());Promise.resolve().then(()=>qh());Promise.resolve().then(()=>Gh());Promise.resolve().then(()=>Vh());Promise.resolve().then(()=>Kh());Promise.resolve().then(()=>Wh());Promise.resolve().then(()=>Lt());Promise.resolve().then(()=>Xh());Promise.resolve().then(()=>Yh());Promise.resolve().then(()=>Jh());Promise.resolve().then(()=>Zh());Promise.resolve().then(()=>Qh());Promise.resolve().then(()=>tb());Promise.resolve().then(()=>ob());Promise.resolve().then(()=>nb());Promise.resolve().then(()=>rb());Promise.resolve().then(()=>Xl());Promise.resolve().then(()=>Yl());Promise.resolve().then(()=>Zl());Promise.resolve().then(()=>db());Promise.resolve().then(()=>ec());Promise.resolve().then(()=>pb());Promise.resolve().then(()=>ub());Promise.resolve().then(()=>gb());Promise.resolve().then(()=>xb());Promise.resolve().then(()=>kb());Promise.resolve().then(()=>Cb());Promise.resolve().then(()=>Sb());Promise.resolve().then(()=>Lb());Promise.resolve().then(()=>Db());Promise.resolve().then(()=>Fb());Promise.resolve().then(()=>Nb());Promise.resolve().then(()=>Rb());Promise.resolve().then(()=>ig());Promise.resolve().then(()=>rg());Promise.resolve().then(()=>fa());Promise.resolve().then(()=>sg());Promise.resolve().then(()=>bi());Promise.resolve().then(()=>dg());Promise.resolve().then(()=>pg());Promise.resolve().then(()=>ha());Promise.resolve().then(()=>fg());Promise.resolve().then(()=>hg());Promise.resolve().then(()=>bg());Promise.resolve().then(()=>gg());Promise.resolve().then(()=>vg());Promise.resolve().then(()=>xg());Promise.resolve().then(()=>yg());Promise.resolve().then(()=>wg());Promise.resolve().then(()=>kg());Promise.resolve().then(()=>Tg());Promise.resolve().then(()=>_g());Promise.resolve().then(()=>Eg());Promise.resolve().then(()=>Qr());Promise.resolve().then(()=>Ag());Promise.resolve().then(()=>Sg());Promise.resolve().then(()=>Wr());Promise.resolve().then(()=>$g());Promise.resolve().then(()=>Lg());Promise.resolve().then(()=>Ig());Promise.resolve().then(()=>Dg());Promise.resolve().then(()=>br());Promise.resolve().then(()=>zg());Promise.resolve().then(()=>Fg());Promise.resolve().then(()=>Og());Promise.resolve().then(()=>Rn());Promise.resolve().then(()=>Ng());Promise.resolve().then(()=>jn());Promise.resolve().then(()=>Bg());Promise.resolve().then(()=>Rg());Promise.resolve().then(()=>Ug());Promise.resolve().then(()=>jg());Promise.resolve().then(()=>qg());Promise.resolve().then(()=>Gg());Promise.resolve().then(()=>Xg());Promise.resolve().then(()=>Yg());Promise.resolve().then(()=>Zg());Promise.resolve().then(()=>ev());Promise.resolve().then(()=>Ya());Promise.resolve().then(()=>tv());Promise.resolve().then(()=>ov());
